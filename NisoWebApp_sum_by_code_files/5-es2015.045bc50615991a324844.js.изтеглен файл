(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+QWa":function(e,t,r){"use strict";function i(){return"_"+Math.random().toString(36).substr(2,9)}r.d(t,"a",(function(){return i}))},"/Bay":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));let i=(()=>{class e{constructor(e){e&&(this.id=e.id,this.name=e.name,this.nameEn=e.nameEn,this.identifier=e.identifier,this.identifierType=e.identifierType)}get label(){return`${this.identifier}; ${this.name}`}}return e.url="Public/VwTrnOrganizations",e})()},"9zSO":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("mrSG"),n=r("hnrn");let a=(()=>{class e{constructor(e){e&&(this.distEknm=e.distEknm,this.popEknm=e.popEknm,this.popName=e.popName,this.popNameEn=e.popNameEn,this.status=e.status,this.type=e.type)}get distEknm(){return this.pDistEknm}set distEknm(e){this.pDistEknm=e}get popEknm(){return this.pPopEknm}set popEknm(e){this.pPopEknm=e}get popName(){return this.pPopName}set popName(e){this.pPopName=e}get popNameEn(){return this.pPopNameEn}set popNameEn(e){this.pPopNameEn=e}get status(){return this.pStatus}set status(e){this.pStatus=e}get type(){return this.pType}set type(e){this.pType=e}get formatedPopName(){return`${this.type.trim()} ${this.popName.trim()} `}}return e.url="Popular",e.publicUrl="Public/Popular",Object(i.b)([Object(n.b)({alias:"distEknm"})],e.prototype,"pDistEknm",void 0),Object(i.b)([Object(n.b)({alias:"popEknm"})],e.prototype,"pPopEknm",void 0),Object(i.b)([Object(n.b)({alias:"popName"})],e.prototype,"pPopName",void 0),Object(i.b)([Object(n.b)({alias:"popNameEn"})],e.prototype,"pPopNameEn",void 0),Object(i.b)([Object(n.b)({alias:"status"})],e.prototype,"pStatus",void 0),Object(i.b)([Object(n.b)({alias:"type"})],e.prototype,"pType",void 0),e})()},Ofwd:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var i=r("fXoL"),n=r("3Pt+"),a=r("F7pt"),s=r("1kSV"),o=r("WMsn"),l=r("Ti29"),d=r("sYmb");let c=(()=>{class e{constructor(){this.formItemDef=null,this.isRequiredToDate=!1,this.onChange=()=>{},this.onTouched=()=>{},this.onValidatorChange=()=>{},this.formItemDef=new a.a}set value(e){this.applyValues(e),this.onChange(this.value),this.onTouched()}get value(){return[this.fromDate,this.toDate]}ngOnInit(){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){}writeValue(e){this.applyValues(e)}registerOnValidatorChange(e){}validate(e){if(!this.formItemDef.isRequired||null!=e.value&&0!==(null==e?void 0:e.value.length)){if(!e.value)return null;if(null==(null==e?void 0:e.value[0]))return{required:!0};if(null==(null==e?void 0:e.value[1])&&this.isRequiredToDate)return{required:!0}}return null}onDateSelectionFrom(e){this.onChange([this.fromDate,this.toDate])}onDateSelectionTo(e){this.onChange([this.fromDate,this.toDate])}onDateChangedFrom(e){const t=this.tryToConvertStringToDate(e.target.value);this.fromDate=t,this.onChange([this.fromDate,this.toDate])}onDateChangedTo(e){const t=this.tryToConvertStringToDate(e.target.value);this.toDate=t,this.onChange([this.fromDate,this.toDate])}clearFromValue(){this.clearValue(0)}clearToValue(){this.clearValue(1)}clearValue(e){switch(e){case 0:this.fromDate=null;break;case 1:this.toDate=null}}applyValues(e){let t=0;switch(null!=e&&(t=e.length),t){case 0:this.fromDate=null,this.toDate=null;break;case 1:this.fromDate=e[0],this.toDate=null;break;case 2:this.fromDate=e[0],this.toDate=e[1]}}tryToConvertStringToDate(e){let t=null;if(null==e||0===e.length)return t;const r=e.split(".");if(3!==r.length)return t;if(Number.isNaN(r[0])||Number.isNaN(r[1])||Number.isNaN(r[2]))return t;try{const e=new Date(parseInt(r[2],10),parseInt(r[1],10)-1,parseInt(r[0],10),0,0,0);t={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}}catch(i){t=null}return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["app-fi-input-date-period"]],inputs:{formItemDef:"formItemDef",isRequiredToDate:"isRequiredToDate",value:"value"},features:[i.yb([{provide:n.n,useExisting:Object(i.S)(()=>e),multi:!0},{provide:n.m,useExisting:Object(i.S)(()=>e),multi:!0},{provide:s.h,useClass:o.a},l.a,{provide:s.k,useClass:l.b}])],decls:36,vars:38,consts:[[1,"form-group"],[3,"for"],[1,"input-group","mb-1"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-circle","text-dark","fi-bullet"],["placeholder","\u0434\u0434.\u043c\u043c.\u0433\u0433\u0433\u0433","ngbDatepicker","","autocomplete","off","readonly","","container","body",1,"form-control",3,"id","name","placeholder","required","disabled","maxDate","ngModel","ngModelChange","change","dateSelect","click"],["dfrom","ngbDatepicker"],[1,"input-group-append","mr-1"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"disabled","click"],[1,"far","fa-calendar-alt"],[1,"fas","fa-backspace"],["ngbDatepicker","","autocomplete","off","s","","readonly","","container","body",1,"form-control",3,"id","name","placeholder","required","minDate","disabled","ngModel","ngModelChange","change","dateSelect","click"],["dto","ngbDatepicker"],[1,"input-group-append"],[1,"invalid-feedback"],["id","dp-from-Help",1,"form-text","text-muted"]],template:function(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",0),i.Sb(1,"label",1),i.Gc(2),i.hc(3,"translate"),i.Rb(),i.Sb(4,"div",2),i.Sb(5,"div",3),i.Sb(6,"span",4),i.Nb(7,"i",5),i.Rb(),i.Rb(),i.Sb(8,"span",4),i.Gc(9),i.hc(10,"translate"),i.Rb(),i.Sb(11,"input",6,7),i.ec("ngModelChange",(function(e){return t.fromDate=e}))("change",(function(e){return t.onDateChangedFrom(e)}))("dateSelect",(function(e){return t.onDateSelectionFrom(e)}))("click",(function(){return i.wc(e),i.vc(12).toggle()})),i.hc(13,"translate"),i.Rb(),i.Sb(14,"div",8),i.Sb(15,"button",9),i.ec("click",(function(){return i.wc(e),i.vc(12).toggle()})),i.Nb(16,"i",10),i.Rb(),i.Sb(17,"button",9),i.ec("click",(function(){return t.clearFromValue()})),i.Nb(18,"i",11),i.Rb(),i.Rb(),i.Sb(19,"span",4),i.Gc(20),i.hc(21,"translate"),i.Rb(),i.Sb(22,"input",12,13),i.ec("ngModelChange",(function(e){return t.toDate=e}))("change",(function(e){return t.onDateChangedTo(e)}))("dateSelect",(function(e){return t.onDateSelectionTo(e)}))("click",(function(){return i.wc(e),i.vc(23).toggle()})),i.hc(24,"translate"),i.Rb(),i.Sb(25,"div",14),i.Sb(26,"button",9),i.ec("click",(function(){return i.wc(e),i.vc(23).toggle()})),i.Nb(27,"i",10),i.Rb(),i.Sb(28,"button",9),i.ec("click",(function(){return t.clearToValue()})),i.Nb(29,"i",11),i.Rb(),i.Rb(),i.Sb(30,"div",15),i.Gc(31),i.hc(32,"translate"),i.Rb(),i.Rb(),i.Sb(33,"small",16),i.Gc(34),i.hc(35,"translate"),i.Rb(),i.Rb()}2&e&&(i.zb(1),i.mc("for",t.formItemDef.domId),i.zb(1),i.Hc(i.ic(3,24,t.formItemDef.labelText)),i.zb(7),i.Hc(i.ic(10,26,"fi.components.datePeriod.from")),i.zb(2),i.nc("placeholder",i.ic(13,28,t.formItemDef.placeHolderText)),i.mc("id","date-from-"+t.formItemDef.domId)("name","date-from-"+t.formItemDef.domName)("required",t.formItemDef.isRequired)("disabled",t.formItemDef.isDisabled)("maxDate",t.toDate)("ngModel",t.fromDate),i.zb(4),i.mc("disabled",t.formItemDef.isDisabled),i.zb(2),i.mc("disabled",t.formItemDef.isDisabled),i.zb(3),i.Hc(i.ic(21,30,"fi.components.datePeriod.to")),i.zb(2),i.nc("placeholder",i.ic(24,32,t.formItemDef.placeHolderText)),i.mc("id","date-to-"+t.formItemDef.domId)("name","date-to-"+t.formItemDef.domName)("required",t.formItemDef.isRequired)("minDate",t.fromDate)("disabled",t.formItemDef.isDisabled)("ngModel",t.toDate),i.zb(4),i.mc("disabled",t.formItemDef.isDisabled),i.zb(2),i.mc("disabled",t.formItemDef.isDisabled),i.zb(3),i.Ic(" ",i.ic(32,34,"fi.components.datePeriod.error")," "),i.zb(3),i.Hc(i.ic(35,36,t.formItemDef.helpText)))},directives:[s.s,n.c,n.z,n.o,n.r],pipes:[d.d],styles:[""]}),e})()},SkKo:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("mrSG"),n=r("hnrn");let a=(()=>{class e{constructor(e){e&&(this.code=e.code,this.description=e.description,this.domain=e.domain,this.enDescription=e.enDescription,this.isValid=e.isValid),this.isSelected=!1}get code(){return this.pCode}set code(e){this.pCode=e}get description(){return this.pDescription}set description(e){this.pDescription=e}get domain(){return this.pDomain}set domain(e){this.pDomain=e}get enDescription(){return this.pEnDescription}set enDescription(e){this.pEnDescription=e}get isValid(){return this.pIsValid}set isValid(e){this.pIsValid=e}get isSelected(){return this.pIsSelected}set isSelected(e){this.pIsSelected=e}get label(){return`${this.pCode}. ${this.pDescription}`}}return e.url="TcCommonCodes",e.urlPublic="Public/TcCommonCodes",e.urlDomain="TcCommonCodes/domain",e.publicUrlDomain="Public/TcCommonCodes/domain",Object(i.b)([Object(n.b)({alias:"code"})],e.prototype,"pCode",void 0),Object(i.b)([Object(n.b)({alias:"description"})],e.prototype,"pDescription",void 0),Object(i.b)([Object(n.b)({alias:"domain"})],e.prototype,"pDomain",void 0),Object(i.b)([Object(n.b)({alias:"enDescription"})],e.prototype,"pEnDescription",void 0),Object(i.b)([Object(n.b)({alias:"isValid"})],e.prototype,"pIsValid",void 0),e})()},TTlI:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var i=r("fXoL"),n=r("3Pt+"),a=r("F7pt"),s=r("ofXK"),o=r("sYmb");function l(e,t){if(1&e&&(i.Sb(0,"label",7),i.Gc(1),i.hc(2,"translate"),i.Rb()),2&e){const e=i.gc();i.mc("for",e.formItemDef.domId),i.zb(1),i.Hc(i.ic(2,2,e.formItemDef.labelText))}}function d(e,t){if(1&e&&(i.Qb(0),i.Nb(1,"i",11),i.Pb()),2&e){const e=i.gc(2);i.zb(1),i.mc("ngClass",null!=e.formItemDef.prependIcon&&e.formItemDef.prependIcon.length>0?e.formItemDef.prependIcon:"fas fa-circle text-dark fi-bullet")}}function c(e,t){if(1&e&&(i.Qb(0),i.Gc(1),i.Pb()),2&e){const e=i.gc(2);i.zb(1),i.Hc(e.formItemDef.prependPrefix)}}function p(e,t){if(1&e&&(i.Sb(0,"div",8),i.Sb(1,"span",9),i.Ec(2,d,2,1,"ng-container",10),i.Ec(3,c,2,1,"ng-container",10),i.Rb(),i.Rb()),2&e){const e=i.gc();i.zb(2),i.mc("ngIf",!e.formItemDef.showPrependPrefix),i.zb(1),i.mc("ngIf",e.formItemDef.showPrependPrefix)}}let m=(()=>{class e{constructor(){this.valueEmitter=new i.n,this.formItemDef=null,this.showPrepend=!0,this.onChange=()=>{},this.onTouched=()=>{},this.onValidatorChange=()=>{},this.formItemDef=new a.a}set value(e){this.val=e,this.onChange(this.val),this.onTouched()}get value(){return this.val}ngOnInit(){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){}writeValue(e){this.value=e}registerOnValidatorChange(e){}validate(e){if(this.valueEmitter.emit(e.value),this.formItemDef.isRequired){if(this.additionalValidator&&this.additionalValidator(e.value))return{required:!0};if(null==e.value||0===e.value.length)return{required:!0}}return null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["app-fi-input-text"]],inputs:{additionalValidator:"additionalValidator",formItemDef:"formItemDef",value:"value",showPrepend:"showPrepend"},outputs:{valueEmitter:"valueEmitter"},features:[i.yb([{provide:n.n,useExisting:Object(i.S)(()=>e),multi:!0},{provide:n.m,useExisting:Object(i.S)(()=>e),multi:!0}])],decls:12,vars:18,consts:[[1,"form-group"],[3,"for",4,"ngIf"],[1,"input-group","mb-1"],["class","input-group-prepend",4,"ngIf"],["type","text","aria-label","label","autocomplete","off",1,"form-control",3,"id","name","placeholder","required","disabled","pattern","ngModel","readOnly","ngModelChange"],[1,"invalid-feedback"],["id","input-text-1-Help",1,"form-text","text-muted"],[3,"for"],[1,"input-group-prepend"],[1,"input-group-text"],[4,"ngIf"],[3,"ngClass"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Ec(1,l,3,4,"label",1),i.Sb(2,"div",2),i.Ec(3,p,4,2,"div",3),i.Sb(4,"input",4),i.ec("ngModelChange",(function(e){return t.value=e})),i.hc(5,"translate"),i.Rb(),i.Sb(6,"div",5),i.Gc(7),i.hc(8,"translate"),i.Rb(),i.Rb(),i.Sb(9,"small",6),i.Gc(10),i.hc(11,"translate"),i.Rb(),i.Rb()),2&e&&(i.zb(1),i.mc("ngIf",null!==t.formItemDef.labelText),i.zb(2),i.mc("ngIf",t.showPrepend),i.zb(1),i.nc("placeholder",i.ic(5,12,t.formItemDef.placeHolderText)),i.mc("id",t.formItemDef.domId)("name",t.formItemDef.domName)("required",t.formItemDef.isRequired)("disabled",t.formItemDef.isDisabled)("pattern",t.formItemDef.pattern)("ngModel",t.value)("readOnly",t.formItemDef.readonly),i.zb(3),i.Ic(" ",i.ic(8,14,"fi.components.text.error")," "),i.zb(3),i.Hc(i.ic(11,16,t.formItemDef.helpText)))},directives:[s.u,n.c,n.z,n.v,n.o,n.r,s.r],pipes:[o.d],styles:[""]}),e})()},ey6I:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("mrSG"),n=r("hnrn");let a=(()=>{class e{constructor(e){e&&(this.distEknm=e.distEknm,this.distName=e.distName,this.distNameEn=e.distNameEn,this.distNumb=e.distNumb,this.reCode=e.reCode,this.riosCode=e.riosCode,this.terCode=e.terCode)}get distEknm(){return this.pDistEknm}set distEknm(e){this.pDistEknm=e}get distName(){return this.pDistName}set distName(e){this.pDistName=e}get distNameEn(){return this.pDistNameEn}set distNameEn(e){this.pDistNameEn=e}get distNumb(){return this.pDistNumb}set distNumb(e){this.pDistNumb=e}get reCode(){return this.pReCode}set reCode(e){this.pReCode=e}get riosCode(){return this.pRiosCode}set riosCode(e){this.pRiosCode=e}get terCode(){return this.pTerCode}set terCode(e){this.pTerCode=e}}return e.url="District",e.publicUrl="Public/District",Object(i.b)([Object(n.b)({alias:"distEknm"})],e.prototype,"pDistEknm",void 0),Object(i.b)([Object(n.b)({alias:"distName"})],e.prototype,"pDistName",void 0),Object(i.b)([Object(n.b)({alias:"distNameEn"})],e.prototype,"pDistNameEn",void 0),Object(i.b)([Object(n.b)({alias:"distNumb"})],e.prototype,"pDistNumb",void 0),Object(i.b)([Object(n.b)({alias:"reCode"})],e.prototype,"pReCode",void 0),Object(i.b)([Object(n.b)({alias:"riosCode"})],e.prototype,"pRiosCode",void 0),Object(i.b)([Object(n.b)({alias:"terCode"})],e.prototype,"pTerCode",void 0),e})()},lz7R:function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var i=r("fXoL"),n=r("3Pt+"),a=r("noCF");class s{constructor(){this.eventType=null,this.data=null}get eventType(){return this.pEventType}set eventType(e){this.pEventType=e}get data(){return this.pData}set data(e){this.pData=e}}class o{constructor(){}get senderDomName(){return this.pSenderDomName}set senderDomName(e){this.pSenderDomName=e}get currentSenderValue(){return this.pCurrentSenderValue}set currentSenderValue(e){this.pCurrentSenderValue=e}}var l=function(e){return e.UNKNOWN="unknown",e.DROPDOWN_VALUE_CHANGED="dropdown_value_changed",e}({}),d=r("8Lb4"),c=r("pH0c"),p=r("m/ia"),m=r("ZRIf"),u=r("ofXK"),h=r("ZOsW"),f=r("sYmb");function b(e,t){if(1&e&&(i.Sb(0,"label",10),i.Gc(1),i.hc(2,"translate"),i.Rb()),2&e){const e=i.gc();i.mc("for",e.formItemDef.domId),i.zb(1),i.Hc(i.ic(2,2,e.formItemDef.labelText))}}function g(e,t){if(1&e&&(i.Qb(0),i.Nb(1,"i",11),i.Pb()),2&e){const e=i.gc();i.zb(1),i.mc("ngClass",null!=e.formItemDef.prependIcon&&e.formItemDef.prependIcon.length>0?e.formItemDef.prependIcon:"fas fa-circle text-dark fi-bullet")}}function D(e,t){if(1&e&&(i.Qb(0),i.Gc(1),i.Pb()),2&e){const e=i.gc();i.zb(1),i.Hc(e.formItemDef.prependPrefix)}}function v(e,t){if(1&e&&(i.Sb(0,"small",9),i.Gc(1),i.Rb()),2&e){const e=i.gc();i.zb(1),i.Jc("\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",e.pageModel.currentPage+1," \u043e\u0442 ",e.pageModel.maxPageCount+1,"")}}const I=function(e){return{"is-invalid":e}};let C=(()=>{class e{constructor(e,t){this.fiEventService=e,this.crudService=t,this.dataItems=[],this.hasError=!1,this.loading=!1,this.onParentFormComponentSubscr=null,this.senderValue=null,this.dropDownHelper=null,this.loadInitValue=!1,this.clearItemEmitter=new i.n,this.rowPerPage=null,this.externalDataItems=null,this.formItemDef=null,this.valueEmitter=new i.n,this.onChange=()=>{},this.onTouched=()=>{},this.onValidatorChange=()=>{},this.formItemDef=new a.a,this.pageModel=new d.a,this.dropDownHelper=new c.a}set value(e){if(this.val=e,this.onChange(this.val),this.onTouched(),this.formItemDef.fireEventAsParent&&null!=this.formItemDef.domName){const e=new s,t=new o;t.currentSenderValue=this.val,t.senderDomName=this.formItemDef.domName,e.eventType=l.DROPDOWN_VALUE_CHANGED,e.data=t,this.fiEventService.parentControlValueChanged(e)}}get value(){return this.val}ngOnInit(){null!=this.rowPerPage&&this.rowPerPage>0&&(this.pageModel.rowsPerPage=this.rowPerPage),this.dropDownHelper.filterClause=this.formItemDef.filterClause,this.dropDownHelper.isWhere=this.formItemDef.isWhere,this.dropDownHelper.searchFields=this.formItemDef.searchFields,this.dropDownHelper.valueFieldName=this.valueFieldName,this.dropDownHelper.initValue=this.val,null!=this.formItemDef.parentDomName?this.onParentFormComponentSubscr=this.fiEventService.onComponentValueChanged.subscribe(e=>{null!=e&&e.eventType===l.DROPDOWN_VALUE_CHANGED&&e.data.senderDomName===this.formItemDef.parentDomName&&this.onParentComponentChanged(e)}):this.loadData()}ngOnDestroy(){null!=this.onParentFormComponentSubscr&&this.onParentFormComponentSubscr.unsubscribe()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}registerOnValidatorChange(e){this.onValidatorChange=e}setDisabledState(e){}writeValue(e){this.value=e,this.dropDownHelper.initValue=this.val,this.loadInitValue=!0}validate(e){return!this.formItemDef.isRequired||null!=e.value&&0!==e.value.length?(this.hasError=!1,null):(this.hasError=!0,{required:!0})}onItemChange(e){if(this.valueEmitter.emit(e),this.formItemDef.fireEventAsParent){const e=new s;e.eventType=l.DROPDOWN_VALUE_CHANGED,e.data={},e.data.senderDomName=this.formItemDef.domName,e.data.currentSenderValue=this.value,this.fiEventService.parentControlValueChanged(e)}}onScroll(e){this.loading||this.pageModel.currentPage>=this.pageModel.maxPageCount||e.end+this.pageModel.endOffset>=this.dataItems.length&&(this.pageModel.currentPage++,this.loadData())}onScrollToEnd(){}onSearch(e){if(!this.loading)return 0===e.term.length?(this.clearSearchCriterion(),this.dropDownHelper.searchString=e.term,void this.loadData()):void(e.term.length<3||this.pageModel.currentPage>=this.pageModel.maxPageCount||(this.clearSearchCriterion(),this.dropDownHelper.searchString=e.term,this.loadData()))}onClose(){null!=this.dropDownHelper.searchString&&(this.clearSearchCriterion(),this.loadData())}onClearItem(e){this.clearItemEmitter.emit(e)}clearSearchCriterion(){this.dropDownHelper.searchString=null,this.pageModel.totalRows=0,this.pageModel.currentPage=0}loadData(){if(this.loading)return;if(null==this.formItemDef.dataSource||0===this.formItemDef.dataSource.length)return;const e=this.prepareFilter();this.loading=!0,this.crudService.loadByFind(this.formItemDef.resultDataType,this.formItemDef.dataSource,e,this.pageModel.currentPage*this.pageModel.rowsPerPage,this.pageModel.rowsPerPage,`asc("${this.valueFieldName}")`).subscribe(e=>{if(0===this.pageModel.currentPage?(this.dataItems=e.pageContent,this.pageModel.totalRows=e.totalRows):this.dataItems=this.dataItems.concat(e.pageContent),null!=this.dataItems&&1===this.dataItems.length&&!this.val){const e=new this.formItemDef.resultDataType(this.dataItems[0]);this.value=e[this.valueFieldName]}this.tryToInitControl(),this.removeDuplicatesObjects(),this.loading=!1},e=>{this.loading=!1})}tryToInitControl(){if(!this.loadInitValue)return;if(this.loadInitValue=!1,null==this.val)return;if(null==this.dataItems)return;const e=this.dataItems.find(e=>e[this.valueFieldName]===this.val);if(null!=e)return void this.valueEmitter.emit(e);const t=this.dropDownHelper.createInitValueFilter();this.crudService.loadByFind(this.formItemDef.resultDataType,this.formItemDef.dataSource,t,0,50,null).subscribe(e=>{if(null!=e&&null!=e.pageContent&&(0!==e.pageContent.length&&(this.dataItems=e.pageContent.concat(this.dataItems)),null!=this.dataItems&&1===this.dataItems.length&&!this.val)){const e=new this.formItemDef.resultDataType(this.dataItems[0]);this.value=e[this.valueFieldName]}},e=>{})}removeDuplicatesObjects(){this.dataItems=this.dataItems.filter((e,t,r)=>t===r.findIndex(t=>t[this.valueFieldName]===e[this.valueFieldName]))}prepareFilter(){const e=this.dropDownHelper.createSearchFilter();return null!=this.formItemDef.parentFieldName&&null!=this.senderValue&&(e[this.formItemDef.parentFieldName]=this.senderValue),e}onParentComponentChanged(e){null!=e&&(this.value=null,this.senderValue=e.data.currentSenderValue,this.pageModel.totalRows=0,this.pageModel.currentPage=0,this.loadData())}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(p.a),i.Mb(m.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["app-fi-select-dropdown-cascade"]],inputs:{rowPerPage:"rowPerPage",externalDataItems:"externalDataItems",formItemDef:"formItemDef",labelFieldName:"labelFieldName",valueFieldName:"valueFieldName",value:"value"},outputs:{clearItemEmitter:"clearItemEmitter",valueEmitter:"valueEmitter"},features:[i.yb([{provide:n.n,useExisting:Object(i.S)(()=>e),multi:!0},{provide:n.m,useExisting:Object(i.S)(()=>e),multi:!0}])],decls:16,vars:26,consts:[[1,"form-group"],[3,"for",4,"ngIf"],[1,"input-group","mb-1"],[1,"input-group-prepend"],[1,"input-group-text"],[4,"ngIf"],["appendTo","body","multiple","false",1,"form-control","p-0","m-0",3,"ngClass","id","name","placeholder","required","disabled","items","bindLabel","bindValue","ngModel","multiple","loading","virtualScroll","ngModelChange","scroll","scrollToEnd","search","close","clear","change"],["ng-header-tmp",""],[1,"invalid-feedback"],[1,"form-text","text-muted"],[3,"for"],[3,"ngClass"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Ec(1,b,3,4,"label",1),i.Sb(2,"div",2),i.Sb(3,"div",3),i.Sb(4,"span",4),i.Ec(5,g,2,1,"ng-container",5),i.Ec(6,D,2,1,"ng-container",5),i.Rb(),i.Rb(),i.Sb(7,"ng-select",6),i.ec("ngModelChange",(function(e){return t.value=e}))("scroll",(function(e){return t.onScroll(e)}))("scrollToEnd",(function(){return t.onScrollToEnd()}))("search",(function(e){return t.onSearch(e)}))("close",(function(){return t.onClose()}))("clear",(function(e){return t.onClearItem(e)}))("change",(function(e){return t.onItemChange(e)})),i.hc(8,"translate"),i.Ec(9,v,2,2,"ng-template",7),i.Rb(),i.Sb(10,"div",8),i.Gc(11),i.hc(12,"translate"),i.Rb(),i.Rb(),i.Sb(13,"small",9),i.Gc(14),i.hc(15,"translate"),i.Rb(),i.Rb()),2&e&&(i.zb(1),i.mc("ngIf",null!==t.formItemDef.labelText),i.zb(4),i.mc("ngIf",!t.formItemDef.showPrependPrefix),i.zb(1),i.mc("ngIf",t.formItemDef.showPrependPrefix),i.zb(1),i.nc("placeholder",i.ic(8,18,t.formItemDef.placeHolderText)),i.mc("ngClass",i.qc(24,I,t.hasError))("id",t.formItemDef.domId)("name",t.formItemDef.domName)("required",t.formItemDef.isRequired)("disabled",t.formItemDef.isDisabled)("items",t.dataItems)("bindLabel",t.labelFieldName)("bindValue",t.valueFieldName)("ngModel",t.value)("multiple",t.formItemDef.isMultiSelect)("loading",t.loading)("virtualScroll",!0),i.zb(4),i.Ic(" ",i.ic(12,20,"fi.components.dropdown.error")," "),i.zb(3),i.Hc(i.ic(15,22,t.formItemDef.helpText)))},directives:[u.u,h.a,u.r,n.z,n.o,n.r,h.g],pipes:[f.d],styles:[""]}),e})()},mwl0:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));let i=(()=>{class e{constructor(e){Object.assign(this,e||{})}get terCode(){return this.pTerCode}set terCode(e){this.pTerCode=e}get terName(){return this.pTerName}set terName(e){this.pTerName=e}get terNameEn(){return this.pTerNameEn}set terNameEn(e){this.pTerNameEn=e}}return e.url="Teritory",e.publicUrl="Public/Teritory",e.urlRios="Teritory/rios",e})()},noCF:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var i=r("0Uwp");class n extends i.a{constructor(){super(),this.pParentDomName=null,this.pFireEventAsParent=!1}get parentDomName(){return this.pParentDomName}set parentDomName(e){this.pParentDomName=e}get parentFieldName(){return this.pParentFieldName}set parentFieldName(e){this.pParentFieldName=e}get fireEventAsParent(){return this.pFireEventAsParent}set fireEventAsParent(e){this.pFireEventAsParent=e}static createDefaultDropDownCascadeFormItemDef(){const e=new n;return e.domId="ddc1",e.labelText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435",e.helpText="\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430",e.parentDomName="dd1",e.fireEventAsParent=!0,e}}},ozDz:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r("mrSG"),n=r("hnrn");let a=(()=>{class e{constructor(e){Object.assign(this,e||{})}get id(){return this.pId}set id(e){this.pId=e}get address(){return this.pAddress}set address(e){this.pAddress=e}get coyId(){return this.pCoyId}set coyId(e){this.pCoyId=e}get eknm(){return this.pEknm}set eknm(e){this.pEknm=e}get email(){return this.pEmail}set email(e){this.pEmail=e}get ornId(){return this.pOrnId}set ornId(e){this.pOrnId=e}get postCode(){return this.pPostCode}set postCode(e){this.pPostCode=e}get type(){return this.pType}set type(e){this.pType=e}get webpage(){return this.pWebpage}set webpage(e){this.pWebpage=e}get typePop(){return this.pTypePop}set typePop(e){this.pTypePop=e}get popName(){return this.pPopName}set popName(e){this.pPopName=e}get popEknm(){return this.pEknm}set popEknm(e){this.pEknm=e}get customAddressView(){return`${this.typePop.trim()} ${this.popName}, ${this.address}`}}return e.url="TrnOrnAddresses",e.urlPublic="Public/TrnOrnAddresses",e.adminUrl="TrnOrnAddresses/int",e.nonPrimaryAddressesUrl="TrnOrnAddresses/withPopularData",e.adminNonPrimaryAddressesUrl="TrnOrnAddresses/int/withPopularData",e.byOrnUrl="TrnOrnAddresses/ornId",e.byOrnAndTypeUrl="TrnOrnAddresses/getInfoByIdAndAddressType",Object(i.b)([Object(n.b)({alias:"id"})],e.prototype,"pId",void 0),Object(i.b)([Object(n.b)({alias:"address"})],e.prototype,"pAddress",void 0),Object(i.b)([Object(n.b)({alias:"coyId"})],e.prototype,"pCoyId",void 0),Object(i.b)([Object(n.b)({alias:"eknm"})],e.prototype,"pEknm",void 0),Object(i.b)([Object(n.b)({alias:"email"})],e.prototype,"pEmail",void 0),Object(i.b)([Object(n.b)({alias:"ornId"})],e.prototype,"pOrnId",void 0),Object(i.b)([Object(n.b)({alias:"postCode"})],e.prototype,"pPostCode",void 0),Object(i.b)([Object(n.b)({alias:"type"})],e.prototype,"pType",void 0),Object(i.b)([Object(n.b)({alias:"webpage"})],e.prototype,"pWebpage",void 0),e})()},ra4D:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));class i{constructor(e,t){this.pFieldName=e,this.pFieldType=t}get fieldName(){return this.pFieldName}set fieldName(e){this.pFieldName=e}get fieldType(){return this.pFieldType}set fieldType(e){this.pFieldType=e}}},u1cU:function(e,t,r){"use strict";function i(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(e,t);else{const r=window.URL.createObjectURL(e),i=document.createElement("a");document.body.appendChild(i),i.setAttribute("style","display: none"),i.href=r,i.download=t,i.click(),window.URL.revokeObjectURL(r),i.remove()}}r.d(t,"a",(function(){return i}))},xMVv:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));let i=(()=>{class e{constructor(e){Object.assign(this,e||{})}get distEknm(){return this.pDistEknm}set distEknm(e){this.pDistEknm=e}get distName(){return this.pDistName}set distName(e){this.pDistName=e}get popEknm(){return this.pPopEknm}set popEknm(e){this.pPopEknm=e}get popName(){return this.pPopName}set popName(e){this.pPopName=e}get popType(){return this.pPopType}set popType(e){this.pPopType=e}get riosvCode(){return this.pRiosvCode}set riosvCode(e){this.pRiosvCode=e}get riosvName(){return this.pRiosvName}set riosvName(e){this.pRiosvName=e}get terCode(){return this.pTerCode}set terCode(e){this.pTerCode=e}get terName(){return this.pTerName}set terName(e){this.pTerName=e}}return e.url="WvPopularDistrictTeritory",e.publicUrl="Public/WvPopularDistrictTeritory",e})()}}]);