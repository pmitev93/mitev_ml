(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"8Lb4":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));class a{constructor(){this.pCurrentPage=0,this.pRowsPerPage=50,this.pTotalRows=0}get currentPage(){return this.pCurrentPage}set currentPage(e){this.pCurrentPage=e}get rowsPerPage(){return this.pRowsPerPage}set rowsPerPage(e){this.pRowsPerPage=e}get totalRows(){return this.pTotalRows}set totalRows(e){this.pTotalRows=e}get maxPageCount(){if(null==this.pRowsPerPage||0===this.pRowsPerPage)return 1;let e=parseInt((this.pTotalRows/this.pRowsPerPage).toString(),10);return e!==this.pTotalRows/this.pRowsPerPage&&e++,0===e?e:e-1}get endOffset(){return Math.floor(20*this.pRowsPerPage/100)}get currentPageWithOffset(){return this.currentPage*this.rowsPerPage}}},BHvr:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));class a{constructor(e,t){this.pValue=e,this.pDescription=t}get value(){return this.pValue}set value(e){this.pValue=e}get description(){return this.pDescription}set description(e){this.pDescription=e}}},"Bz/w":function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var a=r("fXoL"),n=r("0Uwp"),i=r("3Pt+"),s=r("8Lb4"),l=r("pH0c"),o=r("m/ia"),u=r("ZRIf"),h=r("ofXK"),c=r("ZOsW"),d=r("sYmb");function m(e,t){if(1&e&&(a.Sb(0,"label",13),a.Gc(1),a.hc(2,"translate"),a.Rb()),2&e){const e=a.gc();a.mc("for",e.formItemDef.domId),a.zb(1),a.Hc(a.ic(2,2,e.formItemDef.labelText))}}function g(e,t){if(1&e&&(a.Qb(0),a.Nb(1,"i",14),a.Pb()),2&e){const e=a.gc();a.zb(1),a.mc("ngClass",null!=e.formItemDef.prependIcon&&e.formItemDef.prependIcon.length>0?e.formItemDef.prependIcon:"fas fa-circle text-dark fi-bullet")}}function p(e,t){if(1&e&&(a.Qb(0),a.Gc(1),a.Pb()),2&e){const e=a.gc();a.zb(1),a.Hc(e.formItemDef.prependPrefix)}}function f(e,t){if(1&e&&(a.Sb(0,"small",12),a.Gc(1),a.Rb()),2&e){const e=a.gc();a.zb(1),a.Jc("\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",e.pageModel.currentPage+1," \u043e\u0442 ",e.pageModel.maxPageCount+1,"")}}function b(e,t){if(1&e&&a.Gc(0),2&e){const e=t.item,r=a.gc();a.Ic(" ",(null==e[r.labelFieldName]?null:e[r.labelFieldName].length)>80?e[r.labelFieldName].substring(0,80):e[r.labelFieldName]," ")}}function D(e,t){if(1&e&&(a.Sb(0,"div"),a.Gc(1),a.Rb()),2&e){const e=t.item,r=a.gc();a.zb(1),a.Hc(e[r.labelFieldName])}}const S=function(e){return{"is-invalid":e}};let w=(()=>{class e{constructor(e,t){this.fiEventService=e,this.crudService=t,this.dataItems=[],this.hasError=!1,this.loading=!1,this.externalDataMode=!1,this.dropDownHelper=null,this.loadInitValue=!1,this.isAddToSelectEnabled=!1,this.formItemDef=null,this.valueEmitter=new a.n,this.clearItemEmitter=new a.n,this.startSearchEmitter=new a.n,this.changePageEmitter=new a.n,this.onChange=()=>{},this.onTouched=()=>{},this.onValidatorChange=()=>{},this.addTagPromise=()=>{},this.showPrepend=!0,this.formItemDef=new n.a,this.pageModel=new s.a,this.dropDownHelper=new l.a}set externalDataItems(e){this.dataItems=e,this.externalDataMode=!0}set rowsPerPage(e){e&&(this.pageModel.rowsPerPage=e)}set currentPage(e){e&&(this.pageModel.currentPage=e)}set totalRows(e){e&&(this.pageModel.totalRows=e)}set value(e){this.val=e,this.onChange(this.val),this.onTouched()}get value(){return this.val}ngOnInit(){this.dropDownHelper.filterClause=this.formItemDef.filterClause,this.dropDownHelper.isWhere=this.formItemDef.isWhere,this.dropDownHelper.searchFields=this.formItemDef.searchFields,this.dropDownHelper.valueFieldName=this.valueFieldName,this.dropDownHelper.initValue=this.val,this.processAddTagEvent()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}registerOnValidatorChange(e){this.onValidatorChange=e}setDisabledState(e){}writeValue(e){this.value=e,this.dropDownHelper.initValue=this.val,this.loadInitValue=!0,this.tryToInitControl()}validate(e){return!this.formItemDef.isRequired||null!=e.value&&0!==e.value.length?(this.hasError=!1,null):(this.hasError=!0,{required:!0})}onClearItem(e){this.isAddToSelectEnabled&&(this.externalDataMode=!1),this.clearItemEmitter.emit(e)}onItemChange(e){this.valueEmitter.emit(e)}onSearch(e){if(!this.loading)return 0===e.term.length?(this.clearSearchCriterion(),this.dropDownHelper.searchString=e.term,void this.loadData()):void(e.term.length<3||0!==this.pageModel.maxPageCount&&this.pageModel.currentPage>=this.pageModel.maxPageCount||(this.externalDataMode?this.startSearchEmitter.emit(e.term):(this.clearSearchCriterion(),this.dropDownHelper.searchString=e.term,this.loadData())))}onOpen(e){0===this.pageModel.totalRows&&this.loadData()}onClose(){null!=this.dropDownHelper.searchString&&(this.clearSearchCriterion(),this.loadData())}onScroll(e){this.loading||this.pageModel.currentPage>=this.pageModel.maxPageCount||this.dataItems.length&&e.end+this.pageModel.endOffset>=this.dataItems.length&&(this.pageModel.currentPage++,this.externalDataMode?this.changePageEmitter.emit(this.pageModel):this.loadData())}onScrollToEnd(){}clearSearchCriterion(){this.dropDownHelper.searchString=null,this.pageModel.totalRows=0,this.pageModel.currentPage=0}loadData(){if(this.loading)return;if(this.externalDataMode)return;if(null==this.formItemDef.dataSource||0===this.formItemDef.dataSource.length)return;const e=this.prepareFilter();this.loading=!0,this.crudService.loadByFind(this.formItemDef.resultDataType,this.formItemDef.dataSource,e,this.pageModel.currentPage*this.pageModel.rowsPerPage,this.pageModel.rowsPerPage,`asc("${this.valueFieldName}")`).subscribe(e=>{0===this.pageModel.currentPage?(this.dataItems=e.pageContent,this.pageModel.totalRows=e.totalRows):this.dataItems=this.dataItems.concat(e.pageContent),this.removeDuplicatesObjects(),this.tryToInitControl(),this.loading=!1},e=>{this.loading=!1})}tryToInitControl(){if(!this.loadInitValue)return;if(this.loadInitValue=!1,null==this.val)return;if(null==this.dataItems)return;const e=this.dataItems.find(e=>e[this.valueFieldName]===this.val);if(null!=e)return void this.valueEmitter.emit(e);if(this.externalDataMode)return;if(null==this.formItemDef.dataSource||0===this.formItemDef.dataSource.length)return;const t=this.dropDownHelper.createInitValueFilter();this.crudService.loadByFind(this.formItemDef.resultDataType,this.formItemDef.dataSource,t,0,50,null).subscribe(e=>{null!=e&&null!=e.pageContent&&0!==e.pageContent.length&&(this.dataItems=e.pageContent.concat(this.dataItems))},e=>{})}removeDuplicatesObjects(){this.dataItems=this.dataItems.filter((e,t,r)=>t===r.findIndex(t=>t[this.valueFieldName]===e[this.valueFieldName]))}prepareFilter(){return this.dropDownHelper.createSearchFilter()}processAddTagEvent(){return this.addTagPromise=e=>this.addToSelectValdator?this.addToSelectValdator(e).status?(this.externalDataItems=[{[this.labelFieldName]:e}],this.valueEmitter.emit(e),e):void 0:(this.valueEmitter.emit(e),e)}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.a),a.Mb(u.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-fi-select-dropdown"]],inputs:{isAddToSelectEnabled:"isAddToSelectEnabled",addToSelectValdator:"addToSelectValdator",externalDataItems:"externalDataItems",formItemDef:"formItemDef",rowsPerPage:"rowsPerPage",currentPage:"currentPage",totalRows:"totalRows",labelFieldName:"labelFieldName",valueFieldName:"valueFieldName",value:"value",showPrepend:"showPrepend"},outputs:{valueEmitter:"valueEmitter",clearItemEmitter:"clearItemEmitter",startSearchEmitter:"startSearchEmitter",changePageEmitter:"changePageEmitter"},features:[a.yb([{provide:i.n,useExisting:Object(a.S)(()=>e),multi:!0},{provide:i.m,useExisting:Object(a.S)(()=>e),multi:!0}])],decls:19,vars:27,consts:[[1,"form-group"],[3,"for",4,"ngIf"],[1,"input-group","mb-1"],[1,"input-group-prepend"],[1,"input-group-text"],[4,"ngIf"],["multiple","false","appendTo","body",1,"form-control","p-0","m-0",3,"ngClass","id","name","addTag","placeholder","required","disabled","items","bindLabel","bindValue","ngModel","multiple","loading","virtualScroll","ngModelChange","scroll","scrollToEnd","change","search","open","close","clear"],["ngSelect",""],["ng-header-tmp",""],["ng-label-tmp",""],["ng-option-tmp",""],[1,"invalid-feedback"],[1,"form-text","text-muted"],[3,"for"],[3,"ngClass"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Ec(1,m,3,4,"label",1),a.Sb(2,"div",2),a.Sb(3,"div",3),a.Sb(4,"span",4),a.Ec(5,g,2,1,"ng-container",5),a.Ec(6,p,2,1,"ng-container",5),a.Rb(),a.Rb(),a.Sb(7,"ng-select",6,7),a.ec("ngModelChange",(function(e){return t.value=e}))("scroll",(function(e){return t.onScroll(e)}))("scrollToEnd",(function(){return t.onScrollToEnd()}))("change",(function(e){return t.onItemChange(e)}))("search",(function(e){return t.onSearch(e)}))("open",(function(e){return t.onOpen(e)}))("close",(function(){return t.onClose()}))("clear",(function(e){return t.onClearItem(e)})),a.hc(9,"translate"),a.Ec(10,f,2,2,"ng-template",8),a.Ec(11,b,1,1,"ng-template",9),a.Ec(12,D,2,1,"ng-template",10),a.Rb(),a.Sb(13,"div",11),a.Gc(14),a.hc(15,"translate"),a.Rb(),a.Rb(),a.Sb(16,"small",12),a.Gc(17),a.hc(18,"translate"),a.Rb(),a.Rb()),2&e&&(a.zb(1),a.mc("ngIf",null!==t.formItemDef.labelText),a.zb(4),a.mc("ngIf",!t.formItemDef.showPrependPrefix),a.zb(1),a.mc("ngIf",t.formItemDef.showPrependPrefix),a.zb(1),a.nc("placeholder",a.ic(9,19,t.formItemDef.placeHolderText)),a.mc("ngClass",a.qc(25,S,t.hasError))("id",t.formItemDef.domId)("name",t.formItemDef.domName)("addTag",!!t.isAddToSelectEnabled&&t.addTagPromise)("required",t.formItemDef.isRequired)("disabled",t.formItemDef.isDisabled)("items",t.dataItems)("bindLabel",t.labelFieldName)("bindValue",t.valueFieldName)("ngModel",t.value)("multiple",t.formItemDef.isMultiSelect)("loading",t.loading)("virtualScroll",!0),a.zb(7),a.Ic(" ",a.ic(15,21,"fi.components.dropdown.error")," "),a.zb(3),a.Hc(a.ic(18,23,t.formItemDef.helpText)))},directives:[h.u,c.a,h.r,i.z,i.o,i.r,c.g,c.e,c.c],pipes:[d.d],styles:[""]}),e})()},Qlr7:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r("mrSG"),n=r("hnrn");let i=(()=>{class e{constructor(e){e&&(this.date=e.date||null,this.day=e.day||null,this.hour=e.hour||0,this.minute=e.minute||0,this.month=e.month||null,this.nanos=e.nanos||0,this.second=e.second||0,this.time=e.time||null,this.year=e.year||null,this.timezoneOffset=this.getTimeZoneWithOperator())}get date(){return this.pDate}set date(e){this.pDate=e}get day(){return this.pDay}set day(e){this.pDay=e}get hour(){return this.pHour}set hour(e){this.pHour=e}get minute(){return this.pMinute}set minute(e){this.pMinute=e}get month(){return this.pMonth}set month(e){this.pMonth=e}get nanos(){return this.pNanos}set nanos(e){this.pNanos=e}get second(){return this.pSecond}set second(e){this.pSecond=e}get time(){return this.pTime}set time(e){this.pTime=e}get timezoneOffset(){return this.pTimezoneOffset}set timezoneOffset(e){this.pTimezoneOffset=e}get year(){return this.pYear}set year(e){this.pYear=e}getTimeZoneWithOperator(){const e=(new Date).getTimezoneOffset()/60*-1,t=e.toString().padStart(2,"0")+":00";return+e>0?"+"+t:"-"+t}toString(){const e="00000",t=e+this.month,r=e+this.year,a=e+this.hour,n=e+this.minute,i=e+this.second,s=e+this.nanos,l=(e+this.day).slice(-2),o=t.slice(-2);return`${r.slice(-4)}-${o}-${l}T${a.slice(-2)}:${n.slice(-2)}:${i.slice(-2)}.${s.slice(-3)}${this.timezoneOffset||"Z"}`}}return Object(a.b)([Object(n.b)({alias:"day"})],e.prototype,"pDay",void 0),Object(a.b)([Object(n.b)({alias:"hour"})],e.prototype,"pHour",void 0),Object(a.b)([Object(n.b)({alias:"minute"})],e.prototype,"pMinute",void 0),Object(a.b)([Object(n.b)({alias:"month"})],e.prototype,"pMonth",void 0),Object(a.b)([Object(n.b)({alias:"second"})],e.prototype,"pSecond",void 0),Object(a.b)([Object(n.b)({alias:"timezoneOffset"})],e.prototype,"pTimezoneOffset",void 0),Object(a.b)([Object(n.b)({alias:"year"})],e.prototype,"pYear",void 0),e})()},Ti29:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l}));var a=r("1kSV"),n=r("fXoL");const i={bg:{weekdays:["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u041d\u0434"],months:["\u042f\u043d","\u0424\u0435\u0432\u0440","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438","\u0410\u0432\u0433","\u0421\u0435\u043f\u0442","\u041e\u043a\u0442","\u041d\u043e\u0435\u043c","\u0414\u0435\u043a"]}};let s=(()=>{class e{constructor(){this.language="bg"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})(),l=(()=>{class e extends a.k{constructor(e){super(),this.i18n=e}getWeekdayShortName(e){return i[this.i18n.language].weekdays[e-1]}getMonthShortName(e){return i[this.i18n.language].months[e-1]}getMonthFullName(e){return this.getMonthShortName(e)}getDayAriaLabel(e){return`${e.day}-${e.month}-${e.year}`}}return e.\u0275fac=function(t){return new(t||e)(n.ac(s))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})()},WMsn:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r("1kSV"),n=r("fXoL");let i=(()=>{class e extends a.h{parse(e){const t=e.indexOf("."),r=e.indexOf("-");if(t<0&&r<0)return null;let a=null;return t>=0?a=e.trim().split("."):r>=0&&(a=e.trim().split("-")),3!==a.length?null:{day:parseInt(a[0],10),month:parseInt(a[1],10),year:parseInt(a[2],10)}}format(e){if(null==e)return null;const t="00000"+e.month,r="00000"+e.year;return("00000"+e.day).slice(-2)+"."+t.slice(-2)+"."+r.slice(-4)}}return e.\u0275fac=function(t){return s(t||e)},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac}),e})();const s=n.Ub(i)},XDeO:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("1kSV"),n=r("Qlr7"),i=r("BHvr");class s{static getNowAsString(){return s.format(new Date)}static getDateTimeAsString(){return s.formatDateTime(new Date)}static getDateAsString(e){return s.format(e)}static parseAndGetDateAsString(e){return e?s.format(new Date(e)):""}static getNgbDateStructAsString(e){if(null==e)return null;const t=new Date(e.year,e.month-1,e.day);return s.format(t)}static getNowAsNgbDateStruct(){return s.formatToStruct(new Date)}static getNowAsNgbDate(){const e=new Date,t=s.formatToStruct(e);return new a.g(t.year,t.month,t.day)}static getNowAsTimestamp(){const e=s.getNow();return new n.a({day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear(),hour:e.getHours(),minute:e.getMinutes(),second:0,nanos:0})}static getDateAsNgbDateStruct(e){return s.formatToStruct(e)}static getDateAsNgbDate(e){const t=s.formatToStruct(e);return new a.g(t.year,t.month,t.day)}static addYearsToDateNgbDate(e,t){const r=s.addYearsToDate(e,t);return new a.g(r.getFullYear(),r.getMonth()+1,r.getDate())}static getNow(){return new Date}static addDaysToDate(e,t){const r=new Date;return r.setDate(e.getDate()+t),r}static removeDaysToDate(e,t){const r=new Date;return r.setDate(e.getDate()-t),r}static addMonthsToDate(e,t){const r=new Date;return r.setMonth(e.getMonth()+t),r}static addYearsToDate(e,t){const r=new Date;return r.setFullYear(e.getFullYear()+t),r}static getDateFromServerModel(e){if(null==e)return null;const t=new Date;return null!=e.year&&t.setFullYear(e.year),null!=e.month&&t.setMonth(e.month-1),null!=e.day&&t.setDate(e.day),null!=e.hour&&t.setHours(e.hour),null!=e.minute&&t.setMinutes(e.minute),null!=e.second&&t.setSeconds(e.second),null!=e.time&&t.setTime(e.time),t}static getSrvModelAsStringDate(e){if(null==e)return null;const t=s.getDateFromServerModel(e);return s.format(t)}static getSrvModelAsStringDateTime(e){if(null==e)return null;const t=s.getDateFromServerModel(e);return s.formatDateTime(t)}static getAnyAsTimestampModel(e){return null==e?null:new n.a({date:e.hasOwnProperty("date")?Number(e.date):null,day:e.hasOwnProperty("day")?Number(e.day):null,hour:e.hasOwnProperty("hour")?Number(e.hour):null,minute:e.hasOwnProperty("minute")?Number(e.minute):null,month:e.hasOwnProperty("month")?Number(e.month):null,nanos:e.hasOwnProperty("nanos")?Number(e.nanos):null,second:e.hasOwnProperty("second")?Number(e.second):null,time:e.hasOwnProperty("time")?Number(e.time):null,year:e.hasOwnProperty("year")?Number(e.year):null})}static getNgbDateStructAsDate(e){if(null==e)return null;const t=new Date;return t.setFullYear(e.year),t.setMonth(e.month),t.setDate(e.day),t}static isEqualNgbDate(e,t){let r=!1;return null==e||null==t||e.year===t.year&&e.month===t.month&&e.day===t.day&&(r=!0),r}static isBeforeNgbDate(e,t){return!e&&!t&&(e.year<t.year||e.month<t.month||e.day<t.day)}static isEqualNgbDateStruct(e,t){let r=!1;return null==e||null==t||e.year===t.year&&e.month===t.month&&e.day===t.day&&(r=!0),r}static anyToNgbDateStruct(e){return null==e?null:e.hasOwnProperty("year")&&e.hasOwnProperty("month")&&e.hasOwnProperty("day")?{day:e.day,month:e.month,year:e.year}:null}static getQuartersAsDates(){const e=s.getNowAsNgbDate().year;return[{from:"01.01",to:"31.03",year:e},{from:"01.04",to:"30.06",year:e},{from:"01.07",to:"30.09",year:e},{from:"01.10",to:"31.12",year:e}]}static getQuarters(){return[new i.a(1,"1"),new i.a(2,"2"),new i.a(3,"3"),new i.a(4,"4")]}static getCurrentQuarterAsObjWithDates(){const e=s.getQuartersAsDates(),t=new Date;return e[Math.floor((t.getMonth()+3)/3)-1]}static format(e){if(null==e)return null;const t="00000"+e.getDate(),r="00000"+(e.getMonth()+1),a="00000"+e.getFullYear();return t.slice(-2)+"."+r.slice(-2)+"."+a.slice(-4)}static formatDateTime(e){if(null==e)return null;const t="00000",r=t+e.getDate(),a=t+(e.getMonth()+1),n=t+e.getFullYear(),i=t+e.getHours(),s=t+e.getMinutes(),l=t+e.getSeconds();return r.slice(-2)+"."+a.slice(-2)+"."+n.slice(-4)+" "+i.slice(-2)+":"+s.slice(-2)+":"+l.slice(-2)}static formatToStruct(e){return null==e?null:{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}}},"m/ia":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("uWK1"),n=r("2Vo4"),i=r("fXoL");let s=(()=>{class e extends a.a{constructor(e){super(e,""),this.relParamChanged=new n.a(null),this.onComponentValueChanged=this.relParamChanged.asObservable()}parentControlValueChanged(e){null!=e.data.currentSenderValue&&this.relParamChanged.next(e)}}return e.\u0275fac=function(t){return new(t||e)(i.ac(i.r))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},pH0c:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));class a{constructor(){this.pFilterClause=null,this.pIsWhere=!1,this.pSearchString=null,this.pInitValue=null,this.pValueFieldName=null,this.pTypeField=null,this.pTypeField="s"}get filterClause(){return this.pFilterClause}set filterClause(e){this.pFilterClause=e}get isWhere(){return this.pIsWhere}set isWhere(e){this.pIsWhere=e}get searchFields(){return this.pSearchFields}set searchFields(e){this.pSearchFields=e}get searchString(){return this.pSearchString}set searchString(e){this.pSearchString=e}get initValue(){return this.pInitValue}set initValue(e){this.pInitValue=e}get valueFieldName(){return this.pValueFieldName}set valueFieldName(e){this.pValueFieldName=e}get typeFieldName(){return this.pTypeField}set typeFieldName(e){this.pTypeField=e}createSearchFilter(){let e={};return e=null==this.pFilterClause?this.createSimpleSearchFilter():this.pIsWhere?this.createWhereSearchFilter():this.createQuerySearchFilter(),e}createSimpleSearchFilter(){return this.searchFieldsFilter()}createWhereSearchFilter(){const e={},t=this.searchFieldsFilterWhere();return e._where=t.length>0?"and("+this.filterClause.where+", "+t+")":this.filterClause.where,e}createQuerySearchFilter(){let e={};const t=this.searchFieldsFilter();return e=Object.keys(t).length>0?this.mergeObjects(this.filterClause,t):this.filterClause,e}createInitValueFilter(){let e={};return e=null==this.pFilterClause?this.createSimpleInitFilter():this.pIsWhere?this.createWhereInitFilter():this.createQueryInitFilter(),e}createSimpleInitFilter(){const e={};return e[this.pValueFieldName]=this.pInitValue,e}createWhereInitFilter(){const e={},t=`eq(v("${this.pValueFieldName}"), ${this.pTypeField}("${this.pInitValue}"))`;return e._where=t.length>0?"and("+this.filterClause.where+","+t+")":this.filterClause.where,e}createQueryInitFilter(){let e={};if(null!=this.pValueFieldName&&null!=this.pInitValue){const t={};t[this.pValueFieldName]=this.pInitValue,e=Object.keys(this.filterClause).length>0?this.mergeObjects(this.filterClause,t):t}return e}mergeObjects(e,t){const r={};let a=Object.keys(e);return a.forEach(t=>{r[t]=e[t]}),a=Object.keys(t),a.forEach(e=>{r[e]=t[e]}),r}searchFieldsFilter(){const e={};return null==this.pSearchFields||null==this.pSearchString||0===this.pSearchString.toString().length||this.pSearchFields.forEach(t=>{let r="";r="s"===t.fieldType?`like(s("${this.pSearchString}%"))`:this.pSearchString,e[t.fieldName]=r}),e}searchFieldsFilterWhere(){let e="";return null==this.pSearchFields||0===this.pSearchFields.length||null==this.pSearchString||0===this.pSearchString.length?e:(this.pSearchFields.forEach(t=>{const r=`like(v("${t.fieldName}"), ${t.fieldType}("%${this.pSearchString}%"))`;e=e.length>0?e+", "+r:r}),"or("+e+")")}}}}]);