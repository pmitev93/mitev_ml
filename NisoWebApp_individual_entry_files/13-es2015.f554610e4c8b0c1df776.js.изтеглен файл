(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+z3G":function(e,t,i){"use strict";i.d(t,"a",(function(){return I}));var s=i("F7pt"),o=i("0Uwp"),n=i("SkKo"),a=i("PDnj"),r=i("YjFG"),d=i("ra4D"),c=i("noCF"),l=i("+QWa"),h=i("mwl0"),b=i("ey6I"),u=i("9zSO"),m=i("t8UU"),p=i("YVnI"),g=i("n2Fg"),f=i("4m0f"),D=i("CR6u"),S=i("fXoL");let I=(()=>{class e{constructor(){}getDocumentDef(e,t){const i=s.a.createDefaultFileBrowseDef();return i.domId="D"===t?"doc_"+e:"signed_doc_"+e,i.labelText="D"===t?"\u0424\u0430\u0439\u043b":"\u0424\u0430\u0439\u043b, \u0441\u044a\u0434\u044a\u0440\u0436\u0430\u0449 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0437\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u0432\u0430\u043d\u0438\u044f\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",i.isRequired=!0,i}getWasteClassificationDefinitions(){const e=[],t=s.a.createDefaultTextFormItemDef();t.domId="waste_descr",t.labelText="",t.isRequired=!0,e.push(t);const i=new s.a;i.domId="is_electronic_acc",i.labelText="\u0421 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u043e\u0442\u043e \u0438\u0441\u043a\u0430\u043d\u0435 \u0436\u0435\u043b\u0430\u044f \u0434\u0430 \u043c\u0438 \u0431\u044a\u0434\u0435 \u0437\u0430\u0432\u0435\u0440\u0435\u043d\u0430 \u0437\u0430 \u0432\u043e\u0434\u0435\u043d\u0435 \u0441\u044a\u043e\u0442\u0432\u0435\u0442\u043d\u0430\u0442\u0430 \u043e\u0442\u0447\u0435\u0442\u043d\u0430 \u043a\u043d\u0438\u0433\u0430.",i.helpText="",i.isRequired=!0,e.push(i);const n=o.a.createDefaultDropDownFormItemDef();n.domId="waste_code",n.labelText="fi.waste-code.label",n.helpText="fi.waste-code.help",n.placeHolderText="fi.waste-code.label",n.isRequired=!0,n.dataSource=r.a.publicUrl,n.resultDataType=r.a,n.isWhere=!0,n.filterClause={where:'ne(v("ewc"),s(" "))'},n.searchFields=[new d.a("ewc","s"),new d.a("hazardous","s"),new d.a("nameBg","s")],e.push(n);const a=o.a.createDefaultDropDownFormItemDef();a.domId="waste-code-1",a.labelText="",a.helpText="",a.isRequired=!1,e.push(a);const c=o.a.createDefaultDropDownFormItemDef();c.domId="waste-code-2",c.labelText="",c.helpText="",c.isRequired=!1,e.push(c);const l=o.a.createDefaultDropDownFormItemDef();l.domId="waste-code-3",l.labelText="",l.helpText="",l.isRequired=!1,e.push(l);const h=o.a.createDefaultDropDownFormItemDef();h.domId="contact",h.labelText=null,h.isRequired=!1,h.helpText=null,h.placeHolderText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043b\u0438\u0446\u0435 \u0437\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442",e.push(h);const b=s.a.createDefaultCheckboxGroupDef();return b.domId="m-address",b.labelText=null,b.helpText=null,b.isRequired=!1,b.placeHolderText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0430\u0434\u0440\u0435\u0441",e.push(b),e}getWasteClassificationTestingDefinitions(){const e=[],t=s.a.createDefaultTextFormItemDef();t.domId="waste_descr",t.labelText="",t.isRequired=!0,e.push(t);const i=o.a.createDefaultDropDownFormItemDef();i.domId="etiquette",i.labelText="",i.helpText="",i.isRequired=!1,e.push(i);const n=o.a.createDefaultDropDownFormItemDef();n.domId="waste-code",n.labelText="\u041a\u043e\u0434 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a",n.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u0434 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430",n.placeHolderText="\u041a\u043e\u0434 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a",n.dataSource=r.a.publicUrl,n.resultDataType=r.a,n.searchFields=[new d.a("code","s")],n.isRequired=!0,e.push(n);const a=new s.a;a.domId="is_electronic_acc",a.labelText="\u0421 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u043e\u0442\u043e \u0438\u0441\u043a\u0430\u043d\u0435 \u0436\u0435\u043b\u0430\u044f \u0434\u0430 \u043c\u0438 \u0431\u044a\u0434\u0435 \u0437\u0430\u0432\u0435\u0440\u0435\u043d\u0430 \u0437\u0430 \u0432\u043e\u0434\u0435\u043d\u0435 \u0441\u044a\u043e\u0442\u0432\u0435\u0442\u043d\u0430\u0442\u0430 \u043e\u0442\u0447\u0435\u0442\u043d\u0430 \u043a\u043d\u0438\u0433\u0430.",a.helpText="",a.isRequired=!0,e.push(a);const c=o.a.createDefaultDropDownFormItemDef();c.domId="contact",c.labelText=null,c.isRequired=!1,c.helpText=null,c.placeHolderText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043b\u0438\u0446\u0435 \u0437\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442",e.push(c);const l=s.a.createDefaultCheckboxGroupDef();return l.domId="m-address",l.labelText=null,l.helpText=null,l.isRequired=!1,l.placeHolderText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0430\u0434\u0440\u0435\u0441",e.push(l),e}getEtiquetteFormItemDefs(e,t){const i=[],s=Object(l.a)();for(let a=0;a<e;a++){const e=o.a.createDefaultDropDownFormItemDef();e.domId=`etiquette_${a}_${s}`,e.labelText=null,e.helpText=null,e.placeHolderText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f",e.isRequired=!1,e.dataSource=n.a.urlPublic,e.resultDataType=n.a,e.searchFields=[new d.a("description","s"),new d.a("code","s")],e.isWhere=!0,e.filterClause={where:'eq(v("domain"),s("CHEM_DNG"))'},t===D.a.READ&&(e.readonly=!0,e.isDisabled=!0),i.push(e)}return i}getStandartFrazeFormItemDefs(e,t){const i=[],s=Object(l.a)();for(let n=0;n<e;n++){const e=o.a.createDefaultDropDownFormItemDef();e.domId=`standartFraze_${n}_${s}`,e.labelText=null,e.helpText=null,e.placeHolderText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f",e.isRequired=!1,e.dataSource="TcRCodes",e.resultDataType=a.a,e.isWhere=!0,e.filterClause={where:'ne(v("code"),s(" "))'},e.searchFields=[new d.a("description","s"),new d.a("code","s")],t===D.a.READ&&(e.readonly=!0,e.isDisabled=!0),i.push(e)}return i}getHeadquertersFormDefinitions(){const e=[],t=Object(l.a)(),i=c.a.createDefaultDropDownCascadeFormItemDef();i.domId="dist"+t,i.labelText="\u041e\u0431\u043b\u0430\u0441\u0442",i.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043e\u0431\u043b\u0430\u0441\u0442 \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430",i.placeHolderText="\u041e\u0431\u043b\u0430\u0441\u0442",i.dataSource="Teritory",i.searchFields=[new d.a("terName","s")],i.resultDataType=h.a,i.parentDomName=null,i.isRequired=!0,e.push(i);const n=c.a.createDefaultDropDownFormItemDef();n.domId="loc_dist"+t,n.labelText="\u041e\u0431\u0449\u0438\u043d\u0430 (\u041e\u0431\u043b\u0430\u0441\u0442)",n.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043e\u0431\u0449\u0438\u043d\u0430 \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430",n.placeHolderText="\u041e\u0431\u0449\u0438\u043d\u0430",n.isRequired=!0,n.dataSource=p.a.publicUrl,n.searchFields=[new d.a("nameBg","s")],n.resultDataType=p.a,e.push(n);const a=c.a.createDefaultDropDownFormItemDef();a.domId="loc_pop"+t,a.labelText="\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043e \u043c\u044f\u0441\u0442\u043e",a.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043e \u043c\u044f\u0441\u0442\u043e \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430",a.placeHolderText="\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043e \u043c\u044f\u0441\u0442\u043e",a.dataSource=u.a.publicUrl,a.searchFields=[new d.a("popName","s")],a.resultDataType=u.a,a.isRequired=!0,e.push(a);const r=s.a.createDefaultTextFormItemDef();r.domId="address"+t,r.labelText="\u0410\u0434\u0440\u0435\u0441",r.helpText="\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0430\u0434\u0440\u0435\u0441",r.placeHolderText="\u0410\u0434\u0440\u0435\u0441",r.isRequired=!0,e.push(r);const b=o.a.createDefaultDropDownFormItemDef();b.domId="riosv"+t,b.labelText="\u0420\u0418\u041e\u0421\u0412",b.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0420\u0418\u041e\u0421\u0412 \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430",b.placeHolderText="\u0420\u0418\u041e\u0421\u0412",b.isRequired=!1,b.isDisabled=!0,b.readonly=!0,b.dataSource=m.a.publicUrl,b.resultDataType=m.a,e.push(b);const g=s.a.createDefaultIntegerFormItemDef();g.domId="phone"+t,g.labelText="\u0422\u0435\u043b\u0435\u0444\u043e\u043d",g.helpText="\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",g.placeHolderText="\u0422\u0435\u043b\u0435\u0444\u043e\u043d",g.isRequired=!1,e.push(g);const f=s.a.createDefaultIntegerFormItemDef();f.domId="fax"+t,f.labelText="\u0424\u0430\u043a\u0441",f.helpText="\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0444\u0430\u043a\u0441",f.placeHolderText="\u0424\u0430\u043a\u0441",f.isRequired=!1,e.push(f);const D=s.a.createDefaultEmailFormItemDef();return D.domId="email"+t,D.labelText="\u0418\u043c\u0435\u0439\u043b",D.helpText="\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043c\u0435\u0439\u043b",D.placeHolderText="\u0418\u043c\u0435\u0439\u043b",D.isRequired=!1,e.push(D),e}getSearchFormDefinitions(){const e=[],t=c.a.createDefaultDropDownCascadeFormItemDef();t.domId="terCode",t.labelText="\u041e\u0431\u043b\u0430\u0441\u0442",t.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043e\u0431\u043b\u0430\u0441\u0442",t.placeHolderText="\u041e\u0431\u043b\u0430\u0441\u0442",t.isRequired=!1,t.parentDomName=null,t.dataSource=h.a.publicUrl,t.resultDataType=h.a,t.searchFields=[new d.a("terName","s")],e.push(t);const i=c.a.createDefaultDropDownCascadeFormItemDef();i.domId="distEknm",i.labelText="\u041e\u0431\u0449\u0438\u043d\u0430",i.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043e\u0431\u0449\u0438\u043d\u0430",i.placeHolderText="\u041e\u0431\u0449\u0438\u043d\u0430",i.isRequired=!1,i.parentDomName="terCode",i.parentFieldName="terCode",i.dataSource=b.a.publicUrl,i.resultDataType=b.a,i.searchFields=[new d.a("distName","s")],e.push(i);const n=c.a.createDefaultDropDownCascadeFormItemDef();n.domId="popEknm",n.labelText="\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043e \u043c\u044f\u0441\u0442\u043e",n.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043e \u043c\u044f\u0441\u0442\u043e",n.placeHolderText="\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043e \u043c\u044f\u0441\u0442\u043e",n.isRequired=!1,n.parentDomName="distEknm",n.parentFieldName="distEknm",n.dataSource=u.a.publicUrl,n.resultDataType=u.a,n.searchFields=[new d.a("popName","s")],e.push(n);const a=s.a.createDefaultTextFormItemDef();a.domId="address",a.labelText="\u0410\u0434\u0440\u0435\u0441",a.helpText="\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0430\u0434\u0440\u0435\u0441",a.placeHolderText="\u0410\u0434\u0440\u0435\u0441",a.isRequired=!1,e.push(a);const l=o.a.createDefaultDropDownFormItemDef();l.domId="stateId",l.labelText="\u0421\u044a\u0441\u0442\u043e\u044f\u043d\u0438\u0435",l.placeHolderText="\u0421\u044a\u0441\u0442\u043e\u044f\u043d\u0438\u0435",l.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u044a\u0441\u0442\u043e\u044f\u043d\u0438\u0435",l.dataSource=g.a.publicUrl,l.resultDataType=g.a,l.searchFields=[new d.a("name","s")],l.isWhere=!1,l.filterClause={code:'like(s("%WOT_STATE%"))'},l.isRequired=!1,e.push(l);const m=o.a.createDefaultDropDownFormItemDef();m.domId="type",m.labelText="\u0422\u0438\u043f",m.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430",m.placeHolderText="\u0422\u0438\u043f",m.isRequired=!1,m.dataSource=f.a.publicUrl,m.resultDataType=f.a,m.searchFields=[new d.a("name","s")],m.filterClause={code:'in(s("WOT06"),s("WOT05"))'},m.isWhere=!1,e.push(m);const p=s.a.createDefaultDatePeriodFormItemDef();p.domId="date-period",p.labelText="\u041f\u0435\u0440\u0438\u043e\u0434 \u043d\u0430 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435",p.helpText="\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434 \u043d\u0430 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435",p.isRequired=!1,p.isDisabled=!1,e.push(p);const D=o.a.createDefaultDropDownFormItemDef();return D.domId="waste-code",D.labelText="\u041a\u043e\u0434 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a",D.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u0434 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430",D.placeHolderText="\u041a\u043e\u0434 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a",D.isRequired=!1,D.dataSource=r.a.publicUrl,D.resultDataType=r.a,D.searchFields=[new d.a("nameBg","s")],e.push(D),e}getSearchFormDefinitionsInt(e){const t=[],i=c.a.createDefaultDropDownCascadeFormItemDef();i.domId="terCode",i.labelText="\u041e\u0431\u043b\u0430\u0441\u0442",i.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043e\u0431\u043b\u0430\u0441\u0442",i.placeHolderText="\u041e\u0431\u043b\u0430\u0441\u0442",i.isRequired=!1,i.parentDomName=null,i.dataSource=h.a.publicUrl,i.resultDataType=h.a,i.searchFields=[new d.a("terName","s")],t.push(i);const n=c.a.createDefaultDropDownCascadeFormItemDef();n.domId="distEknm",n.labelText="\u041e\u0431\u0449\u0438\u043d\u0430",n.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043e\u0431\u0449\u0438\u043d\u0430",n.placeHolderText="\u041e\u0431\u0449\u0438\u043d\u0430",n.isRequired=!1,n.parentDomName="terCode",n.parentFieldName="terCode",n.dataSource=b.a.publicUrl,n.resultDataType=b.a,n.searchFields=[new d.a("distName","s")],t.push(n);const a=c.a.createDefaultDropDownCascadeFormItemDef();a.domId="popEknm",a.labelText="\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043e \u043c\u044f\u0441\u0442\u043e",a.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043e \u043c\u044f\u0441\u0442\u043e",a.placeHolderText="\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043e \u043c\u044f\u0441\u0442\u043e",a.isRequired=!1,a.parentDomName="distEknm",a.parentFieldName="distEknm",a.dataSource=u.a.publicUrl,a.resultDataType=u.a,a.searchFields=[new d.a("popName","s")],t.push(a);const l=s.a.createDefaultTextFormItemDef();l.domId="address",l.labelText="\u0410\u0434\u0440\u0435\u0441",l.helpText="\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0430\u0434\u0440\u0435\u0441",l.placeHolderText="\u0410\u0434\u0440\u0435\u0441",l.isRequired=!1,t.push(l);const m=o.a.createDefaultDropDownFormItemDef();m.domId="stateId",m.labelText="\u0421\u044a\u0441\u0442\u043e\u044f\u043d\u0438\u0435",m.placeHolderText="\u0421\u044a\u0441\u0442\u043e\u044f\u043d\u0438\u0435",m.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u044a\u0441\u0442\u043e\u044f\u043d\u0438\u0435",m.dataSource=g.a.publicUrl,m.resultDataType=g.a,m.searchFields=[new d.a("name","s")],m.isWhere=!0,m.filterClause="V"===e?{where:'in(v("code"),s("WOT_STATE:11"),s("WOT_STATE:31"),s("WOT_STATE:04"),s("WOT_STATE:12"))'}:{where:'and(like(v("code"),s("%WOT_STATE%")),not(in(v("code"),s("WOT_STATE:00"),s("WOT_STATE:04"),s("WOT_STATE:11"),s("WOT_STATE:12"),s("WOT_STATE:31"),s("WOT_STATE:37"),s("WOT_STATE:38"),s("WOT_STATE:39"),s("WOT_STATE:40"),s("WOT_STATE:41"),s("WOT_STATE:99"))))'},m.isRequired=!1,t.push(m);const p=o.a.createDefaultDropDownFormItemDef();p.domId="type",p.labelText="\u0422\u0438\u043f",p.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0438\u043f \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430",p.placeHolderText="\u0422\u0438\u043f",p.isRequired=!1,p.dataSource=f.a.publicUrl,p.resultDataType=f.a,p.searchFields=[new d.a("name","s")],p.filterClause={code:'in(s("WOT06"),s("WOT05"))'},p.isWhere=!1,t.push(p);const D=s.a.createDefaultDatePeriodFormItemDef();D.domId="date-period",D.labelText="\u041f\u0435\u0440\u0438\u043e\u0434 \u043d\u0430 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435",D.helpText="\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434 \u043d\u0430 \u0441\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435",D.isRequired=!1,D.isDisabled=!1,t.push(D);const S=o.a.createDefaultDropDownFormItemDef();S.domId="waste-code",S.labelText="\u041a\u043e\u0434 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a",S.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043a\u043e\u0434 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430",S.placeHolderText="\u041a\u043e\u0434 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a",S.isRequired=!1,S.dataSource=r.a.publicUrl,S.resultDataType=r.a,S.searchFields=[new d.a("nameBg","s")],t.push(S);const I=s.a.createDefaultTextFormItemDef();I.domId="org_name",I.labelText="\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f",I.helpText="\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f",I.placeHolderText="\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f",I.isRequired=!1,t.push(I);const w=s.a.createDefaultTextFormItemDef();return w.domId="org_uin",w.labelText="\u0415\u0418\u041a/\u0415\u0413\u041d",w.helpText="\u0415\u0418\u041a/\u0415\u0413\u041d",w.placeHolderText="\u0415\u0418\u041a/\u0415\u0413\u041d",w.isRequired=!1,t.push(w),t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},B13j:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("mrSG"),o=i("hnrn"),n=i("Z+Hd");let a=(()=>{class e{constructor(e){e?(this.pId=e.id,this.pWotId=e.wotId,this.pName=e.name,this.pWeight=e.weight,this.pFlashPoint=e.flashPoint,this.pChemDng=e.chemDng,this.pRCode=e.rCode,this.pCarcinogenic=e.carcinogenic,this.pMutagenic=e.mutagenic,this.pToxicRepr=e.toxicRepr,this.pStatus=null==e.id?n.a.NEW:n.a.NOT_CHANGED):this.pStatus=n.a.NEW}get id(){return this.pId}set id(e){this.pId=e}get wotId(){return this.pWotId}set wotId(e){this.pWotId=e}get name(){return this.pName}set name(e){this.pName!==e&&this.checkStatus(),this.pName=e}get weight(){return this.pWeight}set weight(e){this.pWeight!==e&&this.checkStatus(),this.pWeight=e}get flashPoint(){return this.pFlashPoint}set flashPoint(e){this.pFlashPoint!==e&&this.checkStatus(),this.pFlashPoint=e}get chemDng(){return this.pChemDng}set chemDng(e){this.pChemDng!==e&&this.checkStatus(),this.pChemDng=e}get rCode(){return this.pRCode}set rCode(e){this.pRCode!==e&&this.checkStatus(),this.pRCode=e}get carcinogenic(){return this.pCarcinogenic}set carcinogenic(e){this.pCarcinogenic!==e&&this.checkStatus(),this.pCarcinogenic=e}get mutagenic(){return this.pMutagenic}set mutagenic(e){this.pMutagenic!==e&&this.checkStatus(),this.pMutagenic=e}get toxicRepr(){return this.pToxicRepr}set toxicRepr(e){this.pToxicRepr!==e&&this.checkStatus(),this.pToxicRepr=e}get status(){return this.pStatus}set status(e){this.pStatus=e}checkStatus(){this.status===n.a.NOT_CHANGED&&(this.status=n.a.CHANGED)}}return e.url="TrnWot63",e.urlWotId="TrnWot63/getInfoByWotId",Object(s.b)([Object(o.b)({alias:"id"})],e.prototype,"pId",void 0),Object(s.b)([Object(o.b)({alias:"wotId"})],e.prototype,"pWotId",void 0),Object(s.b)([Object(o.b)({alias:"name"})],e.prototype,"pName",void 0),Object(s.b)([Object(o.b)({alias:"weight"})],e.prototype,"pWeight",void 0),Object(s.b)([Object(o.b)({alias:"flashPoint"})],e.prototype,"pFlashPoint",void 0),Object(s.b)([Object(o.b)({alias:"chemDng"})],e.prototype,"pChemDng",void 0),Object(s.b)([Object(o.b)({alias:"rCode"})],e.prototype,"pRCode",void 0),Object(s.b)([Object(o.b)({alias:"carcinogenic"})],e.prototype,"pCarcinogenic",void 0),Object(s.b)([Object(o.b)({alias:"mutagenic"})],e.prototype,"pMutagenic",void 0),Object(s.b)([Object(o.b)({alias:"toxicRepr"})],e.prototype,"pToxicRepr",void 0),e})()},BsUY:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var s=function(e){return e.ADMIN="admin",e.IAOS_OFFICER="iaos_officer",e.RIOSV_MANAGER="riosv_manager",e.RIOSV_OFFICER="riosv_officer",e.MOSV_OFFICER="mosv_officer",e.PREVIEW="preview",e.ADMIN_PROFILE="admin_profile",e.ADMIN_STAGE="admin_stage",e.WORKER="worker",e}({})},JNNt:function(e,t,i){"use strict";i.d(t,"a",(function(){return Y}));var s=i("mrSG"),o=i("fXoL"),n=i("CR6u"),a=i("KQ7d"),r=i("F7pt"),d=i("0Uwp"),c=i("+QWa"),l=i("01dd"),h=i("mKt/"),b=i("Oli9"),u=i("oXnY"),m=i("8Lb4"),p=i("cp0P"),g=i("LRne"),f=i("JIr8"),D=i("XDeO"),S=i("mUoA"),I=i("ZRIf"),w=i("4XRX"),R=i("1kSV"),T=i("QJFE"),v=i("ofXK"),E=i("szLj"),O=i("3Pt+"),C=i("Bz/w"),A=i("ifgt"),y=i("nI3r"),F=i("8llH"),N=i("lkLw"),W=i("sYmb");const M=["accChild"],x=["objectApp"],z=["contactApp"],_=["stageSwal"];function j(e,t){if(1&e&&(o.Sb(0,"div"),o.Sb(1,"span",8),o.Gc(2,"\u0410\u043a\u0442\u0438\u0432\u0435\u043d \u043e\u0442 "),o.Sb(3,"b"),o.Gc(4),o.hc(5,"dateFormat"),o.Rb(),o.Gc(6," \u0434\u043e "),o.Sb(7,"b"),o.Gc(8),o.hc(9,"dateFormat"),o.Rb(),o.Rb(),o.Rb()),2&e){const e=o.gc(2);o.zb(4),o.Hc(o.ic(5,2,null==e.model.relation?null:e.model.relation.dateFrom)),o.zb(4),o.Hc(null!=e.model.relation&&e.model.relation.dateTo?o.ic(9,4,null==e.model.relation?null:e.model.relation.dateTo):"-")}}function P(e,t){if(1&e){const e=o.Tb();o.Sb(0,"button",14),o.ec("click",(function(){return o.wc(e),o.gc(2).onDeleteStage()})),o.Nb(1,"i",15),o.Rb()}}function k(e,t){if(1&e&&(o.Sb(0,"div",7),o.Sb(1,"h6",8),o.Gc(2),o.hc(3,"dateTimeFormat"),o.Rb(),o.Ec(4,j,10,6,"div",9),o.Sb(5,"div"),o.Ec(6,P,2,0,"button",10),o.Sb(7,"button",11),o.Nb(8,"i",12),o.Nb(9,"i",13),o.Rb(),o.Rb(),o.Rb()),2&e){const e=o.gc(),t=o.vc(1);o.zb(2),o.Hc(o.ic(3,5,null==e.model.relation?null:e.model.relation.dateCreated)),o.zb(2),o.mc("ngIf",null==e.model.relation?null:e.model.relation.id),o.zb(2),o.mc("ngIf","R"!=e.mode&&!(null!=e.model.relation&&e.model.relation.id)),o.zb(2),o.mc("hidden",t.isExpanded("stage")),o.zb(1),o.mc("hidden",!t.isExpanded("stage"))}}function V(e,t){if(1&e&&(o.Sb(0,"div",22),o.Sb(1,"h6"),o.Gc(2),o.Rb(),o.Sb(3,"button",23),o.Nb(4,"i",12),o.Nb(5,"i",13),o.Rb(),o.Rb()),2&e){const e=o.gc(3),t=o.vc(1);o.zb(2),o.Hc(e.isActive?"\u0414\u0415\u0410\u041a\u0422\u0418\u0412\u0418\u0420\u0410\u041d\u0415":"\u0410\u041a\u0422\u0418\u0412\u0418\u0420\u0410\u041d\u0415"),o.zb(2),o.mc("hidden",t.isExpanded("status")),o.zb(1),o.mc("hidden",!t.isExpanded("status"))}}function G(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",24),o.Sb(1,"div",25),o.Sb(2,"app-fi-input-date",26),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc(3).model.relation.dateTo=t})),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=o.gc(3);o.zb(2),o.mc("minDate",e.model.relation.dateFrom)("ngModel",e.model.relation.dateTo)("formItemDef",e.dateDef)("name",e.dateDef.domName)}}function L(e,t){1&e&&(o.Sb(0,"ngb-panel",21),o.Ec(1,V,6,3,"ng-template",3),o.Ec(2,G,3,4,"ng-template",4),o.Rb())}const U=function(e){return{"mb-0":e}};function H(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",22),o.Sb(1,"div",27),o.Sb(2,"h6",28),o.Gc(3),o.hc(4,"translate"),o.Rb(),o.Rb(),o.Sb(5,"div",29),o.Sb(6,"app-fi-select-dropdown",30),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc(2).model.stage=t}))("changePageEmitter",(function(t){return o.wc(e),o.gc(2).onDropDownValueChange(t)}))("valueEmitter",(function(t){return o.wc(e),o.gc(2).onStageChanged(t)})),o.Rb(),o.Rb(),o.Sb(7,"button",31),o.Nb(8,"i",12),o.Nb(9,"i",13),o.Rb(),o.Rb()}if(2&e){const e=o.gc(2),t=o.vc(1);o.zb(2),o.mc("ngClass",o.qc(14,U,"R"!==e.mode)),o.zb(1),o.Ic(" ",o.ic(4,12,"worksheets.wasteClassification.stages"),""),o.zb(3),o.mc("ngModel",e.model.stage)("formItemDef",e.stageDef)("totalRows",e.stages.totalRows)("currentPage",e.stages.page)("externalDataItems",null==e.stages?null:e.stages.pageContent)("labelFieldName","address")("name",e.stageDef.domName)("hidden","R"===e.mode),o.zb(2),o.mc("hidden",t.isExpanded("object")),o.zb(1),o.mc("hidden",!t.isExpanded("object"))}}function B(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-headquarters-form",32,33),o.ec("districtEmitter",(function(t){return o.wc(e),o.gc(2).onDistrictChange(t)}))("formStatusValidChanged",(function(t){return o.wc(e),o.gc(2).onObjectValidityChange(t)})),o.Rb()}if(2&e){const e=o.gc(2);o.mc("model",e.model.object)("mode",e.mode)("riosvCode",e.riosvCode)}}function q(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",22),o.Sb(1,"div",27),o.Sb(2,"h6",28),o.Gc(3),o.hc(4,"translate"),o.Rb(),o.Rb(),o.Sb(5,"div",29),o.Sb(6,"app-fi-select-dropdown",34),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc(2).model.contact=t}))("valueEmitter",(function(t){return o.wc(e),o.gc(2).onContactChanged(t)})),o.Rb(),o.Rb(),o.Sb(7,"button",31),o.Nb(8,"i",12),o.Nb(9,"i",13),o.Rb(),o.Rb()}if(2&e){const e=o.gc(2),t=o.vc(1);o.zb(2),o.mc("ngClass",o.qc(11,U,"R"!==e.mode)),o.zb(1),o.Ic(" ",o.ic(4,9,"worksheets.wasteClassification.contacts"),""),o.zb(3),o.mc("ngModel",e.model.contact)("formItemDef",e.contactDef)("externalDataItems",e.contacts)("name",e.contactDef.domName)("hidden","R"===e.mode),o.zb(2),o.mc("hidden",t.isExpanded("contact")),o.zb(1),o.mc("hidden",!t.isExpanded("contact"))}}function $(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-contact-person-only-form",35,36),o.ec("formStatusValidChanged",(function(t){return o.wc(e),o.gc(2).onContactPersonValidityChange(t)})),o.Rb()}if(2&e){const e=o.gc(2);o.mc("model",e.model.contactPerson)("mode",e.mode)}}function K(e,t){if(1&e&&(o.Sb(0,"ngb-accordion",16,17),o.Ec(2,L,3,0,"ngb-panel",18),o.Sb(3,"ngb-panel",19),o.Ec(4,H,10,16,"ng-template",3),o.Ec(5,B,2,3,"ng-template",4),o.Rb(),o.Sb(6,"ngb-panel",20),o.Ec(7,q,10,13,"ng-template",3),o.Ec(8,$,2,2,"ng-template",4),o.Rb(),o.Rb()),2&e){const e=o.gc();o.mc("destroyOnHide",!1),o.zb(2),o.mc("ngIf",(null==e.model.relation?null:e.model.relation.id)&&"E"===e.mode)}}let Y=(()=>{class e{constructor(e,t){this.crudService=e,this.sessionService=t,this.index=0,this.model=new b.a({object:new h.a,contactPerson:new a.a}),this.mode=n.a.NEW,this.isInnerUser=!1,this.deleteStage=new o.n,this.districtChangeEmitter=new o.n,this.formStatusValidChanged=new o.n,this.stageChangeEmitter=new o.n,this.stageDef=new r.a,this.contactDef=new r.a,this.dateDef=new r.a,this.stages=new u.a,this.contacts=[],this.isValid=!1,this.objectValidity=!1,this.contactValidity=!1,this.isStageDataLoaded=!1,this.wotLoader=new S.a(e)}set riosv(e){this.riosvCode=e,this.loadStages()}set orn(e){e&&(this.currentOrn=e,this.loadStages(),this.loadOrnContacts())}ngOnInit(){this.loadDefinitions()}ngAfterViewInit(){var e;(null===(e=this.model.relation)||void 0===e?void 0:e.id)?(this.isValid=!0,this.formStatusValidChanged.emit("VALID")):(this.isValid=!1,this.formStatusValidChanged.emit("INVALID"))}get isActive(){return!(!this.model.relation||this.model.relation.dateTo&&new Date>D.a.getDateFromServerModel(this.model.relation.dateTo))}onStageOpen(e){var t;!this.isStageDataLoaded&&(null===(t=this.model.relation)||void 0===t?void 0:t.id)&&e.nextState&&Object(p.a)({contact:this.wotLoader.loadContactByCotId(this.model.relation.cotId),stage:this.wotLoader.loadStageById(this.model.relation.aseId)}).pipe(Object(f.a)(e=>(this.isStageDataLoaded=!1,Object(g.a)(e)))).subscribe(({contact:e,stage:t})=>{this.model.contact=e,this.onContactChanged(e),this.model.stage=t,this.onStageChanged(t),this.isStageDataLoaded=!0})}onDeleteStage(){this.deleteStage.emit(this.index)}onStageChanged(e){e?this.checkStage(e)?this.getObjectFromStage(e).then(e=>{this.model.object=e,this.objectForm.disableNonEmptyFields=!0,this.acc.expand("object"),this.districtChangeEmitter.emit(e.riosv)}):(this.stageSwal.fire(),this.model.stage=null):(this.model.object=new h.a({}),this.objectForm.disableNonEmptyFields=!1)}checkStage(e){if(!this.wotStages)return!0;let t=!0;return this.wotStages.forEach((i,s)=>{(i.relation&&i.relation.aseId===e.id&&s!==this.index||i.object&&i.object.stageId===e.id&&s!==this.index)&&(t=!1)}),t}onContactChanged(e){e?(this.model.contactPerson=e,this.contactForm.disableNonEmptyFields=!0,this.acc.expand("contact")):(this.model.contactPerson=new a.a({}),this.contactForm.disableNonEmptyFields=!1)}onContactPersonValidityChange(e){this.contactValidity="VALID"===e,this.setInnerFormsValidity()}onObjectValidityChange(e){this.objectValidity="VALID"===e,this.setInnerFormsValidity()}onDistrictChange(e){this.districtChangeEmitter.emit(e)}onDropDownValueChange(e){if(e){const t=e instanceof m.a,i=this.mapToPageModel(e);this.stagesDataLoad(i,t)}else this.stagesClearData()}loadDefinitions(){const e=Object(c.a)(),t=d.a.createDefaultDropDownFormItemDef();t.domId="contact"+e,t.labelText=null,t.isRequired=!1,t.helpText=null,t.placeHolderText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043b\u0438\u0446\u0435 \u0437\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442",this.contactDef=t;const i=d.a.createDefaultDropDownFormItemDef();i.domId="stage"+e,i.labelText=null,i.isRequired=!1,i.helpText=null,i.placeHolderText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043e\u0431\u0435\u043a\u0442",this.stageDef=i;const s=r.a.createDefaultDateFormItemDef();s.domId="date"+e,s.labelText=null,s.helpText="\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0434\u0430\u0442\u0430",s.isDisabled=!1,s.isRequired=!0,this.dateDef=s}setInnerFormsValidity(){var e;if(!this.isStageDataLoaded&&(null===(e=this.model.relation)||void 0===e?void 0:e.id)&&this.mode===n.a.READ)return this.isValid=!0,void this.formStatusValidChanged.emit("VALID");const t=this.objectValidity&&this.contactValidity;this.isValid!==t&&(this.isValid=t,this.formStatusValidChanged.emit(t?"VALID":"INVALID"))}getObjectFromStage(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=new h.a;t.stageId=e.id,t.address=e.address,t.email=e.email,t.phone=e.phone,t.fax=e.fax,t.popEknm=e.popEknm;const i=(yield this.wotLoader.loadRealAddressProperties(e.popEknm)).pageContent[0];return t.distEknm=i.distEknm,t.riosv=i.riosvCode,t}))}loadOrnContacts(){var e;this.currentOrn&&this.currentOrn.id&&this.wotLoader.loadContactsByOrnId(null===(e=this.currentOrn)||void 0===e?void 0:e.id).then(e=>{e&&(this.contacts=e)})}loadStages(){this.onDropDownValueChange(!0)}mapToPageModel(e){const t=new m.a;return t.rowsPerPage=e.rowsPerPage||50,t.currentPage=e.currentPage||0,t}stagesClearData(){this.model.stage=null,this.onDropDownValueChange(!0)}stagesDataLoad(e,t){if(this.currentOrn&&this.currentOrn.id&&(!t||e.currentPageWithOffset<=this.stages.totalRows)){const i=Object.assign(Object.assign({},this.riosvCode&&{riosCode:this.riosvCode}),{orgId:this.currentOrn.id,offset:e.currentPageWithOffset,size:e.rowsPerPage});this.crudService.loadPageContentWithOffsetAndSize(l.a,l.a.urlOrg,i).subscribe(e=>{const i=this.setDropDownFieldIfOrganizationOrPageChanges(t,this.stages.pageContent);this.stages.pageContent=[...i,...e.pageContent],this.stages.totalRows=e.totalRows,this.stages.page=e.pageWithOutOffset})}}setDropDownFieldIfOrganizationOrPageChanges(e,t){return e?t:(this.model.stage=null,[])}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(I.a),o.Mb(w.a))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-wot-stage"]],viewQuery:function(e,t){var i;1&e&&(o.Nc(M,!0),o.Nc(x,!0),o.Nc(z,!0),o.Nc(_,!0)),2&e&&(o.uc(i=o.fc())&&(t.acc=i.first),o.uc(i=o.fc())&&(t.objectForm=i.first),o.uc(i=o.fc())&&(t.contactForm=i.first),o.uc(i=o.fc())&&(t.stageSwal=i.first))},inputs:{index:"index",model:"model",wotStages:"wotStages",mode:"mode",state:"state",riosv:"riosv",isInnerUser:"isInnerUser",orn:"orn"},outputs:{deleteStage:"deleteStage",districtChangeEmitter:"districtChangeEmitter",formStatusValidChanged:"formStatusValidChanged",stageChangeEmitter:"stageChangeEmitter"},decls:7,vars:3,consts:[["id","parent-accordion",3,"destroyOnHide","panelChange"],["acc","ngbAccordion"],["id","stage",3,"cardClass"],["ngbPanelHeader",""],["id","body","ngbPanelContent",""],["title","\u0412\u0435\u0447\u0435 \u0441\u0442\u0435 \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u043b\u0438 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f \u043e\u0431\u0435\u043a\u0442 \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u044f \u0420\u0430\u0431\u043e\u0442\u0435\u043d \u043b\u0438\u0441\u0442!","icon","warning",3,"showConfirmButton"],["stageSwal",""],[1,"d-flex","align-items-center","justify-content-between"],[1,"m-0"],[4,"ngIf"],["type","button","class","btn btn-sm btn-outline-secondary rounded-circle mr-2","ngbTooltip","\u0418\u0437\u0442\u0440\u0438\u0432\u0430 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0430","container","body","placement","left",3,"click",4,"ngIf"],["ngbPanelToggle","",1,"btn","btn-sm","btn-outline-secondary","rounded-circle"],[1,"fas","fa-chevron-right",3,"hidden"],[1,"fas","fa-chevron-down",3,"hidden"],["type","button","ngbTooltip","\u0418\u0437\u0442\u0440\u0438\u0432\u0430 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0430","container","body","placement","left",1,"btn","btn-sm","btn-outline-secondary","rounded-circle","mr-2",3,"click"],[1,"fas","fa-trash-alt"],["id","child-accordion",3,"destroyOnHide"],["accChild","ngbAccordion"],["id","status",4,"ngIf"],["id","object"],["id","contact"],["id","status"],[1,"d-flex"],["ngbPanelToggle","",1,"btn","btn-sm","btn-outline-secondary","rounded-circle","ml-auto"],[1,"row"],[1,"col-lg-4"],[3,"minDate","ngModel","formItemDef","name","ngModelChange"],[1,"col-lg-3","pl-0"],[1,"mt-2","mb-3","mr-3",3,"ngClass"],[1,"col-lg-5"],[3,"ngModel","formItemDef","totalRows","currentPage","externalDataItems","labelFieldName","name","hidden","ngModelChange","changePageEmitter","valueEmitter"],["ngbPanelToggle","",1,"btn","btn-sm","btn-outline-secondary","rounded-circle","ml-auto",2,"height","30px"],[3,"model","mode","riosvCode","districtEmitter","formStatusValidChanged"],["objectApp",""],["labelFieldName","fullName",3,"ngModel","formItemDef","externalDataItems","name","hidden","ngModelChange","valueEmitter"],[3,"model","mode","formStatusValidChanged"],["contactApp",""]],template:function(e,t){1&e&&(o.Sb(0,"ngb-accordion",0,1),o.ec("panelChange",(function(e){return t.onStageOpen(e)})),o.Sb(2,"ngb-panel",2),o.Ec(3,k,10,7,"ng-template",3),o.Ec(4,K,9,2,"ng-template",4),o.Rb(),o.Rb(),o.Nb(5,"swal",5,6)),2&e&&(o.mc("destroyOnHide",!1),o.zb(2),o.mc("cardClass",null==(null==t.model.relation?null:t.model.relation.id)?"":t.isActive?"border-success":"border-danger"),o.zb(3),o.mc("showConfirmButton",!0))},directives:[R.a,R.I,R.K,R.J,T.a,v.u,R.M,R.ab,E.a,O.o,O.r,v.r,C.a,A.a,y.a],pipes:[F.a,N.a,W.d],styles:["[_nghost-%COMP%]     #child-accordion>div>div.card-header, [_nghost-%COMP%]     #child-accordion>div>div>div.card-body, [_nghost-%COMP%]     #parent-accordion>div>div.card-header, [_nghost-%COMP%]     #parent-accordion>div>div>div.card-body{padding:.5rem}"]}),e})()},KdD0:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("mrSG"),o=i("hnrn"),n=i("XDeO");let a=(()=>{class e{constructor(e){e&&(this.id=e.id,this.wotId=e.wotId,this.aseId=e.aseId,this.cotId=e.cotId,this.dateFrom=n.a.getAnyAsTimestampModel(e.dateFrom),this.dateTo=n.a.getAnyAsTimestampModel(e.dateTo),this.dateCreated=n.a.getAnyAsTimestampModel(e.dateCreated),this.userCreated=e.userCreated,this.dateUpdated=n.a.getAnyAsTimestampModel(e.dateUpdated),this.userUpdated=e.userUpdated)}get id(){return this.pId}set id(e){this.pId=e}get wotId(){return this.pWotId}set wotId(e){this.pWotId=e}get aseId(){return this.pAseId}set aseId(e){this.pAseId=e}get cotId(){return this.pCotId}set cotId(e){this.pCotId=e}get dateFrom(){return this.pDateFrom}set dateFrom(e){this.pDateFrom=e}get dateTo(){return this.pDateTo}set dateTo(e){this.pDateTo=e}get dateCreated(){return this.pDateCreated}set dateCreated(e){this.pDateCreated=e}get userCreated(){return this.pUserCreated}set userCreated(e){this.pUserCreated=e}get dateUpdated(){return this.pDateUpdated}set dateUpdated(e){this.pDateUpdated=e}get userUpdated(){return this.pUserUpdated}set userUpdated(e){this.pUserUpdated=e}}return e.url="TrnWorksheetAses",e.urlByWotId="TrnWorksheetAses/getByWonId",Object(s.b)([Object(o.b)({alias:"id"})],e.prototype,"pId",void 0),Object(s.b)([Object(o.b)({alias:"wotId"})],e.prototype,"pWotId",void 0),Object(s.b)([Object(o.b)({alias:"aseId"})],e.prototype,"pAseId",void 0),Object(s.b)([Object(o.b)({alias:"cotId"})],e.prototype,"pCotId",void 0),Object(s.b)([Object(o.b)({alias:"dateFrom"})],e.prototype,"pDateFrom",void 0),Object(s.b)([Object(o.b)({alias:"dateTo"})],e.prototype,"pDateTo",void 0),Object(s.b)([Object(o.b)({alias:"dateCreated"})],e.prototype,"pDateCreated",void 0),Object(s.b)([Object(o.b)({alias:"userCreated"})],e.prototype,"pUserCreated",void 0),Object(s.b)([Object(o.b)({alias:"dateUpdated"})],e.prototype,"pDateUpdated",void 0),Object(s.b)([Object(o.b)({alias:"userUpdated"})],e.prototype,"pUserUpdated",void 0),e})()},Oli9:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));class s{constructor(e){e&&(this.relation=e.relation,this.stage=e.stage,this.object=e.object,this.contact=e.contact,this.contactPerson=e.contactPerson)}}},"Oxe/":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("mrSG"),o=i("hnrn"),n=i("Z+Hd");let a=(()=>{class e{constructor(e){e?(this.pId=e.id,this.pWotId=e.wotId,this.pSumVal=e.sumVal,this.pType=e.type,this.pTcCode=e.tcCode,this.pTcId=e.tcId,this.pStatus=null==e.id?n.a.NEW:n.a.NOT_CHANGED):this.pStatus=n.a.NEW}get id(){return this.pId}set id(e){this.pId=e}get wotId(){return this.pWotId}set wotId(e){this.pWotId=e}get sumVal(){return this.pSumVal}set sumVal(e){this.pSumVal!==e&&this.checkStatus(),this.pSumVal=e}get type(){return this.pType}set type(e){this.pType=e}get tcCode(){return this.pTcCode}set tcCode(e){this.pSumVal=e}get tcId(){return this.pTcId}set tcId(e){this.pTcId=e}get status(){return this.pStatus}set status(e){this.pStatus=e}checkStatus(){this.status===n.a.NOT_CHANGED&&(this.status=n.a.CHANGED)}}return e.url="TrnWot64",e.urlWotId="TrnWot64/getInfoByWotId",Object(s.b)([Object(o.b)({alias:"id"})],e.prototype,"pId",void 0),Object(s.b)([Object(o.b)({alias:"wotId"})],e.prototype,"pWotId",void 0),Object(s.b)([Object(o.b)({alias:"sumVal"})],e.prototype,"pSumVal",void 0),Object(s.b)([Object(o.b)({alias:"type"})],e.prototype,"pType",void 0),Object(s.b)([Object(o.b)({alias:"tcCode"})],e.prototype,"pTcCode",void 0),Object(s.b)([Object(o.b)({alias:"tcId"})],e.prototype,"pTcId",void 0),e})()},PDnj:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var s=i("XDeO");let o=(()=>{class e{constructor(e){e&&(this.pCode=e.code,this.pDescription=e.description,this.pDateFrom=s.a.getAnyAsTimestampModel(e.dateFrom),this.pDateTo=s.a.getAnyAsTimestampModel(e.dateTo))}get code(){return this.pCode}set code(e){this.pCode=e}get description(){return this.pDescription}set description(e){this.pDescription=e}get dateFrom(){return this.pDateFrom}set dateFrom(e){this.pDateFrom=e}get dateTo(){return this.pDateTo}set dateTo(e){this.pDateTo=e}get label(){return`${this.pCode} ${this.description}`}}return e.url="TcRCodes",e})()},U2Z4:function(e,t,i){"use strict";i.d(t,"a",(function(){return T}));var s=i("fXoL"),o=i("jGuN"),n=i("n2Fg"),a=i("N6nV"),r=i("ZRIf"),d=i("ofXK"),c=i("1kSV");function l(e,t){if(1&e){const e=s.Tb();s.Sb(0,"button",7),s.ec("click",(function(){return s.wc(e),s.gc(2).onSave()})),s.Nb(1,"i",8),s.Gc(2," \u0417\u0430\u043f\u0438\u0441 \u043a\u0430\u0442\u043e \u043f\u0440\u043e\u0435\u043a\u0442 "),s.Rb()}if(2&e){const e=s.gc(2);s.mc("disabled",!e.isFormValid)}}function h(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",3),s.Sb(1,"button",4),s.ec("click",(function(){return s.wc(e),s.gc().onCancel()})),s.Nb(2,"i",5),s.Gc(3," \u041e\u0442\u043a\u0430\u0437 "),s.Rb(),s.Ec(4,l,3,1,"button",6),s.Rb()}if(2&e){const e=s.gc();s.zb(4),s.mc("ngIf",!e.state||"E"===e.mode)}}function b(e,t){1&e&&(s.Sb(0,"h5",9),s.Gc(1,"\u0424\u041e\u0420\u041c\u0410\u0422\u0410 \u0415 \u041f\u041e\u0414\u041f\u0418\u0421\u0410\u041d\u0410!"),s.Rb())}function u(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",3),s.Sb(1,"button",10),s.ec("click",(function(){return s.wc(e),s.gc(2).onRejectTransition()})),s.Nb(2,"i",11),s.Gc(3," \u041e\u0442\u043a\u0430\u0436\u0438 "),s.Rb(),s.Sb(4,"button",12),s.ec("click",(function(){return s.wc(e),s.gc(2).onProcceedTransition()})),s.Nb(5,"i",13),s.Gc(6," \u041f\u043e\u0442\u0432\u044a\u0440\u0434\u0438 "),s.Rb(),s.Rb()}if(2&e){const e=s.gc(2);s.zb(4),s.mc("disabled",e.statusButtonsDisabled)}}function m(e,t){if(1&e){const e=s.Tb();s.Sb(0,"button",22),s.ec("click",(function(){return s.wc(e),s.gc(4).onDeleteSign()})),s.Nb(1,"i",23),s.Gc(2," \u0418\u0437\u0442\u0440\u0438\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0430 "),s.Rb()}}function p(e,t){if(1&e){const e=s.Tb();s.Sb(0,"button",24),s.ec("click",(function(){s.wc(e);const i=t.$implicit;return s.gc(4).onMakeTransition(i)})),s.Gc(1),s.Rb()}if(2&e){const e=t.$implicit,i=s.gc(4);s.mc("hidden",i.hiddenWhenInssued)("disabled",i.statusButtonsDisabled)("ngbTooltip",e.name),s.zb(1),s.Ic(" ",e.uiButtonLabel," ")}}function g(e,t){if(1&e){const e=s.Tb();s.Sb(0,"button",25),s.ec("click",(function(){return s.wc(e),s.gc(4).onSign()})),s.Nb(1,"i",26),s.Gc(2," \u041f\u043e\u0434\u043f\u0438\u0448\u0438 "),s.Rb()}}function f(e,t){if(1&e){const e=s.Tb();s.Sb(0,"button",27),s.ec("click",(function(){return s.wc(e),s.gc(4).onEdit()})),s.Nb(1,"i",28),s.Gc(2," \u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f "),s.Rb()}}function D(e,t){if(1&e){const e=s.Tb();s.Sb(0,"button",29),s.ec("click",(function(){return s.wc(e),s.gc(4).onOpenHistory()})),s.Nb(1,"i",30),s.Gc(2," \u0418\u0441\u0442\u043e\u0440\u0438\u044f "),s.Rb()}}function S(e,t){if(1&e){const e=s.Tb();s.Sb(0,"button",31),s.ec("click",(function(){s.wc(e);const t=s.gc(4);return t.onMakeTransition(t.deleteState)})),s.Nb(1,"i",32),s.Gc(2," \u0418\u0437\u0442\u0440\u0438\u0439 "),s.Rb()}}function I(e,t){if(1&e&&(s.Sb(0,"div"),s.Ec(1,m,3,0,"button",16),s.Ec(2,p,2,4,"button",17),s.Ec(3,g,3,0,"button",18),s.Ec(4,f,3,0,"button",19),s.Ec(5,D,3,0,"button",20),s.Ec(6,S,3,0,"button",21),s.Rb()),2&e){const e=s.gc(3);s.zb(1),s.mc("ngIf",e.stateNeedSign()&&e.isSigned&&!e.isInnerUser),s.zb(1),s.mc("ngForOf",e.nextStates),s.zb(1),s.mc("ngIf",e.stateNeedSign()&&!e.isSigned&&!e.isInnerUser),s.zb(1),s.mc("ngIf",e.stateCanBeEdited()&&!e.isSigned&&!e.isInnerUser),s.zb(1),s.mc("ngIf",e.isStateWithHistory()),s.zb(1),s.mc("ngIf",!e.isSigned&&e.state===e.WOT_STATUS.PROJECT&&!e.isInnerUser)}}function w(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",3),s.Sb(1,"button",14),s.ec("click",(function(){return s.wc(e),s.gc(2).onCancel()})),s.Nb(2,"i",15),s.Gc(3," \u041e\u0431\u0440\u0430\u0442\u043d\u043e "),s.Rb(),s.Ec(4,I,7,6,"div",2),s.Rb()}if(2&e){const e=s.gc(2);s.zb(4),s.mc("ngIf",e.isInUserRios||!e.isInUserRios&&2===e.roleId)}}function R(e,t){if(1&e&&(s.Sb(0,"div"),s.Ec(1,u,7,1,"div",0),s.Ec(2,w,5,1,"div",0),s.Rb()),2&e){const e=s.gc();s.zb(1),s.mc("ngIf",e.inTransitionProcess),s.zb(1),s.mc("ngIf",!e.inTransitionProcess)}}let T=(()=>{class e{constructor(e){this.crudService=e,this.WOT_STATUS=o.a,this.saveEvent=new s.n,this.cancelEvent=new s.n,this.signEvent=new s.n,this.editEvent=new s.n,this.historyEvent=new s.n,this.deleteSignEvent=new s.n,this.transitionEvent=new s.n,this.procceedTransitionEvent=new s.n,this.rejectTransitionEvent=new s.n}ngOnInit(){this.loadDeletedState(),(this.isSigned||this.isInnerUser||!this.stateNeedSign())&&this.loadNextStates()}ngOnChanges(){(this.isSigned||this.isInnerUser||!this.stateNeedSign())&&this.loadNextStates()}loadNextStates(){this.wotId&&this.crudService.loadByParam(n.a,a.a.DOC_TRANSITION_URL,`${this.wotId}/wot?roleId=${this.roleId}`).subscribe(e=>{this.nextStates=e})}loadDeletedState(){this.crudService.loadById(n.a,n.a.publicUrl,285).subscribe(e=>{this.deleteState=e})}onSave(){this.saveEvent.emit()}onCancel(){this.cancelEvent.emit()}onSign(){this.signEvent.emit()}onEdit(){this.editEvent.emit()}onOpenHistory(){this.historyEvent.emit()}onDeleteSign(){this.deleteSignEvent.emit()}onMakeTransition(e){this.transitionEvent.emit(e)}onProcceedTransition(){this.procceedTransitionEvent.emit()}onRejectTransition(){this.rejectTransitionEvent.emit()}stateCanBeEdited(){return this.state===o.a.PROJECT||this.state===o.a.RETURNED_FOR_CORRECTION||this.state===o.a.IN_ACTUALIZING_PROCCESS}stateNeedSign(){return this.state===o.a.PROJECT||this.state===o.a.RETURNED_FOR_CORRECTION||this.state===o.a.IN_ACTUALIZING_PROCCESS||this.state===o.a.IN_TERMINATION_PROCCESS}isStateWithHistory(){return!1}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(r.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-wot-buttons-status-bar"]],inputs:{mode:"mode",state:"state",isFormValid:"isFormValid",isSigned:"isSigned",wotId:"wotId",roleId:"roleId",isInnerUser:"isInnerUser",inTransitionProcess:"inTransitionProcess",isInUserRios:"isInUserRios",statusButtonsDisabled:"statusButtonsDisabled",hiddenWhenInssued:"hiddenWhenInssued"},outputs:{saveEvent:"saveEvent",cancelEvent:"cancelEvent",signEvent:"signEvent",editEvent:"editEvent",historyEvent:"historyEvent",deleteSignEvent:"deleteSignEvent",transitionEvent:"transitionEvent",procceedTransitionEvent:"procceedTransitionEvent",rejectTransitionEvent:"rejectTransitionEvent"},features:[s.xb],decls:3,vars:3,consts:[["class","d-flex justify-content-between border border-primary alert-primary p-2 mt-0",4,"ngIf"],["class","text-warning text-center",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-between","border","border-primary","alert-primary","p-2","mt-0"],["type","button","placement","left","ngbTooltip","\u041e\u0442\u043a\u0430\u0437","container","body",1,"btn","btn-primary","mr-2",3,"click"],[1,"fas","fa-times","mr-1"],["type","button","class","btn btn-primary","placement","top","ngbTooltip","\u0417\u0430\u043f\u0438\u0441","container","body",3,"disabled","click",4,"ngIf"],["type","button","placement","top","ngbTooltip","\u0417\u0430\u043f\u0438\u0441","container","body",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-plus","text-warning"],[1,"text-warning","text-center"],["type","button","placement","right","ngbTooltip","\u041e\u0442\u043a\u0430\u0436\u0438","container","body",1,"btn","btn-primary",3,"click"],[1,"fas","fa-times","text-danger","mr-1"],["type","button","placement","top","ngbTooltip","\u041f\u043e\u0442\u0432\u044a\u0440\u0434\u0438","container","body",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-check","text-success","mr-1"],["type","button","placement","right","ngbTooltip","\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043a\u044a\u043c \u043f\u0440\u0435\u0433\u043b\u0435\u0434","container","body",1,"btn","btn-primary",3,"click"],[1,"fas","fa-chevron-circle-left"],["type","button","class","btn btn-primary mr-2","placement","left","ngbTooltip","\u0418\u0437\u0442\u0440\u0438\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0430 \u043d\u0430 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435\u0442\u043e","container","body",3,"click",4,"ngIf"],["type","button","class","btn btn-primary mr-2","placement","top","container","body",3,"hidden","disabled","ngbTooltip","click",4,"ngFor","ngForOf"],["type","button","class","btn btn-primary mr-2","placement","left","ngbTooltip","\u041f\u043e\u0434\u043f\u0438\u0448\u0438 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435\u0442\u043e","container","body",3,"click",4,"ngIf"],["type","button","class","btn btn-primary mr-2","placement","top","ngbTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435\u0442\u043e","container","body",3,"click",4,"ngIf"],["type","button","class","btn btn-primary","placement","top","ngbTooltip","\u041e\u0442\u0432\u043e\u0440\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u044f\u0442\u0430","container","body",3,"click",4,"ngIf"],["type","button","class","btn btn-primary","placement","top","ngbTooltip","\u0418\u0437\u0442\u0440\u0438\u0439 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435\u0442\u043e","container","body",3,"click",4,"ngIf"],["type","button","placement","left","ngbTooltip","\u0418\u0437\u0442\u0440\u0438\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0430 \u043d\u0430 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435\u0442\u043e","container","body",1,"btn","btn-primary","mr-2",3,"click"],[1,"fas","fa-remove-format","mr-1","text-danger"],["type","button","placement","top","container","body",1,"btn","btn-primary","mr-2",3,"hidden","disabled","ngbTooltip","click"],["type","button","placement","left","ngbTooltip","\u041f\u043e\u0434\u043f\u0438\u0448\u0438 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435\u0442\u043e","container","body",1,"btn","btn-primary","mr-2",3,"click"],[1,"fas","fa-pen-fancy","mr-1"],["type","button","placement","top","ngbTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435\u0442\u043e","container","body",1,"btn","btn-primary","mr-2",3,"click"],[1,"far","fa-edit","text-warning"],["type","button","placement","top","ngbTooltip","\u041e\u0442\u0432\u043e\u0440\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u044f\u0442\u0430","container","body",1,"btn","btn-primary",3,"click"],[1,"fas","fa-history"],["type","button","placement","top","ngbTooltip","\u0418\u0437\u0442\u0440\u0438\u0439 \u0437\u0430\u044f\u0432\u043b\u0435\u043d\u0438\u0435\u0442\u043e","container","body",1,"btn","btn-primary",3,"click"],[1,"far","fa-trash-alt","text-danger"]],template:function(e,t){1&e&&(s.Ec(0,h,5,1,"div",0),s.Ec(1,b,2,0,"h5",1),s.Ec(2,R,3,2,"div",2)),2&e&&(s.mc("ngIf",!("R"===t.mode)),s.zb(1),s.mc("ngIf",t.isSigned&&!t.isInnerUser&&t.stateNeedSign()),s.zb(1),s.mc("ngIf","R"===t.mode))},directives:[d.u,c.ab,d.t],styles:[""]}),e})()},VN5u:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("mrSG"),o=i("hnrn"),n=i("Z+Hd");let a=(()=>{class e{constructor(e){e?(this.pId=e.id,this.pWotId=e.wotId,this.pProperties=e.properties,this.pMethodCode=e.methodCode,this.pMethodDesc=e.methodDesc,this.pRezult=e.rezult,this.pChemDng=e.chemDng,this.pRCode=e.rCode,this.pStatus=null==e.id?n.a.NEW:n.a.NOT_CHANGED):this.pStatus=n.a.NEW}get id(){return this.pId}set id(e){this.pId=e}get wotId(){return this.pWotId}set wotId(e){this.pWotId=e}get properties(){return this.pProperties}set properties(e){this.pProperties!==e&&this.checkStatus(),this.pProperties=e}get methodCode(){return this.pMethodCode}set methodCode(e){this.pMethodCode!==e&&this.checkStatus(),this.pMethodCode=e}get methodDesc(){return this.pMethodDesc}set methodDesc(e){this.pMethodDesc!==e&&this.checkStatus(),this.pMethodDesc=e}get rezult(){return this.pRezult}set rezult(e){this.pRezult!==e&&this.checkStatus(),this.pRezult=e}get chemDng(){return this.pChemDng}set chemDng(e){this.pChemDng!==e&&this.checkStatus(),this.pChemDng=e}get rCode(){return this.pRCode}set rCode(e){this.pRCode!==e&&this.checkStatus(),this.pRCode=e}get status(){return this.pStatus}set status(e){this.pStatus=e}checkStatus(){this.status===n.a.NOT_CHANGED&&(this.status=n.a.CHANGED)}}return e.url="TrnWot62",e.urlWotId="TrnWot62/getInfoByWotId",Object(s.b)([Object(o.b)({alias:"id"})],e.prototype,"pId",void 0),Object(s.b)([Object(o.b)({alias:"wotId"})],e.prototype,"pWotId",void 0),Object(s.b)([Object(o.b)({alias:"properties"})],e.prototype,"pProperties",void 0),Object(s.b)([Object(o.b)({alias:"methodCode"})],e.prototype,"pMethodCode",void 0),Object(s.b)([Object(o.b)({alias:"methodDesc"})],e.prototype,"pMethodDesc",void 0),Object(s.b)([Object(o.b)({alias:"rezult"})],e.prototype,"pRezult",void 0),Object(s.b)([Object(o.b)({alias:"chemDng"})],e.prototype,"pChemDng",void 0),Object(s.b)([Object(o.b)({alias:"rCode"})],e.prototype,"pRCode",void 0),e})()},VYhy:function(e,t,i){"use strict";i.d(t,"a",(function(){return Ge}));var s=i("mrSG"),o=i("fXoL"),n=i("SkKo"),a=i("WCP0"),r=i("CR6u"),d=i("cp0P"),c=i("LRne"),l=i("+QWa"),h=i("u1cU"),b=i("pLGQ"),u=i("KQ7d"),m=i("JIr8"),p=i("mKt/"),g=i("B13j"),f=i("Oli9"),D=i("VN5u"),S=i("Oxe/"),I=i("KdD0");class w{constructor(e){e&&(this.basicInfo=e.basicInfo,this.wotId=e.wotId,this.ornId=e.ornId,this.orgAddress=e.orgAddress,this.contact=e.contact,this.contactPersonData=e.contactPersonData,this.mailingAddress=e.mailingAddress,this.mailingAddressData=e.mailingAddressData,this.ewc=e.ewc,this.wasteCode=e.wasteCode,this.wasteDescr=e.wasteDescr,this.riosv=e.riosv,this.isElectronicAcc=e.isElectronicAcc,this.responsibility=e.responsibility,this.isHazardous=e.isHazardous,this.isDangerous1=e.isDangerous1,this.isDangerous2=e.isDangerous2,this.isDangerous3=e.isDangerous3,this.stages=e.stages,this.wot62=e.wot62,this.wot63=e.wot63,this.wot641=e.wot641,this.wot642=e.wot642,this.docs=e.docs,this.docsMetaData=e.docsMetaData,this.docsForDelete=e.docsForDelete)}}var R=i("mUoA"),T=i("PSD3"),v=i.n(T),E=i("dZ/L"),O=i("ROb3"),C=i("BsUY"),A=i("+z3G"),y=i("ZRIf"),F=i("tyNb"),N=i("sGcX"),W=i("4XRX"),M=i("3Pt+"),x=i("1kSV"),z=i("d+ck"),_=i("QCcn"),j=i("BXZV"),P=i("LlKj"),k=i("ofXK"),V=i("Bz/w"),G=i("nI3r"),L=i("JNNt"),U=i("TTlI"),H=i("ZOsW"),B=i("Mtn9"),q=i("sYmb");const $=["acc"],K=["form"],Y=["contactApp"],X=["address"],Z=["docsForm"],J=["actionList"];function Q(e,t){1&e&&(o.Sb(0,"h6",23),o.Gc(1),o.hc(2,"translate"),o.Rb()),2&e&&(o.zb(1),o.Ic(" ",o.ic(2,1,"worksheets.wasteClassification.wasteGenerator")," "))}function ee(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-basic-app-info",24,25),o.ec("orgEmitter",(function(t){return o.wc(e),o.gc().setOrganization(t)})),o.Rb()}if(2&e){const e=o.gc();o.mc("model",e.ornView)("isReadonly",!e.isInnerUser||"R"===e.mode)("isInnerUser",e.isInnerUser)}}function te(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",26),o.Sb(1,"h6",23),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div"),o.Sb(5,"button",27),o.ec("click",(function(){return o.wc(e),o.gc().copyAddress()})),o.Gc(6," \u041a\u043e\u043f\u0438\u0440\u0430\u0439 \u0430\u0434\u0440\u0435\u0441\u0430 "),o.Rb(),o.Sb(7,"button",28),o.Nb(8,"i",29),o.Nb(9,"i",30),o.Rb(),o.Rb(),o.Rb()}if(2&e){o.gc();const e=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,3,"worksheets.wasteClassification.headquarters")," "),o.zb(6),o.mc("hidden",e.isExpanded("headquarters")),o.zb(1),o.mc("hidden",!e.isExpanded("headquarters"))}}function ie(e,t){if(1&e&&o.Nb(0,"app-address-form",31),2&e){const e=o.gc();o.mc("isExpanded",!0)("addressData",e.model.orgAddress)("mode",e.mode)}}const se=function(e){return{"mb-0":e}};function oe(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",32),o.Sb(1,"div",33),o.Sb(2,"h6",34),o.Gc(3),o.hc(4,"translate"),o.Rb(),o.Rb(),o.Sb(5,"div",35),o.Sb(6,"app-fi-select-dropdown",36),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.mailingAddress=t}))("valueEmitter",(function(t){return o.wc(e),o.gc().onAddressChanged(t)})),o.Rb(),o.Rb(),o.Sb(7,"button",37),o.Nb(8,"i",29),o.Nb(9,"i",30),o.Rb(),o.Rb()}if(2&e){const e=o.gc(),t=o.vc(4);o.zb(2),o.mc("ngClass",o.qc(11,se,"R"!==e.mode)),o.zb(1),o.Ic(" ",o.ic(4,9,"applications.wasteEnd.mailingAddress"),""),o.zb(3),o.mc("ngModel",e.model.mailingAddress)("formItemDef",e.formDefs[5])("externalDataItems",e.addresses)("name",e.formDefs[5].domName)("hidden","R"===e.mode),o.zb(2),o.mc("hidden",t.isExpanded("mailing-address")),o.zb(1),o.mc("hidden",!t.isExpanded("mailing-address"))}}function ne(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-address-form",38,39),o.ec("formStatusValidChanged",(function(t){return o.wc(e),o.gc().onAddressValidityChange(t)})),o.Rb()}if(2&e){const e=o.gc();o.mc("isExpanded",!0)("addressData",e.model.mailingAddressData)("mode",e.mode)}}function ae(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",32),o.Sb(1,"div",33),o.Sb(2,"h6",34),o.Gc(3),o.hc(4,"translate"),o.Rb(),o.Rb(),o.Sb(5,"div",35),o.Sb(6,"app-fi-select-dropdown",40),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.contact=t}))("valueEmitter",(function(t){return o.wc(e),o.gc().onContactChanged(t)})),o.Rb(),o.Rb(),o.Sb(7,"button",37),o.Nb(8,"i",29),o.Nb(9,"i",30),o.Rb(),o.Rb()}if(2&e){const e=o.gc(),t=o.vc(4);o.zb(2),o.mc("ngClass",o.qc(11,se,"R"!==e.mode)),o.zb(1),o.Ic(" ",o.ic(4,9,"worksheets.wasteClassification.orgContacts"),""),o.zb(3),o.mc("ngModel",e.model.contact)("formItemDef",e.formDefs[4])("externalDataItems",e.contacts)("name",e.formDefs[4].domName)("hidden","R"===e.mode),o.zb(2),o.mc("hidden",t.isExpanded("org-contacts")),o.zb(1),o.mc("hidden",!t.isExpanded("org-contacts"))}}function re(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-contact-person-only-form",41,42),o.ec("formStatusValidChanged",(function(t){return o.wc(e),o.gc().onContactValidityChange(t)})),o.Rb()}if(2&e){const e=o.gc();o.mc("model",e.model.contactPersonData)("mode",e.mode)}}function de(e,t){if(1&e){const e=o.Tb();o.Sb(0,"button",44),o.ec("click",(function(){o.wc(e);const t=o.gc(2),i=o.vc(4);return t.onAddStage(),i.expand("stage")})),o.Nb(1,"i",45),o.Rb()}}function ce(e,t){if(1&e&&(o.Sb(0,"div",26),o.Sb(1,"h6",23),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div"),o.Ec(5,de,2,0,"button",43),o.Sb(6,"button",28),o.Nb(7,"i",29),o.Nb(8,"i",30),o.Rb(),o.Rb(),o.Rb()),2&e){const e=o.gc(),t=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,4,"worksheets.wasteClassification.stages")," "),o.zb(3),o.mc("ngIf","R"!==e.mode),o.zb(2),o.mc("hidden",t.isExpanded("stage")),o.zb(1),o.mc("hidden",!t.isExpanded("stage"))}}function le(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div"),o.Sb(1,"app-wot-stage",47),o.ec("districtChangeEmitter",(function(t){return o.wc(e),o.gc(2).onDistrictChange(t)}))("formStatusValidChanged",(function(i){o.wc(e);const s=t.index;return o.gc(2).onStageValidityChange(i,s)}))("deleteStage",(function(t){return o.wc(e),o.gc(2).onDeleteStage(t)})),o.Rb(),o.Rb()}if(2&e){const e=t.$implicit,i=t.index,s=o.gc(2);o.zb(1),o.mc("riosv",s.model.riosv)("model",e)("wotStages",s.model.stages)("index",i)("mode",s.mode)("isInnerUser",s.isInnerUser)("orn",s.currentOrn)}}function he(e,t){if(1&e&&o.Ec(0,le,2,7,"div",46),2&e){const e=o.gc();o.mc("ngForOf",e.model.stages)}}function be(e,t){if(1&e&&(o.Sb(0,"div",26),o.Sb(1,"h6",23),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div"),o.Sb(5,"button",28),o.Nb(6,"i",29),o.Nb(7,"i",30),o.Rb(),o.Rb(),o.Rb()),2&e){o.gc();const e=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,3,"worksheets.wasteClassification.wasteDescr")," "),o.zb(4),o.mc("hidden",e.isExpanded("waste-descr")),o.zb(1),o.mc("hidden",!e.isExpanded("waste-descr"))}}function ue(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-fi-input-text",20),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.wasteDescr=t})),o.Rb()}if(2&e){const e=o.gc();o.mc("ngModel",e.model.wasteDescr)("formItemDef",e.formDefs[0])("name",e.formDefs[0].domName)}}function me(e,t){if(1&e&&(o.Sb(0,"div",26),o.Sb(1,"h6",23),o.Gc(2),o.hc(3,"uppercase"),o.hc(4,"translate"),o.Rb(),o.Sb(5,"div"),o.Sb(6,"button",28),o.Nb(7,"i",29),o.Nb(8,"i",30),o.Rb(),o.Rb(),o.Rb()),2&e){o.gc();const e=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,3,o.ic(4,5,"worksheets.wasteClassification.clasification"))," "),o.zb(5),o.mc("hidden",e.isExpanded("clasification")),o.zb(1),o.mc("hidden",!e.isExpanded("clasification"))}}function pe(e,t){if(1&e){const e=o.Tb();o.Sb(0,"input",59),o.ec("ngModelChange",(function(t){o.wc(e);const i=o.gc().$implicit;return o.gc(2).getWot62(i).methodCode=t})),o.Rb()}if(2&e){const e=o.gc(),t=e.$implicit,i=e.index,s=o.gc(2);o.mc("ngModel",s.getWot62(t).methodCode)("disabled","R"===s.mode)("name","mothodCode"+i)}}function ge(e,t){if(1&e){const e=o.Tb();o.Sb(0,"input",60),o.ec("ngModelChange",(function(t){o.wc(e);const i=o.gc().$implicit;return o.gc(2).getWot62(i).methodDesc=t})),o.Rb()}if(2&e){const e=o.gc(),t=e.$implicit,i=e.index,s=o.gc(2);o.mc("ngModel",s.getWot62(t).methodDesc)("disabled","R"===s.mode)("name","methodDesc"+i)}}function fe(e,t){if(1&e){const e=o.Tb();o.Sb(0,"input",61),o.ec("ngModelChange",(function(t){o.wc(e);const i=o.gc().$implicit;return o.gc(2).getWot62(i).rezult=t})),o.Rb()}if(2&e){const e=o.gc(),t=e.$implicit,i=e.index,s=o.gc(2);o.mc("ngModel",s.getWot62(t).rezult)("disabled","R"===s.mode)("name","result"+i)}}function De(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-fi-select-dropdown",62),o.ec("ngModelChange",(function(t){o.wc(e);const i=o.gc().$implicit;return o.gc(2).getWot62(i).chemDng=t})),o.Rb()}if(2&e){const e=o.gc(),t=e.$implicit,i=e.index,s=o.gc(2);o.mc("disabled","R"===s.mode)("ngModel",s.getWot62(t).chemDng)("formItemDef",s.etiquetteFormDefs[i])("labelFieldName","label")("valueFieldName","code")("name",null==s.etiquetteFormDefs[i]?null:s.etiquetteFormDefs[i].domName)}}function Se(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-fi-select-dropdown",62),o.ec("ngModelChange",(function(t){o.wc(e);const i=o.gc().$implicit;return o.gc(2).getWot62(i).rCode=t})),o.Rb()}if(2&e){const e=o.gc(),t=e.$implicit,i=e.index,s=o.gc(2);o.mc("disabled","R"===s.mode)("ngModel",s.getWot62(t).rCode)("formItemDef",s.standartFrazeFormDefs[i])("labelFieldName","label")("valueFieldName","code")("name",null==s.standartFrazeFormDefs[i]?null:s.standartFrazeFormDefs[i].domName)}}function Ie(e,t){if(1&e&&(o.Sb(0,"tr"),o.Sb(1,"td"),o.Gc(2),o.Rb(),o.Sb(3,"td"),o.Ec(4,pe,1,3,"input",55),o.Rb(),o.Sb(5,"td"),o.Ec(6,ge,1,3,"input",56),o.Rb(),o.Sb(7,"td"),o.Ec(8,fe,1,3,"input",57),o.Rb(),o.Sb(9,"td"),o.Ec(10,De,1,6,"app-fi-select-dropdown",58),o.Rb(),o.Sb(11,"td"),o.Ec(12,Se,1,6,"app-fi-select-dropdown",58),o.Rb(),o.Rb()),2&e){const e=t.$implicit,i=o.gc(2);o.zb(2),o.Hc(e.label),o.zb(2),o.mc("ngIf",i.getWot62(e)),o.zb(2),o.mc("ngIf",i.getWot62(e)),o.zb(2),o.mc("ngIf",i.getWot62(e)),o.zb(2),o.mc("ngIf",i.getWot62(e)),o.zb(2),o.mc("ngIf",i.getWot62(e))}}function we(e,t){if(1&e&&(o.Sb(0,"h6",48),o.Gc(1),o.hc(2,"uppercase"),o.hc(3,"translate"),o.Rb(),o.Sb(4,"table",49),o.Sb(5,"thead",50),o.Sb(6,"tr"),o.Sb(7,"th",51),o.Gc(8),o.hc(9,"uppercase"),o.Rb(),o.Sb(10,"th",52),o.Gc(11),o.hc(12,"uppercase"),o.Rb(),o.Sb(13,"th",53),o.Gc(14),o.hc(15,"uppercase"),o.Rb(),o.Rb(),o.Sb(16,"tr"),o.Sb(17,"th"),o.Gc(18),o.hc(19,"uppercase"),o.Rb(),o.Sb(20,"th"),o.Gc(21),o.hc(22,"uppercase"),o.Rb(),o.Sb(23,"th",54),o.Gc(24),o.hc(25,"uppercase"),o.Rb(),o.Sb(26,"th"),o.Gc(27),o.hc(28,"uppercase"),o.Rb(),o.Sb(29,"th"),o.Gc(30),o.hc(31,"uppercase"),o.Rb(),o.Rb(),o.Rb(),o.Sb(32,"tbody"),o.Ec(33,Ie,13,6,"tr",46),o.Rb(),o.Rb()),2&e){const e=o.gc();o.zb(1),o.Hc(o.ic(2,10,o.ic(3,12,"worksheets.wasteClassification.r2"))),o.zb(7),o.Hc(o.ic(9,14,"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 3 \u043e\u0442 \u0417\u0423\u041e")),o.zb(3),o.Ic(" ",o.ic(12,16,"\u0418\u0437\u043f\u0438\u0442\u0432\u0430\u043d\u0435 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u0437\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u0442\u0430 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 3 \u043e\u0442 \u0417\u0423\u041e"),""),o.zb(3),o.Ic(" ",o.ic(15,18,"\u041a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430"),""),o.zb(4),o.Hc(o.ic(19,20,"\u041a\u043e\u0434 \u043d\u0430 \u043c\u0435\u0442\u043e\u0434\u0430 \u0437\u0430 \u0438\u0437\u043f\u0438\u0442\u0432\u0430\u043d\u0435")),o.zb(3),o.Hc(o.ic(22,22,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u043c\u0435\u0442\u043e\u0434\u0430 \u0437\u0430 \u0438\u0437\u043f\u0438\u0442\u0432\u0430\u043d\u0435")),o.zb(3),o.Hc(o.ic(25,24,"\u0420\u0435\u0437\u0443\u043b\u0442\u0430\u0442 \u043e\u0442 \u0438\u0437\u043f\u0438\u0442\u0432\u0430\u043d\u0435\u0442\u043e, \u043c\u0435\u0440\u043d\u0430 \u0435\u0434\u0438\u043d\u0438\u0446\u0430")),o.zb(3),o.Hc(o.ic(28,26,"\u0415\u0442\u0438\u043a\u0435\u0442\u0438\u0440\u0430\u043d\u0435 (\u0441\u0438\u043c\u0432\u043e\u043b\u0438 \u0438 \u0437\u043d\u0430\u0446\u0438 \u043d\u0430 \u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442)")),o.zb(3),o.Hc(o.ic(31,28,"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0438 \u0444\u0440\u0430\u0437\u0438 \u043d\u0430 \u0440\u0438\u0441\u043a\u0430 (R \u0444\u0440\u0430\u0437\u0438)")),o.zb(3),o.mc("ngForOf",e.wotProperty)}}function Re(e,t){if(1&e&&(o.Sb(0,"div",26),o.Sb(1,"h6",23),o.Gc(2),o.hc(3,"uppercase"),o.Rb(),o.Sb(4,"div"),o.Sb(5,"button",28),o.Nb(6,"i",29),o.Nb(7,"i",30),o.Rb(),o.Rb(),o.Rb()),2&e){o.gc();const e=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,3,"I\u0406\u0406. \u041a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u0432\u044a\u0437 \u043e\u0441\u043d\u043e\u0432\u0430 \u043d\u0430 \u0438\u0437\u043f\u0438\u0442\u0432\u0430\u043d\u0435 \u043f\u043e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438\u0442\u0435 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 4 \u043e\u0442 \u041d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435")," "),o.zb(4),o.mc("hidden",e.isExpanded("clasification-comp")),o.zb(1),o.mc("hidden",!e.isExpanded("clasification-comp"))}}function Te(e,t){if(1&e){const e=o.Tb();o.Sb(0,"tr"),o.Sb(1,"td"),o.Sb(2,"input",60),o.ec("ngModelChange",(function(i){return o.wc(e),t.$implicit.name=i})),o.Rb(),o.Rb(),o.Sb(3,"td"),o.Sb(4,"input",67),o.ec("ngModelChange",(function(i){return o.wc(e),t.$implicit.weight=i})),o.Rb(),o.Rb(),o.Sb(5,"td"),o.Sb(6,"input",67),o.ec("ngModelChange",(function(i){return o.wc(e),t.$implicit.flashPoint=i})),o.Rb(),o.Rb(),o.Sb(7,"td"),o.Sb(8,"app-fi-select-dropdown",68),o.ec("ngModelChange",(function(i){return o.wc(e),t.$implicit.chemDng=i})),o.Rb(),o.Rb(),o.Sb(9,"td"),o.Sb(10,"app-fi-select-dropdown",68),o.ec("ngModelChange",(function(i){return o.wc(e),t.$implicit.rCode=i})),o.Rb(),o.Rb(),o.Sb(11,"td"),o.Sb(12,"input",67),o.ec("ngModelChange",(function(i){return o.wc(e),t.$implicit.carcinogenic=i})),o.Rb(),o.Rb(),o.Sb(13,"td"),o.Sb(14,"input",67),o.ec("ngModelChange",(function(i){return o.wc(e),t.$implicit.mutagenic=i})),o.Rb(),o.Rb(),o.Sb(15,"td"),o.Sb(16,"input",67),o.ec("ngModelChange",(function(i){return o.wc(e),t.$implicit.toxicRepr=i})),o.Rb(),o.Rb(),o.Sb(17,"td"),o.Sb(18,"button",69),o.ec("click",(function(){o.wc(e);const i=t.index;return o.gc(2).deleteRow(i)})),o.Nb(19,"i",70),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=t.$implicit,i=t.index,s=o.gc(2);o.zb(2),o.mc("ngModel",e.name)("disabled","R"===s.mode)("name","name"+i),o.zb(2),o.mc("ngModel",e.weight)("disabled","R"===s.mode)("name","weight"+i),o.zb(2),o.mc("ngModel",e.flashPoint)("disabled","R"===s.mode)("name","flashPoint"+i),o.zb(2),o.mc("ngModel",e.chemDng)("disabled","R"===s.mode)("formItemDef",s.etiquette2FormDefs[i])("labelFieldName","label")("valueFieldName","code")("name",null==s.etiquette2FormDefs[i]?null:s.etiquette2FormDefs[i].domName),o.zb(2),o.mc("ngModel",e.rCode)("disabled","R"===s.mode)("formItemDef",s.standartFraze2FormDefs[i])("labelFieldName","label")("valueFieldName","code")("name",null==s.standartFraze2FormDefs[i]?null:s.standartFraze2FormDefs[i].domName),o.zb(2),o.mc("ngModel",e.carcinogenic)("disabled","R"===s.mode)("name","carcinogenic"+i),o.zb(2),o.mc("ngModel",e.mutagenic)("disabled","R"===s.mode)("name","mutagenic"+i),o.zb(2),o.mc("ngModel",e.toxicRepr)("disabled","R"===s.mode)("name","toxicRepr_"+i)}}function ve(e,t){if(1&e){const e=o.Tb();o.Sb(0,"h6",48),o.Gc(1),o.hc(2,"uppercase"),o.Rb(),o.Sb(3,"table",49),o.Sb(4,"thead",50),o.Sb(5,"tr"),o.Sb(6,"th",52),o.Gc(7),o.hc(8,"uppercase"),o.Rb(),o.Sb(9,"th",63),o.Gc(10),o.hc(11,"uppercase"),o.Rb(),o.Sb(12,"th"),o.Sb(13,"button",64),o.ec("click",(function(){return o.wc(e),o.gc().addClasificationCompRow()})),o.Nb(14,"i",45),o.Rb(),o.Rb(),o.Rb(),o.Sb(15,"tr"),o.Sb(16,"th"),o.Gc(17),o.hc(18,"uppercase"),o.Rb(),o.Sb(19,"th"),o.Gc(20),o.hc(21,"uppercase"),o.Rb(),o.Sb(22,"th"),o.Gc(23),o.hc(24,"uppercase"),o.Rb(),o.Sb(25,"th"),o.Gc(26),o.hc(27,"uppercase"),o.Rb(),o.Sb(28,"th"),o.Gc(29),o.hc(30,"uppercase"),o.Rb(),o.Sb(31,"th"),o.Gc(32),o.hc(33,"uppercase"),o.Rb(),o.Sb(34,"th"),o.Gc(35),o.hc(36,"uppercase"),o.Rb(),o.Sb(37,"th"),o.Gc(38),o.hc(39,"uppercase"),o.Rb(),o.Nb(40,"th"),o.Rb(),o.Rb(),o.Sb(41,"tbody"),o.Ec(42,Te,20,30,"tr",46),o.Rb(),o.Rb(),o.Sb(43,"div",65),o.Sb(44,"h6"),o.Gc(45," (*) \u0414\u043e\u043a\u043e\u043b\u043a\u043e\u0442\u043e \u0441\u0430 \u043d\u0430 \u0440\u0430\u0437\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u0438 \u043d\u0430 \u0438\u0437\u043f\u0438\u0442\u0432\u0430\u043d\u0435."),o.Nb(46,"br"),o.Gc(47," \u0410. \u041a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u043a\u0430\u0442\u043e \u043e\u043f\u0430\u0441\u0435\u043d \u0432 \u0441\u044a\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0441 \u0447\u043b. 11, \u0430\u043b. 1, \u0442. 1 "),o.Rb(),o.Sb(48,"ng-select",66),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.isDangerous1=t})),o.Rb(),o.Rb()}if(2&e){const e=o.gc();o.zb(1),o.Ic(" ",o.ic(2,18,"\u0420\u0430\u0437\u0434\u0435\u043b III \u0441\u0435 \u043f\u043e\u043f\u044a\u043b\u0432\u0430 \u043f\u0440\u0438 \u043f\u0440\u0438\u043b\u0430\u0433\u0430\u043d\u0435 \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u043f\u043e \u0440\u0435\u0434\u0430 \u043d\u0430 \u0447\u043b. 11, \u0430\u043b. 1, \u0442. 2 \u043e\u0442 \u041d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435.")," "),o.zb(6),o.Hc(o.ic(8,20,"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 3 \u043e\u0442 \u0417\u0423\u041e")),o.zb(3),o.Ic(" ",o.ic(11,22,"\u0418\u0437\u043f\u0438\u0442\u0432\u0430\u043d\u0435 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u0437\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u0442\u0430 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 3 \u043e\u0442 \u0417\u0423\u041e"),""),o.zb(3),o.mc("disabled","R"===e.mode),o.zb(4),o.Hc(o.ic(18,24,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435")),o.zb(3),o.Hc(o.ic(21,26,"\u0421\u044a\u0434\u044a\u0440\u0436\u0430\u043d\u0438\u0435, % \u0442\u0435\u0433\u043b\u043e\u0432\u043d\u0438")),o.zb(3),o.Hc(o.ic(24,28,"\u0422\u043e\u0447\u043a\u0430 \u043d\u0430 \u0432\u044a\u0437\u043f\u043b\u0430\u043c\u0435\u043d\u044f\u0432\u0430\u043d\u0435, O\u0421")),o.zb(3),o.Hc(o.ic(27,30,"\u0415\u0442\u0438\u043a\u0435\u0442\u0438\u0440\u0430\u043d\u0435 (\u0441\u0438\u043c\u0432\u043e\u043b\u0438 \u0438 \u0437\u043d\u0430\u0446\u0438 \u043d\u0430 \u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442)")),o.zb(3),o.Hc(o.ic(30,32,"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0438 \u0444\u0440\u0430\u0437\u0438 \u043d\u0430 \u0440\u0438\u0441\u043a\u0430 (R \u0444\u0440\u0430\u0437\u0438)")),o.zb(3),o.Hc(o.ic(33,34,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043a\u0430\u043d\u0446\u0435\u0440\u043e\u0433\u0435\u043d\u043d\u0438")),o.zb(3),o.Hc(o.ic(36,36,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u043c\u0443\u0442\u0430\u0433\u0435\u043d\u043d\u0438")),o.zb(3),o.Hc(o.ic(39,38,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0442\u043e\u043a\u0441\u0438\u0447\u043d\u0438 \u0437\u0430 \u0440\u0435\u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f\u0442\u0430")),o.zb(4),o.mc("ngForOf",e.model.wot63),o.zb(6),o.mc("ngModel",e.model.isDangerous1)("bindLabel","label")("bindValue","value")("clearable",!1)("items",e.dangerous)}}function Ee(e,t){if(1&e&&(o.Sb(0,"div",26),o.Sb(1,"h6",23),o.Gc(2),o.hc(3,"uppercase"),o.Rb(),o.Sb(4,"div"),o.Sb(5,"button",28),o.Nb(6,"i",29),o.Nb(7,"i",30),o.Rb(),o.Rb(),o.Rb()),2&e){o.gc();const e=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,3,"IV. \u041a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u0432\u044a\u0437 \u043e\u0441\u043d\u043e\u0432\u0430 \u043d\u0430 \u0438\u0437\u043f\u0438\u0442\u0432\u0430\u043d\u0435 \u043f\u043e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438\u0442\u0435 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u2116 4 \u043e\u0442 \u041d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435 \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u0432\u0430\u0449\u043e \u0441\u0443\u043c\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u043e\u0442\u043e \u0441\u044a\u0434\u044a\u0440\u0436\u0430\u043d\u0438\u0435 \u043d\u0430 \u043e\u043f\u0430\u0441\u043d\u0438\u0442\u0435 \u0432\u0435\u0449\u0435\u0441\u0442\u0432\u0430, \u043f\u0440\u0438\u0442\u0435\u0436\u0430\u0432\u0430\u0449\u0438 \u0435\u0434\u043d\u043e \u0438 \u0441\u044a\u0449\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e")," "),o.zb(4),o.mc("hidden",e.isExpanded("clasification-test")),o.zb(1),o.mc("hidden",!e.isExpanded("clasification-test"))}}function Oe(e,t){if(1&e){const e=o.Tb();o.Sb(0,"input",67),o.ec("ngModelChange",(function(t){o.wc(e);const i=o.gc().$implicit;return o.gc(2).getWot641(i).sumVal=t})),o.Rb()}if(2&e){const e=o.gc(),t=e.$implicit,i=e.index,s=o.gc(2);o.mc("ngModel",s.getWot641(t).sumVal)("disabled","R"===s.mode)("name","sumVal_641_"+i)}}function Ce(e,t){if(1&e&&(o.Sb(0,"tr"),o.Sb(1,"td"),o.Gc(2),o.Rb(),o.Sb(3,"td"),o.Gc(4),o.Rb(),o.Sb(5,"td"),o.Ec(6,Oe,1,3,"input",73),o.Rb(),o.Rb()),2&e){const e=t.$implicit,i=o.gc(2);o.zb(2),o.Hc(e.label),o.zb(2),o.Hc(e.refVal),o.zb(2),o.mc("ngIf",i.getWot641(e))}}function Ae(e,t){if(1&e){const e=o.Tb();o.Sb(0,"input",67),o.ec("ngModelChange",(function(t){o.wc(e);const i=o.gc().$implicit;return o.gc(2).getWot642(i).sumVal=t})),o.Rb()}if(2&e){const e=o.gc(),t=e.$implicit,i=e.index,s=o.gc(2);o.mc("ngModel",s.getWot642(t).sumVal)("disabled","R"===s.mode)("name","sumVal_642_"+i)}}function ye(e,t){if(1&e&&(o.Sb(0,"tr"),o.Sb(1,"td"),o.Gc(2),o.Rb(),o.Sb(3,"td"),o.Ec(4,Ae,1,3,"input",73),o.Rb(),o.Rb()),2&e){const e=t.$implicit,i=o.gc(2);o.zb(2),o.Hc(e.label),o.zb(2),o.mc("ngIf",i.getWot642(e))}}function Fe(e,t){if(1&e){const e=o.Tb();o.Sb(0,"h6",48),o.Gc(1),o.hc(2,"uppercase"),o.Rb(),o.Sb(3,"table",71),o.Sb(4,"thead",50),o.Sb(5,"tr"),o.Sb(6,"th",52),o.Gc(7),o.hc(8,"uppercase"),o.Rb(),o.Rb(),o.Sb(9,"tr"),o.Sb(10,"th"),o.Gc(11),o.hc(12,"uppercase"),o.Rb(),o.Sb(13,"th"),o.Gc(14),o.hc(15,"uppercase"),o.Rb(),o.Sb(16,"th"),o.Gc(17),o.hc(18,"uppercase"),o.Rb(),o.Rb(),o.Rb(),o.Sb(19,"tbody"),o.Ec(20,Ce,7,3,"tr",46),o.Rb(),o.Rb(),o.Sb(21,"table",72),o.Sb(22,"thead",50),o.Sb(23,"tr"),o.Sb(24,"th",53),o.Gc(25),o.hc(26,"uppercase"),o.Rb(),o.Rb(),o.Sb(27,"tr"),o.Sb(28,"th"),o.Gc(29),o.hc(30,"uppercase"),o.Rb(),o.Sb(31,"th"),o.Gc(32),o.hc(33,"uppercase"),o.Rb(),o.Rb(),o.Rb(),o.Sb(34,"tbody"),o.Ec(35,ye,5,2,"tr",46),o.Rb(),o.Rb(),o.Sb(36,"div",65),o.Sb(37,"h6"),o.Gc(38,"\u041a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u043a\u0430\u0442\u043e \u043e\u043f\u0430\u0441\u0435\u043d \u0432 \u0441\u044a\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0441 \u0447\u043b. 11, \u0430\u043b. 1, \u0442. 2 "),o.Rb(),o.Sb(39,"ng-select",66),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.isDangerous2=t})),o.Rb(),o.Rb()}if(2&e){const e=o.gc();o.zb(1),o.Ic(" ",o.ic(2,15,"\u0420\u0430\u0437\u0434\u0435\u043b IV \u0441\u0435 \u043f\u043e\u043f\u044a\u043b\u0432\u0430 \u043f\u0440\u0438 \u043f\u0440\u0438\u043b\u0430\u0433\u0430\u043d\u0435 \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u043f\u043e \u0440\u0435\u0434\u0430 \u043d\u0430 \u0447\u043b. 11, \u0430\u043b. 1, \u0442. 2 \u043e\u0442 \u041d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435.")," "),o.zb(6),o.Ic(" ",o.ic(8,17,"IV-1. \u0421\u0440\u0430\u0432\u043d\u044f\u0432\u0430\u043d\u0435 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0442\u0435 \u0441\u0442\u043e\u0439\u043d\u043e\u0441\u0442\u0438 \u0437\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u0442\u0430 \u043e\u0442 \u041d3 \u0434\u043e \u041d8, \u041d10, \u041d11 \u0438 \u041d13 \u0441 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438\u0442\u0435 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 3 \u043e\u0442 \u041d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435")," "),o.zb(4),o.Ic(" ",o.ic(12,19,"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430 \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430")," "),o.zb(3),o.Ic(" ",o.ic(15,21,"\u0413\u0440\u0430\u043d\u0438\u0447\u043d\u0438 \u0441\u0442\u043e\u0439\u043d\u043e\u0441\u0442\u0438")," "),o.zb(3),o.Ic(" ",o.ic(18,23,"\u0421\u0443\u043c\u0430\u0440\u043d\u043e \u0437\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430, \u041e\u0421/% \u0442\u0435\u0433\u043b\u043e\u0432\u043d\u0438")," "),o.zb(3),o.mc("ngForOf",e.tcApp64),o.zb(5),o.Ic(" ",o.ic(26,25,"IV-2. \u0421\u0443\u043c\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u043e\u0442\u043e \u0441\u044a\u0434\u044a\u0440\u0436\u0430\u043d\u0438\u0435 \u043d\u0430 \u043e\u043f\u0430\u0441\u043d\u0438\u0442\u0435 \u0432\u0435\u0449\u0435\u0441\u0442\u0432\u0430, \u043f\u0440\u0438\u0442\u0435\u0436\u0430\u0432\u0430\u0449\u0438 \u0435\u0434\u043d\u043e \u0438 \u0441\u044a\u0449\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0437\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u0442\u0430 \u0431\u0435\u0437 \u0434\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u043d\u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 - \u041d1, \u041d2, \u041d9 \u0438 \u041d14")," "),o.zb(4),o.Ic(" ",o.ic(30,27,"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430")," "),o.zb(3),o.Ic(" ",o.ic(33,29,"\u0421\u0443\u043c\u0430\u0440\u043d\u043e \u0437\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430, \u041e\u0421/% \u0442\u0435\u0433\u043b\u043e\u0432\u043d\u0438")," "),o.zb(3),o.mc("ngForOf",e.wotPropertySpec),o.zb(4),o.mc("ngModel",e.model.isDangerous2)("bindLabel","label")("bindValue","value")("clearable",!1)("items",e.dangerous)}}function Ne(e,t){if(1&e&&(o.Sb(0,"div",26),o.Sb(1,"h6",23),o.Gc(2),o.hc(3,"uppercase"),o.Rb(),o.Sb(4,"div"),o.Sb(5,"button",28),o.Nb(6,"i",29),o.Nb(7,"i",30),o.Rb(),o.Rb(),o.Rb()),2&e){o.gc();const e=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,3,"V. \u041e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u043d\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u043f\u043e \u0440\u0435\u0434\u0430 \u043d\u0430 \u0447\u043b. 11 \u043e\u0442 \u041d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435")," "),o.zb(4),o.mc("hidden",e.isExpanded("clasification-final")),o.zb(1),o.mc("hidden",!e.isExpanded("clasification-final"))}}function We(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",65),o.Sb(1,"h6"),o.Gc(2,"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u043d\u0430 \u0437\u043d\u0430\u043a (*)\u0414\u0430/\u041d\u0435 \u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430 \u043e\u043f\u0430\u0441\u0435\u043d \u043e\u0442\u043f\u0430\u0434\u044a\u043a "),o.Rb(),o.Sb(3,"ng-select",66),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.isDangerous3=t})),o.Rb(),o.Rb(),o.Sb(4,"app-fi-select-dropdown",74),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.ewc=t}))("valueEmitter",(function(t){return o.wc(e),o.gc().onWasteCodeSelected(t)})),o.Rb()}if(2&e){const e=o.gc();o.zb(3),o.mc("ngModel",e.model.isDangerous3)("bindLabel","label")("bindValue","value")("clearable",!1)("items",e.dangerous),o.zb(1),o.mc("ngModel",e.model.ewc)("formItemDef",e.formDefs[2])("labelFieldName","label")("valueFieldName","ewc")("name",e.formDefs[2].domName)}}function Me(e,t){if(1&e){const e=o.Tb();o.Sb(0,"button",44),o.ec("click",(function(){o.wc(e);const t=o.gc(2),i=o.vc(4);return t.onAddDoc(),i.expand("applications")})),o.Nb(1,"i",45),o.Rb()}}function xe(e,t){if(1&e&&(o.Sb(0,"div",26),o.Sb(1,"h6",23),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div"),o.Ec(5,Me,2,0,"button",43),o.Sb(6,"button",28),o.Nb(7,"i",29),o.Nb(8,"i",30),o.Rb(),o.Rb(),o.Rb()),2&e){const e=o.gc(),t=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,4,"worksheets.wasteClassification.applications")," "),o.zb(3),o.mc("ngIf","R"!==e.mode),o.zb(2),o.mc("hidden",t.isExpanded("applications")),o.zb(1),o.mc("hidden",!t.isExpanded("applications"))}}function ze(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",78),o.Sb(1,"div",79),o.Sb(2,"h6",80),o.ec("click",(function(){o.wc(e);const i=t.$implicit;return o.gc(2).downloadFile(i.id,i.fileName)})),o.Gc(3),o.Rb(),o.Rb(),o.Nb(4,"div",81),o.Sb(5,"div",82),o.Sb(6,"button",83),o.ec("click",(function(){o.wc(e);const i=t.$implicit;return o.gc(2).onDeleteDocMetaData(i.id)})),o.Nb(7,"i",70),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=t.$implicit,i=o.gc(2);o.zb(3),o.Ic(" ",e.fileName," "),o.zb(3),o.mc("hidden","R"===i.mode)}}function _e(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-fi-file-browse",89),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().$implicit.file=t})),o.Rb()}if(2&e){const e=o.gc().$implicit,t=o.gc(2);o.mc("ngModel",e.file)("formItemDef",t.getDocDef(e.index,"D"))("name",t.getDocDef(e.index,"D").domName)("showClearBtn",!1)}}function je(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-fi-file-browse",89),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().$implicit.signedDoc=t})),o.Rb()}if(2&e){const e=o.gc().$implicit,t=o.gc(2);o.mc("ngModel",e.signedDoc)("formItemDef",t.getDocDef(e.index,"S"))("name",t.getDocDef(e.index,"S").domName)("showClearBtn",!1)}}function Pe(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div"),o.Sb(1,"div",78),o.Sb(2,"div",84),o.Sb(3,"div",65),o.Sb(4,"span",85),o.Gc(5),o.Rb(),o.Sb(6,"button",86),o.ec("click",(function(){o.wc(e);const i=t.index;return o.gc(2).onDeleteDoc(i)})),o.Nb(7,"i",70),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(8,"div",78),o.Sb(9,"div",87),o.Ec(10,_e,1,4,"app-fi-file-browse",88),o.Rb(),o.Sb(11,"div",87),o.Ec(12,je,1,4,"app-fi-file-browse",88),o.Rb(),o.Rb(),o.Nb(13,"hr",76),o.Rb()}if(2&e){const e=t.$implicit,i=t.index;o.zb(5),o.Hc(i+1),o.zb(5),o.mc("ngIf",null==e.id),o.zb(2),o.mc("ngIf",null==e.id)}}function ke(e,t){if(1&e&&(o.Ec(0,ze,8,2,"div",75),o.Nb(1,"hr",76),o.Sb(2,"form",1,77),o.Ec(4,Pe,14,3,"div",46),o.Rb()),2&e){const e=o.gc();o.mc("ngForOf",e.model.docsMetaData),o.zb(4),o.mc("ngForOf",e.model.docs)}}const Ve=function(){return["waste-generator","headquarters","mailing-address","org-contacts","stage","clasification-final","clasification-test","clasification-comp","clasification","waste-descr","applications"]};let Ge=(()=>{class e{constructor(e,t,i,s,n,d){this.defsGenerator=e,this.crudService=t,this.route=i,this.mmSpinnerService=s,this.sessionService=n,this.router=d,this.WOT_PROPERTY="WOT_PROPERTY",this.CHEM_DNG="CHEM_DNG",this.dangerous=[{label:"\u041d\u0435",value:!1},{label:"\u0414\u0430",value:!0}],this.mode=r.a.READ,this.isInnerUser=!1,this.formValidityChange=new o.n,this.model=new w,this.contacts=[],this.addresses=[],this.formDefs=[],this.etiquetteFormDefs=[],this.standartFrazeFormDefs=[],this.etiquette2FormDefs=[],this.standartFraze2FormDefs=[],this.wotProperty=[],this.tcApp64=[],this.wotPropertySpec=[],this.isActionListReady=!1,this.isActionListSuccess=!1,this.ornView={},this.currentOrn=new a.a,this.mailingAddrValid=!1,this.orgContactValid=!1,this.stagesValid=[],this.formValidStatus="INVALID",this.statusSubscriber=null,this.isFormValid=!1,this.wotLoader=new R.a(t),this.wotSaver=new E.a(t)}ngOnInit(){this.loadDefinitions(),this.loadBasicFormData(),this.handleMode()}ngAfterViewInit(){this.statusSubscriber=this.form.valueChanges.subscribe(e=>{this.formValidStatus!==this.form.status&&(this.formValidStatus=this.form.status,this.setFormValid())}),this.setIsInnerCondition()}ngOnDestroy(){null!=this.statusSubscriber&&this.statusSubscriber.unsubscribe()}onSave(){return Object(s.a)(this,void 0,void 0,(function*(){this.actions=yield this.wotSaver.prepareSaveActionsWot2(this.model),this.actions&&0!==this.actions.length?(this.actionList.actionList=this.actions,this.actionList.open(),this.wotSaver.insertDataWot2(this.model,this.actions).then(e=>{this.isActionListSuccess=e,this.isActionListReady=!0})):v.a.fire({icon:"warning",title:"\u041d\u044f\u043c\u0430 \u0434\u0430\u043d\u043d\u0438 \u0437\u0430 \u0437\u0430\u043f\u0438\u0441!"})}))}onEdit(){return Object(s.a)(this,void 0,void 0,(function*(){this.actions=yield this.wotSaver.prepareUpdateActionsWot2(this.model),this.actions&&0!==this.actions.length?(this.actionList.actionList=this.actions,this.actionList.open(),this.wotSaver.updateDataWot2(this.model,this.actions).then(e=>{this.isActionListSuccess=e,this.isActionListReady=!0})):v.a.fire({icon:"warning",title:"\u041d\u044f\u043c\u0430 \u0434\u0430\u043d\u043d\u0438 \u0437\u0430 \u0440\u0435\u0434\u0430\u043a\u0446\u0438\u044f!"})}))}onCancel(){}onActionListClose(){this.model.wotId&&this.router.navigate(this.isInnerUser?[`${O.a.ADMIN}/${O.a.WORKSPACE}/${O.a.WOT_INTERNAL_WORKER}`,this.type,this.model.wotId]:[`${O.a.WORKSHEETS}/${O.a.WOT_READ}`,this.type,this.model.wotId])}getBasicInfo(e){this.model.basicInfo=e}onAddDoc(){null==this.model.docs&&(this.model.docs=[]),this.model.docs.push({index:Object(l.a)()})}onDeleteDoc(e){null!=this.model.docs&&this.model.docs.splice(e,1)}onDeleteDocMetaData(e){null!=this.model.docsMetaData&&(this.model.docsMetaData=this.model.docsMetaData.filter(t=>t.id!==e),null==this.model.docsForDelete&&(this.model.docsForDelete=[]),this.model.docsForDelete.push(e))}getDocDef(e,t){return this.defsGenerator.getDocumentDef(e,t)}downloadFile(e,t){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.wotLoader.loadDocument(e);Object(h.a)(i,t)}))}addClasificationCompRow(){this.model.wot63||(this.model.wot63=[]),this.model.wot63.push(new g.a)}deleteRow(e){this.model.wot63&&this.model.wot63.splice(e,1)}setOrganization(e){e&&(this.currentOrn=e,this.model.ornId=this.currentOrn.id,this.ornView.eik="I"===e.indOrEntity?e.egn:e.bulstat,this.ornView.legalEntity=e.name,this.loadWotBasicData())}onAddStage(){null!=this.model.stages&&0!==this.model.stages.length||(this.model.stages=[]),this.model.stages.push(new f.a({object:new p.a,contactPerson:new u.a,relation:new I.a({wotId:this.model.wotId})}))}onDeleteStage(e){null!=this.model.stages&&0!==this.model.stages.length&&(this.model.stages.splice(e,1),this.stagesValid.splice(e,1),this.setFormValid())}onAddressChanged(e){return Object(s.a)(this,void 0,void 0,(function*(){e?(this.model.mailingAddressData=yield this.wotLoader.getRealAddress(e),this.addressForm.disableNonEmptyFields=!0):(this.model.mailingAddressData=new b.a({}),this.addressForm.disableNonEmptyFields=!1)}))}onContactChanged(e){e?(this.model.contactPersonData=e,this.contactForm.disableNonEmptyFields=!0):(this.model.contactPersonData=new u.a({}),this.contactForm.disableNonEmptyFields=!1)}onDistrictChange(e){this.isInnerUser||null!=this.model.riosv&&this.isRiosUseable()||(this.model.riosv=e)}isRiosUseable(){return null!=this.model.stages&&0!==this.model.stages.length&&null!=this.model.stages.find(e=>null!=e.distEknm)}onWasteCodeSelected(e){this.model.wasteCode=e,"*"===this.model.wasteCode.hazardous?(this.model.isHazardous=!0,this.model.isDangerous3=this.dangerous[1].value):(this.model.isHazardous=!1,this.model.isDangerous3=this.dangerous[1].value)}getWot62(e){return this.model.wot62.find(t=>t.properties===e.code)}getWot641(e){return this.model.wot641.find(t=>t.tcId===parseInt(e.id,10))}getWot642(e){return this.model.wot642.find(t=>t.tcCode===e.code)}loadDefinitions(){this.formDefs=this.defsGenerator.getWasteClassificationTestingDefinitions()}loadEtiquetteFormDefs(){this.etiquetteFormDefs=this.defsGenerator.getEtiquetteFormItemDefs(this.wotProperty.length,this.mode)}loadStandartFrazeFormDefs(){this.standartFrazeFormDefs=this.defsGenerator.getStandartFrazeFormItemDefs(this.wotProperty.length,this.mode)}loadEtiquette2FormDefs(){this.etiquette2FormDefs=this.defsGenerator.getEtiquetteFormItemDefs(this.wotProperty.length,this.mode)}loadStandartFraze2FormDefs(){this.standartFraze2FormDefs=this.defsGenerator.getStandartFrazeFormItemDefs(this.wotProperty.length,this.mode)}prepareModel(){null==this.model&&(this.model=new w),this.model.orgAddress=new b.a({}),this.model.mailingAddressData=new b.a({}),this.model.contactPersonData=new u.a,this.model.stages=[new f.a({object:new p.a,contactPerson:new u.a})],this.model.docs=[],this.model.isHazardous=!1,this.model.isDangerous1=!1,this.model.isDangerous2=!1,this.model.isDangerous3=!1,this.model.wot62=[],this.model.wot641=[],this.model.wot642=[]}setIsInnerCondition(){var e,t;if(this.isInnerUser){const i=this.sessionService.getRole();if(i.name===C.a.RIOSV_MANAGER||i.name===C.a.RIOSV_OFFICER){const i=null===(t=null===(e=this.sessionService.getUserInfo())||void 0===e?void 0:e.rios)||void 0===t?void 0:t.riosCode;this.model.riosv=i}}}handleMode(){switch(this.prepareModel(),this.mode){case r.a.READ:this.disableFields(),this.wotId&&this.loadData(this.wotId);break;case r.a.NEW:this.enableFields(),this.loadWotBasicData();break;case r.a.EDIT:this.enableFields(),this.wotId&&this.loadData(this.wotId)}}disableFields(){this.formDefs.forEach(e=>{e.isDisabled=!0}),this.model.responsibility=!0}enableFields(){this.formDefs.forEach(e=>{e.isDisabled=!1}),this.mode===r.a.NEW&&(this.model.responsibility=!1),this.mode===r.a.EDIT&&(this.model.responsibility=!0)}loadBasicFormData(){Object(d.a)({tcApp64:this.wotLoader.loadTcApp64(),wotProperty:this.wotLoader.loadNom(n.a.publicUrlDomain,this.WOT_PROPERTY)}).subscribe(({tcApp64:e,wotProperty:t})=>{this.tcApp64=e.pageContent,this.wotProperty=t,this.wotPropLoaded()})}wotPropLoaded(){this.loadEtiquetteFormDefs(),this.loadStandartFrazeFormDefs(),this.loadEtiquette2FormDefs(),this.loadStandartFraze2FormDefs(),this.wotPropertySpec=this.wotProperty.filter(e=>{if(/.*H1.*/.test(e.code)||/.*H2.*/.test(e.code)||/.*\u041d9.*/.test(e.code)||/.*\u041d14.*/.test(e.code))return e}),this.populateArrays()}populateArrays(){this.wotProperty.forEach(e=>{this.model.wot62.push(new D.a({properties:e.code}))}),this.tcApp64.forEach(e=>{this.model.wot641.push(new S.a({tcId:parseInt(e.id,10),type:1}))}),this.wotPropertySpec.forEach(e=>{this.model.wot642.push(new S.a({tcCode:e.code,type:2}))})}loadOrganization(){return Object(s.a)(this,void 0,void 0,(function*(){return this.isInnerUser?this.wotId?yield this.wotLoader.loadOrgByWotId(this.wotId):new a.a:this.sessionService.getOrganization()}))}loadWotBasicData(){var e,t,i,o;return Object(s.a)(this,void 0,void 0,(function*(){this.currentOrn&&this.currentOrn.id||(this.currentOrn=yield this.loadOrganization(),this.model.ornId=null===(e=this.currentOrn)||void 0===e?void 0:e.id,this.ornView.eik="I"===this.currentOrn.indOrEntity?this.currentOrn.egn:this.currentOrn.bulstat,this.ornView.legalEntity=this.currentOrn.name),this.currentOrn&&this.currentOrn.id&&(this.mmSpinnerService.showMainModalSpinner(),Object(d.a)({contacts:this.wotLoader.loadContactsByOrnId(null===(t=this.currentOrn)||void 0===t?void 0:t.id),ornAddress:this.wotLoader.loadAddressByTypeAndId("D",null===(i=this.currentOrn)||void 0===i?void 0:i.id),mailingAddresses:this.wotLoader.loadAllTrnAddrByTypeAndId("R",null===(o=this.currentOrn)||void 0===o?void 0:o.id)}).pipe(Object(m.a)(e=>(this.mmSpinnerService.hideMainModalSpinner(),Object(c.a)(e)))).subscribe(({contacts:e,mailingAddresses:t,ornAddress:i})=>{this.contacts=e,this.addresses=t,this.model.orgAddress=i,this.mmSpinnerService.hideMainModalSpinner()}))}))}loadData(e){var t,i;return Object(s.a)(this,void 0,void 0,(function*(){this.currentOrn&&this.currentOrn.id||(this.currentOrn=yield this.loadOrganization(),this.model.ornId=this.currentOrn.id,this.ornView.eik="I"===this.currentOrn.indOrEntity?this.currentOrn.egn:this.currentOrn.bulstat,this.ornView.legalEntity=this.currentOrn.name),this.currentOrn&&this.currentOrn.id&&(this.mode===r.a.EDIT&&this.loadAddressessAndContacts(null===(t=this.currentOrn)||void 0===t?void 0:t.id),this.mmSpinnerService.showMainModalSpinner(),Object(d.a)({ornAddress:this.wotLoader.loadAddressByTypeAndId("D",null===(i=this.currentOrn)||void 0===i?void 0:i.id),wotData:this.wotLoader.loadWorksheetById(e),wot62:this.wotLoader.loadWot62(e),wot63:this.wotLoader.loadWot63(e),wot64:this.wotLoader.loadWot64(e),wotStages:this.wotLoader.loadWotStages(e)}).pipe(Object(m.a)(e=>(this.mmSpinnerService.hideMainModalSpinner(),Object(c.a)(e)))).subscribe(({ornAddress:e,wotData:t,wot62:i,wot63:s,wot64:o,wotStages:n})=>{this.model.orgAddress=e,this.populateWotData(t),this.populateWot62(i),this.model.wot63=s,this.populateWot64(o),this.loadWotAttachedData(t),this.populateStages(n)}))}))}populateWotData(e){return Object(s.a)(this,void 0,void 0,(function*(){this.model.ornId=e.ornId,this.model.wotId=e.id,this.model.ewc=e.ewc,this.model.wasteCode=(yield this.wotLoader.loadEwcByEwc(e.ewc)).pageContent[0],this.model.wasteDescr=e.wasteDescription,this.model.riosv=e.riosvCode,this.model.isElectronicAcc="Y"===e.isElectronicAcc,this.model.isHazardous="Y"===e.hazardous,this.model.isHazardous?(this.model.isDangerous1=!0,this.model.isDangerous2=!0,this.model.isDangerous3=!0):(this.model.isDangerous1="Y"===e.hazDot1,this.model.isDangerous2="Y"===e.hazDot2,this.model.isDangerous3="Y"===e.hazardous)}))}populateWot62(e){null!=e&&0!==e.length&&e.forEach(e=>{this.model.wot62.map((t,i)=>{t.properties===e.properties&&(this.model.wot62[i]=e)})})}populateWot64(e){null!=e&&0!==e.length&&e.forEach(e=>{e.tcId&&this.model.wot641.map((t,i)=>{t.tcId===e.tcId&&(this.model.wot641[i]=e)}),e.tcCode&&this.model.wot642.map((t,i)=>{t.tcCode===e.tcCode&&(this.model.wot642[i]=e)})})}loadAddressessAndContacts(e){Object(d.a)({contacts:this.wotLoader.loadContactsByOrnId(e),mailingAddresses:this.wotLoader.loadAllTrnAddrByTypeAndId("R",e)}).subscribe(({contacts:e,mailingAddresses:t})=>{this.contacts=e,this.addresses=t})}loadWotAttachedData(e){Object(d.a)({contact:this.wotLoader.loadContactByCotId(e.ornCotId),mailingAddress:e.addrId?this.wotLoader.loadAddressById(e.addrId):null,mailingAddressData:e.addrId?this.wotLoader.loadRealAddressById(e.addrId):null,docs:this.wotLoader.loadAttachedDocumentMetaData(e.id)}).pipe(Object(m.a)(e=>(this.mmSpinnerService.hideMainModalSpinner(),Object(c.a)(e)))).subscribe(({contact:e,mailingAddress:t,mailingAddressData:i,docs:s})=>{this.model.mailingAddress=t,this.model.mailingAddressData=i,this.model.contact=e,this.model.contactPersonData=e,this.model.docsMetaData=null==s?void 0:s.pageContent,this.model.docsMetaData&&this.model.docsMetaData.length&&this.acc.expand("applications"),this.mmSpinnerService.hideMainModalSpinner()})}populateStages(e){null!=e&&0!==e.length&&(this.model.stages=[],e.forEach(e=>{this.model.stages.push(new f.a({relation:e,object:new p.a,contactPerson:new u.a}))}))}onAddressValidityChange(e){this.mailingAddrValid="VALID"===e,this.setFormValid()}onContactValidityChange(e){this.orgContactValid="VALID"===e,this.setFormValid()}onStageValidityChange(e,t){null==this.stagesValid&&(this.stagesValid=[]),this.stagesValid[t]="VALID"===e,this.setFormValid()}setFormValid(){const e=!!this.form&&this.form.valid&&!!this.docsForm&&this.docsForm.valid&&this.mailingAddrValid&&this.orgContactValid&&this.isStagesValid();this.isFormValid!==e&&(this.isFormValid=e,this.formValidityChange.emit(this.isFormValid))}isStagesValid(){if(null==this.model.stages||0===this.model.stages.length)return!1;for(const e of this.stagesValid)if(!e)return!1;return!0}copyAddress(){this.model.mailingAddressData=new b.a(this.model.orgAddress),this.model.mailingAddressData.trnOrnAddrId=null}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(A.a),o.Mb(y.a),o.Mb(F.a),o.Mb(N.a),o.Mb(W.a),o.Mb(F.c))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-waste-classification-testing"]],viewQuery:function(e,t){var i;1&e&&(o.Nc($,!0),o.Nc(K,!0),o.Nc(Y,!0),o.Nc(X,!0),o.Nc(Z,!0),o.Nc(J,!0)),2&e&&(o.uc(i=o.fc())&&(t.acc=i.first),o.uc(i=o.fc())&&(t.form=i.first),o.uc(i=o.fc())&&(t.contactForm=i.first),o.uc(i=o.fc())&&(t.addressForm=i.first),o.uc(i=o.fc())&&(t.docsForm=i.first),o.uc(i=o.fc())&&(t.actionList=i.first))},inputs:{mode:"mode",type:"type",wotId:"wotId",state:"state",isInnerUser:"isInnerUser"},outputs:{formValidityChange:"formValidityChange"},decls:42,vars:8,consts:[[1,"container-fluid","p-3"],["novalidate","",1,"was-validated"],["form","ngForm"],["id","accordion",3,"destroyOnHide","activeIds"],["acc","ngbAccordion"],["id","waste-generator"],["ngbPanelHeader",""],["id","body","ngbPanelContent","","class","p-0"],["id","headquarters"],["id","mailing-address"],["id","org-contacts"],["ngbPanelContent",""],["id","stage"],["id","waste-descr"],["id","clasification"],["id","clasification-comp"],["id","clasification-test"],["id","clasification-final"],["id","applications"],[1,"mt-3"],[3,"ngModel","formItemDef","name","ngModelChange"],[3,"isSuccess","isReady","closeEvent"],["actionList",""],[1,"m-0"],[3,"model","isReadonly","isInnerUser","orgEmitter"],["basicInfo",""],[1,"d-flex","align-items-center","justify-content-between"],[1,"btn","btn-sm","mr-2","btn-outline-secondary",3,"click"],["ngbPanelToggle","",1,"btn","btn-sm","btn-outline-secondary","rounded-circle"],[1,"fas","fa-chevron-right",3,"hidden"],[1,"fas","fa-chevron-down",3,"hidden"],["type","D",3,"isExpanded","addressData","mode"],[1,"d-flex"],[1,"col-lg-3","pl-0"],[1,"mt-2","mb-3","mr-3",3,"ngClass"],[1,"col-lg-5"],["labelFieldName","address",3,"ngModel","formItemDef","externalDataItems","name","hidden","ngModelChange","valueEmitter"],["ngbPanelToggle","",1,"btn","btn-sm","btn-outline-secondary","rounded-circle","ml-auto",2,"height","30px"],[3,"isExpanded","addressData","mode","formStatusValidChanged"],["address",""],["labelFieldName","fullName",3,"ngModel","formItemDef","externalDataItems","name","hidden","ngModelChange","valueEmitter"],[3,"model","mode","formStatusValidChanged"],["contactApp",""],["class","btn btn-sm btn-outline-secondary rounded-circle mr-2","ngbTooltip","\u0414\u043e\u0431\u0430\u0432\u044f \u043d\u043e\u0432 \u0440\u0435\u0434","container","body","placement","top",3,"click",4,"ngIf"],["ngbTooltip","\u0414\u043e\u0431\u0430\u0432\u044f \u043d\u043e\u0432 \u0440\u0435\u0434","container","body","placement","top",1,"btn","btn-sm","btn-outline-secondary","rounded-circle","mr-2",3,"click"],[1,"fas","fa-plus"],[4,"ngFor","ngForOf"],[3,"riosv","model","wotStages","index","mode","isInnerUser","orn","districtChangeEmitter","formStatusValidChanged","deleteStage"],[1,"mb-3"],[1,"table","table-hover","table-bordered","table-responsive"],[1,"alert","alert-primary","text-center"],["colspan","1","rowspan","2"],["colspan","3"],["colspan","2"],[1,"text-left"],["type","text","class","form-control","maxlength","5",3,"ngModel","disabled","name","ngModelChange",4,"ngIf"],["type","text","class","form-control",3,"ngModel","disabled","name","ngModelChange",4,"ngIf"],["type","text","class","form-control","maxlength","25",3,"ngModel","disabled","name","ngModelChange",4,"ngIf"],[3,"disabled","ngModel","formItemDef","labelFieldName","valueFieldName","name","ngModelChange",4,"ngIf"],["type","text","maxlength","5",1,"form-control",3,"ngModel","disabled","name","ngModelChange"],["type","text",1,"form-control",3,"ngModel","disabled","name","ngModelChange"],["type","text","maxlength","25",1,"form-control",3,"ngModel","disabled","name","ngModelChange"],[3,"disabled","ngModel","formItemDef","labelFieldName","valueFieldName","name","ngModelChange"],["colspan","5"],["ngbTooltip","\u0414\u043e\u0431\u0430\u0432\u044f \u043d\u043e\u0432 \u0440\u0435\u0434","container","body","placement","top",1,"btn","btn-sm","btn-outline-secondary","rounded-circle",3,"disabled","click"],[1,"d-flex","justify-content-between"],["name","isDangerous","appendTo","body",1,"mr-3",3,"ngModel","bindLabel","bindValue","clearable","items","ngModelChange"],["type","text","maxlength","10",1,"form-control",3,"ngModel","disabled","name","ngModelChange"],[3,"ngModel","disabled","formItemDef","labelFieldName","valueFieldName","name","ngModelChange"],["type","button","ngbTooltip","\u0418\u0437\u0442\u0440\u0438\u0432\u0430 \u0440\u0435\u0434","container","body","placement","left",1,"btn","btn-sm","btn-outline-secondary","rounded-circle","mr-2",3,"click"],[1,"fas","fa-trash-alt"],[1,"table","table-hover","table-bordered"],[1,"table","table-hover","table-bordered","mt-3"],["type","text","class","form-control","maxlength","10",3,"ngModel","disabled","name","ngModelChange",4,"ngIf"],[3,"ngModel","formItemDef","labelFieldName","valueFieldName","name","ngModelChange","valueEmitter"],["class","row",4,"ngFor","ngForOf"],[1,"border","border-primary"],["docsForm","ngForm"],[1,"row"],[1,"col-md-4"],[1,"doc","alert","alert-primary",3,"click"],[1,"col-md-7"],[1,"col-md-1"],["type","button","ngbTooltip","\u0418\u0437\u0442\u0440\u0438\u0432\u0430 \u0440\u0435\u0434\u0430","container","body","placement","left",1,"btn","btn-outline-secondary","rounded-circle","mt-1","ml-4",3,"hidden","click"],[1,"col-lg-12"],[1,"font-weight-bold"],["type","button","ngbTooltip","\u0418\u0437\u0442\u0440\u0438\u0432\u0430 \u0440\u0435\u0434\u0430","container","body","placement","left",1,"btn","btn-sm","btn-outline-secondary","rounded-circle",3,"click"],[1,"col-lg-6"],[3,"ngModel","formItemDef","name","showClearBtn","ngModelChange",4,"ngIf"],[3,"ngModel","formItemDef","name","showClearBtn","ngModelChange"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.Sb(1,"form",1,2),o.Sb(3,"ngb-accordion",3,4),o.Sb(5,"ngb-panel",5),o.Ec(6,Q,3,3,"ng-template",6),o.Ec(7,ee,2,3,"ng-template",7),o.Rb(),o.Sb(8,"ngb-panel",8),o.Ec(9,te,10,5,"ng-template",6),o.Ec(10,ie,1,3,"ng-template",7),o.Rb(),o.Sb(11,"ngb-panel",9),o.Ec(12,oe,10,13,"ng-template",6),o.Ec(13,ne,2,3,"ng-template",7),o.Rb(),o.Sb(14,"ngb-panel",10),o.Ec(15,ae,10,13,"ng-template",6),o.Ec(16,re,2,2,"ng-template",11),o.Rb(),o.Sb(17,"ngb-panel",12),o.Ec(18,ce,9,6,"ng-template",6),o.Ec(19,he,1,1,"ng-template",7),o.Rb(),o.Sb(20,"ngb-panel",13),o.Ec(21,be,8,5,"ng-template",6),o.Ec(22,ue,1,3,"ng-template",7),o.Rb(),o.Sb(23,"ngb-panel",14),o.Ec(24,me,9,7,"ng-template",6),o.Ec(25,we,34,30,"ng-template",7),o.Rb(),o.Sb(26,"ngb-panel",15),o.Ec(27,Re,8,5,"ng-template",6),o.Ec(28,ve,49,40,"ng-template",7),o.Rb(),o.Sb(29,"ngb-panel",16),o.Ec(30,Ee,8,5,"ng-template",6),o.Ec(31,Fe,40,31,"ng-template",7),o.Rb(),o.Sb(32,"ngb-panel",17),o.Ec(33,Ne,8,5,"ng-template",6),o.Ec(34,We,5,10,"ng-template",7),o.Rb(),o.Sb(35,"ngb-panel",18),o.Ec(36,xe,9,6,"ng-template",6),o.Ec(37,ke,5,2,"ng-template",7),o.Rb(),o.Rb(),o.Sb(38,"div",19),o.Sb(39,"app-fi-input-checkbox",20),o.ec("ngModelChange",(function(e){return t.model.isElectronicAcc=e})),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(40,"app-action-tasks-list",21,22),o.ec("closeEvent",(function(){return t.onActionListClose()})),o.Rb()),2&e&&(o.zb(3),o.mc("destroyOnHide",!1)("activeIds",o.pc(7,Ve)),o.zb(36),o.mc("ngModel",t.model.isElectronicAcc)("formItemDef",t.formDefs[3])("name",t.formDefs[3].domName),o.zb(1),o.mc("isSuccess",t.isActionListSuccess)("isReady",t.isActionListReady))},directives:[M.D,M.p,M.q,x.a,x.I,x.K,x.J,z.a,M.o,M.r,_.a,j.a,x.M,P.a,k.r,V.a,G.a,k.u,x.ab,k.t,L.a,U.a,M.c,M.k,H.a,B.a],pipes:[q.d,k.I],styles:["[_nghost-%COMP%]     #accordion>div>div.card-header, [_nghost-%COMP%]     #accordion>div>div>div.card-body{padding:.5rem}[_nghost-%COMP%]     #accordion>div>#waste-generator-header.card-header{padding-top:.8rem;padding-bottom:.8rem}"]}),e})()},"dZ/L":function(e,t,i){"use strict";i.d(t,"a",(function(){return C}));var s=i("mrSG"),o=i("tr6d"),n=i("9GxP"),a=i("lJxs"),r=i("JIr8"),d=i("lB+K"),c=i("cp0P"),l=i("LRne"),h=i("Xh5w"),b=i("KQ7d"),u=i("ozDz"),m=i("KdD0"),p=i("hr/U"),g=i("wIr5"),f=i("4WaZ"),D=i("01dd"),S=i("aTmD"),I=i("4m0f"),w=i("SrJG"),R=i("XDeO"),T=i("VN5u"),v=i("B13j"),E=i("Oxe/"),O=i("Z+Hd");class C{constructor(e){this.crudService=e,this.INSERT="Insert",this.UPDATE="Update",this.DELETE="Delete",this.isFileOperationsSuccess=!0}prepareSaveActionsWot1(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=[],i=yield this.getWorksheetModel(e,w.a.WASTE_CLASSIFICATION),s=e.contactPersonData,o=this.getAddresModel(e.mailingAddressData),a=e.stages,r=e.wotDetails,d=e.docs;if(!i)return t;if(s&&t.push(new n.a("\u0417\u0430\u043f\u0438\u0441 \u043d\u0430 \u043b\u0438\u0446\u0435 \u0437\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438",S.a.WORKING,!1)),o&&t.push(new n.a("\u0417\u0430\u043f\u0438\u0441 \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 \u0437\u0430 \u043a\u043e\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0446\u0438\u044f",S.a.WORKING,!1)),t.push(new n.a("\u0417\u0430\u043f\u0438\u0441 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0438 \u0434\u0430\u043d\u043d\u0438 \u0437\u0430 \u0420\u0430\u0431\u043e\u0442\u0435\u043d \u043b\u0438\u0441\u0442 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438",S.a.WORKING,!1)),a&&a.length>0)for(let e=1;e<a.length+1;e++)t.push(new n.a(`\u0417\u0430\u043f\u0438\u0441 \u043d\u0430 \u043e\u0431\u0435\u043a\u0442, \u043a\u044a\u0434\u0435\u0442\u043e \u0441\u0435 \u043e\u0431\u0440\u0430\u0437\u0443\u0432\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u044a\u0442 \u2116 ${e}`,S.a.WORKING,!1));return r&&r.length>0&&t.push(new n.a("\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430, \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0449\u0438 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u043a\u0430\u0442\u043e \u043e\u043f\u0430\u0441\u0435\u043d",S.a.WORKING,!1)),d&&d.length>0&&t.push(new n.a("\u0417\u0430\u043f\u0438\u0441 \u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438",S.a.WORKING,!1)),t}))}prepareUpdateActionsWot1(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=[],i=yield this.getWorksheetModel(e,w.a.WASTE_CLASSIFICATION),s=e.contactPersonData,o=this.getAddresModel(e.mailingAddressData),a=e.stages,r=this.getDetailsForInsert(e.wotDetails),d=e.detailsForDelete,c=e.docs,l=e.docsForDelete;if(!i||!i.id)return t;if(s&&t.push(new n.a("\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u043b\u0438\u0446\u0435 \u0437\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438",S.a.WORKING,!1)),o&&t.push(new n.a("\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 \u0437\u0430 \u043a\u043e\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0446\u0438\u044f",S.a.WORKING,!1)),t.push(new n.a("\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0438 \u0434\u0430\u043d\u043d\u0438 \u0437\u0430 \u0420\u0430\u0431\u043e\u0442\u0435\u043d \u043b\u0438\u0441\u0442 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438",S.a.WORKING,!1)),a&&a.length>0)for(let e=1;e<a.length+1;e++)t.push(new n.a(`\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043e\u0431\u0435\u043a\u0442, \u043a\u044a\u0434\u0435\u0442\u043e \u0441\u0435 \u043e\u0431\u0440\u0430\u0437\u0443\u0432\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u044a\u0442 \u2116 ${e}`,S.a.WORKING,!1));return r&&r.length>0&&t.push(new n.a("\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430, \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0449\u0438 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u043a\u0430\u0442\u043e \u043e\u043f\u0430\u0441\u0435\u043d",S.a.WORKING,!1)),d&&d.length>0&&t.push(new n.a("\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 \u043d\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430, \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0449\u0438 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u0430 \u043a\u0430\u0442\u043e \u043e\u043f\u0430\u0441\u0435\u043d",S.a.WORKING,!1)),(c&&c.length>0||l&&l.length>0)&&t.push(new n.a("\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438",S.a.WORKING,!1)),t}))}insertDataWot1(e,t){var i,o,n;return Object(s.a)(this,void 0,void 0,(function*(){let s=0;const a=yield this.getWorksheetModel(e,w.a.WASTE_CLASSIFICATION),r=e.contactPersonData,l=this.getAddresModel(e.mailingAddressData),h=e.stages,b=e.wotDetails,u=e.docs;if(!a){for(const e of t)e.reject();return!1}if(r){if(r.id)t[s].succeed();else{r.ornId=a.ornId;try{r.id=null===(i=(yield this.saveContact(r,t,s))[0])||void 0===i?void 0:i.id}catch(p){for(let e=s+1;e<t.length;e++)t[e].reject();return!1}}a.ornCotId=r.id,s++}if(l){if(l.type=f.a.MAILING_ADDRESS,l.id)t[s].succeed();else{l.ornId=a.ornId;try{l.id=null===(o=(yield this.saveAddress(l,t,s))[0])||void 0===o?void 0:o.id}catch(p){for(let e=s;e<t.length;e++)t[e].reject();return!1}}a.addrId=l.id,s++}if(a){try{e.wotId=null===(n=(yield this.saveTrnWorksheet(a))[0])||void 0===n?void 0:n.id,t[s].succeed()}catch(p){t[s].fail(p.error.message);for(let e=s+1;e<t.length;e++)t[e].reject();return!1}s++}if(h&&h.length>0)for(const i of h)yield this.mngWotAses(e.wotId,a.ornId,i,t,s),s++;const m=[];if(b&&b.length>0){this.setDetailsWotId(b,e.wotId);const i=this.saveWotDetails(b,t,s);s++,m.push(i)}return u&&u.length>0&&e.wotId&&u.forEach(t=>{const i=Object(g.b)(t.file,t.signedDoc,t.descr,void 0,e.wotId),s=this.saveDoc(i);m.push(s)}),yield Object(c.a)(m).toPromise(),u&&u.length>0&&(this.isFileOperationsSuccess?t[s].succeed():(t[s].fail(this.fileErrorMsg?this.fileErrorMsg:d.a.FILES_OPERATION_ERROR),this.fileErrorMsg=null,this.isFileOperationsSuccess=!0)),this.isProccessSuccess(t)}))}updateDataWot1(e,t){var i,o;return Object(s.a)(this,void 0,void 0,(function*(){let s=0;const n=yield this.getWorksheetModel(e,w.a.WASTE_CLASSIFICATION),a=e.contactPersonData,r=this.getAddresModel(e.mailingAddressData),l=e.stages,h=this.getDetailsForInsert(e.wotDetails),b=e.detailsForDelete,u=e.docs,m=e.docsForDelete;if(!n||!n.id){for(const e of t)e.reject();return!1}a&&(a.id?t[s].succeed():(a.ornId=n.ornId,a.id=null===(i=(yield this.saveContact(a,t,s))[0])||void 0===i?void 0:i.id),n.ornCotId=a.id,s++),r&&(r.type=f.a.MAILING_ADDRESS,r.id?t[s].succeed():(r.ornId=n.ornId,r.id=null===(o=(yield this.saveAddress(r,t,s))[0])||void 0===o?void 0:o.id),n.addrId=r.id,s++);const p=[],D=this.patchTrnWorksheet(n,t,s);if(p.push(D),s++,l&&l.length>0)for(const e of l)yield this.mngWotAses(n.id,n.ornId,e,t,s),s++;if(h&&h.length>0){const e=this.saveWotDetails(h,t,s);p.push(e),s++}if(b&&b.length>0){const e=this.deleteWotDetails(b,t,s);p.push(e),s++}return u&&u.length>0&&u.forEach(e=>{const t=Object(g.b)(e.file,e.signedDoc,e.descr,void 0,void 0,n.id),i=this.saveDoc(t);p.push(i)}),m&&m.length>0&&m.forEach(e=>{const t=this.deleteDoc(e);p.push(t)}),yield Object(c.a)(p).toPromise(),(u&&u.length>0||m&&m.length>0)&&(this.isFileOperationsSuccess?t[s].succeed():(t[s].fail(this.fileErrorMsg?this.fileErrorMsg:d.a.FILES_OPERATION_ERROR),this.fileErrorMsg=null,this.isFileOperationsSuccess=!0)),this.isProccessSuccess(t)}))}prepareSaveActionsWot2(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=[],i=yield this.getWorksheetModel(e,w.a.WASTE_CLASSIFICATION_TESTING),s=e.contactPersonData,o=this.getAddresModel(e.mailingAddressData),a=e.stages,r=this.getWot62ForAction(e.wot62,this.INSERT),d=this.getWot63ForAction(e.wot63,this.INSERT),c=this.getWot64ForAction(e.wot641,e.wot642,this.INSERT),l=e.docs;if(!i)return t;if(s&&t.push(new n.a("\u0417\u0430\u043f\u0438\u0441 \u043d\u0430 \u043b\u0438\u0446\u0435 \u0437\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438",S.a.WORKING,!1)),o&&t.push(new n.a("\u0417\u0430\u043f\u0438\u0441 \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 \u0437\u0430 \u043a\u043e\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0446\u0438\u044f",S.a.WORKING,!1)),t.push(new n.a("\u0417\u0430\u043f\u0438\u0441 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0438 \u0434\u0430\u043d\u043d\u0438 \u0437\u0430 \u0420\u0430\u0431\u043e\u0442\u0435\u043d \u043b\u0438\u0441\u0442 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438",S.a.WORKING,!1)),a&&a.length>0)for(let e=1;e<a.length+1;e++)t.push(new n.a(`\u0417\u0430\u043f\u0438\u0441 \u043d\u0430 \u043e\u0431\u0435\u043a\u0442, \u043a\u044a\u0434\u0435\u0442\u043e \u0441\u0435 \u043e\u0431\u0440\u0430\u0437\u0443\u0432\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u044a\u0442 \u2116 ${e}`,S.a.WORKING,!1));return r&&r.length>0&&t.push(new n.a("\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 3 \u043e\u0442 \u0417\u0423\u041e",S.a.WORKING,!1)),d&&d.length>0&&t.push(new n.a("\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 4 \u043e\u0442 \u043d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435",S.a.WORKING,!1)),c&&c.length>0&&t.push(new n.a("\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 4 \u043e\u0442 \u043d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435 \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u0432\u0430\u0449\u043e\n      \u0441\u0443\u043c\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u043e\u0442\u043e \u0441\u044a\u0434\u044a\u0440\u0436\u0430\u043d\u0438\u0435 \u043d\u0430 \u043e\u043f\u0430\u0441\u043d\u0438\u0442\u0435 \u0432\u0435\u0449\u0435\u0441\u0442\u0432\u0430, \u043f\u0440\u0438\u0442\u0435\u0436\u0430\u0432\u0430\u0449\u0438 \u0435\u0434\u043d\u043e \u0438 \u0441\u044a\u0449\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e",S.a.WORKING,!1)),l&&l.length>0&&t.push(new n.a("\u0417\u0430\u043f\u0438\u0441 \u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438",S.a.WORKING,!1)),t}))}prepareUpdateActionsWot2(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=[],i=yield this.getWorksheetModel(e,w.a.WASTE_CLASSIFICATION_TESTING),s=e.contactPersonData,o=this.getAddresModel(e.mailingAddressData),a=e.stages,r=e.wot62,d=this.getWot62ForAction(r,this.INSERT),c=this.getWot62ForAction(r,this.UPDATE),l=this.getWot62ForDelete(r),h=e.wot63,b=this.getWot63ForAction(e.wot63,this.INSERT),u=this.getWot63ForAction(e.wot63,this.UPDATE),m=this.getWot63ForDelete(h),p=e.wot641,g=e.wot642,f=this.getWot64ForAction(e.wot641,e.wot642,this.INSERT),D=this.getWot64ForAction(e.wot641,e.wot642,this.UPDATE),I=this.getWot64ForDelete(p,g),R=e.docs,T=e.docsForDelete;if(!i||!i.id)return t;if(s&&t.push(new n.a("\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u043b\u0438\u0446\u0435 \u0437\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438",S.a.WORKING,!1)),o&&t.push(new n.a("\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 \u0437\u0430 \u043a\u043e\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0446\u0438\u044f",S.a.WORKING,!1)),t.push(new n.a("\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0438 \u0434\u0430\u043d\u043d\u0438 \u0437\u0430 \u0420\u0430\u0431\u043e\u0442\u0435\u043d \u043b\u0438\u0441\u0442 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438",S.a.WORKING,!1)),a&&a.length>0)for(let e=1;e<a.length+1;e++)t.push(new n.a(`\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043e\u0431\u0435\u043a\u0442, \u043a\u044a\u0434\u0435\u0442\u043e \u0441\u0435 \u043e\u0431\u0440\u0430\u0437\u0443\u0432\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u043a\u044a\u0442 \u2116 ${e}`,S.a.WORKING,!1));return d&&d.length>0&&t.push(new n.a("\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 3 \u043e\u0442 \u0417\u0423\u041e",S.a.WORKING,!1)),c&&c.length>0&&t.push(new n.a("\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 3 \u043e\u0442 \u0417\u0423\u041e",S.a.WORKING,!1)),l&&l.length>0&&t.push(new n.a("\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 \u043d\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 3 \u043e\u0442 \u0417\u0423\u041e",S.a.WORKING,!1)),b&&b.length>0&&t.push(new n.a("\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 4 \u043e\u0442 \u043d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435",S.a.WORKING,!1)),u&&u.length>0&&t.push(new n.a("\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 4 \u043e\u0442 \u043d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435",S.a.WORKING,!1)),m&&m.length>0&&t.push(new n.a("\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 4 \u043e\u0442 \u043d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435",S.a.WORKING,!1)),f&&f.length>0&&t.push(new n.a("\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 4 \u043e\u0442 \u043d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435 \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u0432\u0430\u0449\u043e \u0441\u0443\u043c\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u043e\u0442\u043e\n      \u0441\u044a\u0434\u044a\u0440\u0436\u0430\u043d\u0438\u0435 \u043d\u0430 \u043e\u043f\u0430\u0441\u043d\u0438\u0442\u0435 \u0432\u0435\u0449\u0435\u0441\u0442\u0432\u0430, \u043f\u0440\u0438\u0442\u0435\u0436\u0430\u0432\u0430\u0449\u0438 \u0435\u0434\u043d\u043e \u0438 \u0441\u044a\u0449\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e",S.a.WORKING,!1)),D&&D.length>0&&t.push(new n.a("\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 4 \u043e\u0442 \u043d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435 \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u0432\u0430\u0449\u043e \u0441\u0443\u043c\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u043e\u0442\u043e\n      \u0441\u044a\u0434\u044a\u0440\u0436\u0430\u043d\u0438\u0435 \u043d\u0430 \u043e\u043f\u0430\u0441\u043d\u0438\u0442\u0435 \u0432\u0435\u0449\u0435\u0441\u0442\u0432\u0430, \u043f\u0440\u0438\u0442\u0435\u0436\u0430\u0432\u0430\u0449\u0438 \u0435\u0434\u043d\u043e \u0438 \u0441\u044a\u0449\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e",S.a.WORKING,!1)),I&&I.length>0&&t.push(new n.a("\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0438 \u043f\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2116 4 \u043e\u0442 \u043d\u0430\u0440\u0435\u0434\u0431\u0430\u0442\u0430 \u0437\u0430 \u043a\u043b\u0430\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043d\u0430 \u043e\u0442\u043f\u0430\u0434\u044a\u0446\u0438\u0442\u0435 \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u0432\u0430\u0449\u043e \u0441\u0443\u043c\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u043e\u0442\u043e\n      \u0441\u044a\u0434\u044a\u0440\u0436\u0430\u043d\u0438\u0435 \u043d\u0430 \u043e\u043f\u0430\u0441\u043d\u0438\u0442\u0435 \u0432\u0435\u0449\u0435\u0441\u0442\u0432\u0430, \u043f\u0440\u0438\u0442\u0435\u0436\u0430\u0432\u0430\u0449\u0438 \u0435\u0434\u043d\u043e \u0438 \u0441\u044a\u0449\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e",S.a.WORKING,!1)),(R&&R.length>0||T&&T.length>0)&&t.push(new n.a("\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438",S.a.WORKING,!1)),t}))}insertDataWot2(e,t){var i,o,n;return Object(s.a)(this,void 0,void 0,(function*(){let s=0;const a=yield this.getWorksheetModel(e,w.a.WASTE_CLASSIFICATION_TESTING),r=e.contactPersonData,l=this.getAddresModel(e.mailingAddressData),h=e.stages,b=this.getWot62ForAction(e.wot62,this.INSERT),u=this.getWot63ForAction(e.wot63,this.INSERT),m=this.getWot64ForAction(e.wot641,e.wot642,this.INSERT),p=e.docs;if(!a){for(const e of t)e.reject();return!1}if(r){if(r.id)t[s].succeed();else{r.ornId=a.ornId;try{r.id=null===(i=(yield this.saveContact(r,t,s))[0])||void 0===i?void 0:i.id}catch(S){for(let e=s+1;e<t.length;e++)t[e].reject();return!1}}a.ornCotId=r.id,s++}if(l){if(l.type=f.a.MAILING_ADDRESS,l.id)t[s].succeed();else{l.ornId=a.ornId;try{l.id=null===(o=(yield this.saveAddress(l,t,s))[0])||void 0===o?void 0:o.id}catch(S){for(let e=s;e<t.length;e++)t[e].reject();return!1}}a.addrId=l.id,s++}if(a){try{e.wotId=null===(n=(yield this.saveTrnWorksheet(a))[0])||void 0===n?void 0:n.id,t[s].succeed()}catch(S){t[s].fail(S.error.message);for(let e=s+1;e<t.length;e++)t[e].reject();return!1}s++}if(h&&h.length>0)for(const i of h)yield this.mngWotAses(e.wotId,a.ornId,i,t,s),s++;const D=[];if(b&&b.length>0){this.setDetailsWotId(b,e.wotId);const i=this.saveWot62(b,t,s);s++,D.push(i)}if(u&&u.length>0){this.setDetailsWotId(u,e.wotId);const i=this.saveWot63(u,t,s);s++,D.push(i)}if(m&&m.length>0){this.setDetailsWotId(m,e.wotId);const i=this.saveWot64(m,t,s);s++,D.push(i)}return p&&p.length>0&&e.wotId&&p.forEach(t=>{const i=Object(g.b)(t.file,t.signedDoc,t.descr,void 0,e.wotId),s=this.saveDoc(i);D.push(s)}),yield Object(c.a)(D).toPromise(),p&&p.length>0&&(this.isFileOperationsSuccess?t[s].succeed():(t[s].fail(this.fileErrorMsg?this.fileErrorMsg:d.a.FILES_OPERATION_ERROR),this.fileErrorMsg=null,this.isFileOperationsSuccess=!0)),this.isProccessSuccess(t)}))}updateDataWot2(e,t){var i,o;return Object(s.a)(this,void 0,void 0,(function*(){let s=0;const n=yield this.getWorksheetModel(e,w.a.WASTE_CLASSIFICATION_TESTING),a=e.contactPersonData,r=this.getAddresModel(e.mailingAddressData),l=e.stages,h=e.wot62,b=this.getWot62ForAction(h,this.INSERT),u=this.getWot62ForAction(h,this.UPDATE),m=this.getWot62ForDelete(h),p=e.wot63,D=this.getWot63ForAction(e.wot63,this.INSERT),S=this.getWot63ForAction(e.wot63,this.UPDATE),I=this.getWot63ForDelete(p),R=e.wot641,T=e.wot642,v=this.getWot64ForAction(e.wot641,e.wot642,this.INSERT),E=this.getWot64ForAction(e.wot641,e.wot642,this.UPDATE),O=this.getWot64ForDelete(R,T),C=e.docs,A=e.docsForDelete;if(!n||!n.id){for(const e of t)e.reject();return!1}a&&(a.id?t[s].succeed():(a.ornId=n.ornId,a.id=null===(i=(yield this.saveContact(a,t,s))[0])||void 0===i?void 0:i.id),n.ornCotId=a.id,s++),r&&(r.type=f.a.MAILING_ADDRESS,r.id?t[s].succeed():(r.ornId=n.ornId,r.id=null===(o=(yield this.saveAddress(r,t,s))[0])||void 0===o?void 0:o.id),n.addrId=r.id,s++);const y=[],F=this.patchTrnWorksheet(n,t,s);if(y.push(F),s++,l&&l.length>0)for(const e of l)yield this.mngWotAses(n.id,n.ornId,e,t,s),s++;if(b&&b.length>0){this.setDetailsWotId(b,e.wotId);const i=this.saveWot62(b,t,s);y.push(i),s++}if(u&&u.length>0){const e=this.updateWot62(u,t,s);y.push(e),s++}if(m&&m.length>0){const e=this.deleteWot62(m,t,s);y.push(e),s++}if(D&&D.length>0){this.setDetailsWotId(D,e.wotId);const i=this.saveWot63(D,t,s);y.push(i),s++}if(S&&S.length>0){const e=this.updateWot63(S,t,s);y.push(e),s++}if(I&&I.length>0){const e=this.deleteWot63(I,t,s);y.push(e),s++}if(v&&v.length>0){this.setDetailsWotId(v,e.wotId);const i=this.saveWot64(v,t,s);y.push(i),s++}if(E&&E.length>0){const e=this.updateWot64(E,t,s);y.push(e),s++}if(O&&O.length>0){const e=this.deleteWot64(O,t,s);y.push(e),s++}return C&&C.length>0&&C.forEach(e=>{const t=Object(g.b)(e.file,e.signedDoc,e.descr,void 0,void 0,n.id),i=this.saveDoc(t);y.push(i)}),A&&A.length>0&&A.forEach(e=>{const t=this.deleteDoc(e);y.push(t)}),yield Object(c.a)(y).toPromise(),(C&&C.length>0||A&&A.length>0)&&(this.isFileOperationsSuccess?t[s].succeed():(t[s].fail(this.fileErrorMsg?this.fileErrorMsg:d.a.FILES_OPERATION_ERROR),this.fileErrorMsg=null,this.isFileOperationsSuccess=!0)),this.isProccessSuccess(t)}))}saveTrnWorksheet(e){return this.crudService.create(o.a.url,e).toPromise()}patchTrnWorksheet(e,t,i){return this.crudService.patchById(o.a.url,e.id,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWorksheets_UPDATE_ERROR),Object(l.a)(e))))}saveContact(e,t,i){return this.crudService.create(b.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnContacts_SAVE_ERROR),Object(l.a)(e)))).toPromise()}saveWotDetails(e,t,i){return this.crudService.createMany(p.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWorksheetDetails_SAVE_ERROR),Object(l.a)(e))))}deleteWotDetails(e,t,i){return this.crudService.deleteMany(p.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWorksheetDetails_DELETE_ERROR),Object(l.a)(e))))}saveTrnWorksheetAses(e,t,i){return this.crudService.create(m.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWorksheets_UPDATE_ERROR),Object(l.a)(e)))).toPromise()}saveTrnAuthStage(e,t,i){return this.crudService.create(D.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnAuthorizationStages_SAVE_ERROR),Object(l.a)(e)))).toPromise()}patchTrnWorksheetAses(e,t,i){return this.crudService.patchById(m.a.url,e.id,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWorksheets_UPDATE_ERROR),Object(l.a)(e)))).toPromise()}saveAddress(e,t,i){return this.crudService.create(u.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnOrnAddresses_SAVE_ERROR),Object(l.a)(e)))).toPromise()}saveDoc(e){return this.crudService.create(h.a.url,e).pipe(Object(r.a)(t=>{var i;this.isFileOperationsSuccess=!1;const s=e.get("document").name,o=null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.systemMessage,n=s&&o?`${s} - ${o}`:null;return n&&(this.fileErrorMsg?this.fileErrorMsg+=`. ${n}`:this.fileErrorMsg=n),Object(l.a)(t)}))}deleteDoc(e){return this.crudService.deleteById(h.a.url,e).pipe(Object(r.a)(e=>{var t;this.isFileOperationsSuccess=!1;const i=null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.systemMessage;return this.fileErrorMsg?this.fileErrorMsg+=i?`. ${i}`:`. ${d.a.TrnAttachedDocuments_DELETE_ERROR}`:this.fileErrorMsg=d.a.TrnAttachedDocuments_DELETE_ERROR,Object(l.a)(e)}))}loadTcRegByCode(e){return this.crudService.loadByFind(I.a,I.a.publicUrl,{code:e}).toPromise()}saveWot62(e,t,i){return this.crudService.createMany(T.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWot62_SAVE_ERROR),Object(l.a)(e))))}updateWot62(e,t,i){return this.crudService.updateMany(T.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWot62_UPDATE_ERROR),Object(l.a)(e))))}deleteWot62(e,t,i){return this.crudService.deleteMany(T.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWot62_DELETE_ERROR),Object(l.a)(e))))}saveWot63(e,t,i){return this.crudService.createMany(v.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWot63_SAVE_ERROR),Object(l.a)(e))))}updateWot63(e,t,i){return this.crudService.updateMany(v.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWot63_UPDATE_ERROR),Object(l.a)(e))))}deleteWot63(e,t,i){return this.crudService.deleteMany(v.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWot63_DELETE_ERROR),Object(l.a)(e))))}saveWot64(e,t,i){return this.crudService.createMany(E.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWot64_SAVE_ERROR),Object(l.a)(e))))}updateWot64(e,t,i){return this.crudService.updateMany(E.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWot64_UPDATE_ERROR),Object(l.a)(e))))}deleteWot64(e,t,i){return this.crudService.deleteMany(E.a.url,e).pipe(Object(a.a)(e=>(t[i].succeed(),e)),Object(r.a)(e=>(t[i].fail(d.a.TrnWot64_DELETE_ERROR),Object(l.a)(e))))}isProccessSuccess(e){for(const t of e)if(t.isError)return!1;return!0}getWorksheetModel(e,t){var i,n,a;return Object(s.a)(this,void 0,void 0,(function*(){const s=new o.a;s.id=e.wotId,s.ornId=e.ornId,s.ornCotId=null===(i=e.contactPersonData)||void 0===i?void 0:i.id,s.addrId=null===(n=e.mailingAddressData)||void 0===n?void 0:n.trnOrnAddrId,s.ewc=e.ewc,s.wasteDescription=e.wasteDescr,s.riosvCode=e.riosv,s.isElectronicAcc=e.isElectronicAcc?"Y":"N",s.hazardous=e.isHazardous?"Y":"N",s.hazDot1=e.isDangerous1?"Y":"N",s.hazDot2=e.isDangerous2?"Y":"N";const r=t===w.a.WASTE_CLASSIFICATION?"WOT05":"WOT06";return s.regId=null===(a=(yield this.loadTcRegByCode(r)).pageContent[0])||void 0===a?void 0:a.id,s}))}getAddresModel(e){const t=new u.a;return t.id=e.trnOrnAddrId,t.type=e.type,t.eknm=e.popEknm,t.address=e.address,t.webpage=e.webpage,t}mngWotAses(e,t,i,o,n){var a,r,d;return Object(s.a)(this,void 0,void 0,(function*(){const s=i.relation?i.relation:new m.a,c=this.getStageFromObject(i.object),l=i.contactPerson;!s.id||c.popEknm||l.firstName?(c&&(c.id||(c.wotId=e,c.id=null===(a=(yield this.saveTrnAuthStage(c,o,n))[0])||void 0===a?void 0:a.id),s.aseId=c.id),l&&(l.id||(l.ornId=t,l.id=null===(r=(yield this.saveContact(l,o,n))[0])||void 0===r?void 0:r.id),s.cotId=l.id),s&&(s.id?yield this.patchTrnWorksheetAses(s,o,n):(s.wotId=e,s.dateFrom=R.a.getNowAsTimestamp(),s.id=null===(d=(yield this.saveTrnWorksheetAses(s,o,n))[0])||void 0===d?void 0:d.id))):yield this.patchTrnWorksheetAses(s,o,n)}))}getStageFromObject(e){const t=new D.a;return t.id=e.stageId,t.address=e.address,t.email=e.email,t.phone=e.phone,t.fax=e.fax,t.popEknm=e.popEknm,t}getDetailsForInsert(e){return e.filter(e=>null==e.id)}setDetailsWotId(e,t){e.forEach(e=>{e.wotId=t})}getWot62ForAction(e,t){const i=[];if(!e||0===e.length)return i;const s=`isWot62For${t}`;return e.forEach(e=>{this[s](e)&&i.push(e)}),i}getWot62ForDelete(e){const t=[];return e&&0!==e.length?(e.forEach(e=>{this.isWot62ForDelete(e)&&t.push(e.id)}),t):t}getWot63ForAction(e,t){const i=[];if(!e||0===e.length)return i;const s=`isWot63For${t}`;return e.forEach(e=>{this[s](e)&&i.push(e)}),i}getWot63ForDelete(e){const t=[];return e&&0!==e.length?(e.forEach(e=>{this.isWot63ForDelete(e)&&t.push(e.id)}),t):t}getWot64ForAction(e,t,i){const s=[],o=`isWot64For${i}`;return e&&e.length&&e.forEach(e=>{this[o](e)&&s.push(e)}),t&&t.length&&t.forEach(e=>{this[o](e)&&s.push(e)}),s}getWot64ForDelete(e,t){const i=[];return e.forEach(e=>{this.isWot64ForDelete(e)&&i.push(e.id)}),t.forEach(e=>{this.isWot64ForDelete(e)&&i.push(e.id)}),i}isWot62ForInsert(e){return e.status===O.a.NEW&&null==e.id&&!!(e.methodCode&&e.methodCode.length||e.methodDesc&&e.methodDesc.length||e.chemDng&&e.chemDng.length||e.rezult&&e.rezult.length||e.rCode&&e.rCode.length)}isWot62ForUpdate(e){return e.status!==O.a.NEW&&null!=e.id&&!!(e.methodCode&&e.methodCode.length||e.methodDesc&&e.methodDesc.length||e.chemDng&&e.chemDng.length||e.rezult&&e.rezult.length||e.rCode&&e.rCode.length)}isWot62ForDelete(e){return e.status!==O.a.NEW&&null!=e.id&&!(e.methodCode&&0!==e.methodCode.length||e.methodDesc&&0!==e.methodDesc.length||e.chemDng&&0!==e.chemDng.length||e.rezult&&0!==e.rezult.length||e.rCode&&0!==e.rCode.length)}isWot63ForInsert(e){return e.status===O.a.NEW&&null==e.id&&!!(e.name&&e.name.length||e.weight&&e.weight.length||e.flashPoint&&e.flashPoint.length||e.chemDng&&e.chemDng.length||e.rCode&&e.rCode.length||e.carcinogenic&&e.carcinogenic.length||e.mutagenic&&e.mutagenic.length||e.toxicRepr&&e.toxicRepr.length)}isWot63ForUpdate(e){return e.status!==O.a.NEW&&null!=e.id&&!!(e.name&&e.name.length||e.weight&&e.weight.length||e.flashPoint&&e.flashPoint.length||e.chemDng&&e.chemDng.length||e.rCode&&e.rCode.length||e.carcinogenic&&e.carcinogenic.length||e.mutagenic&&e.mutagenic.length||e.toxicRepr&&e.toxicRepr.length)}isWot63ForDelete(e){return e.status!==O.a.NEW&&null!=e.id&&(!e.name&&0===e.name.length||!e.weight&&0===e.weight.length||!e.flashPoint&&0===e.flashPoint.length||!e.chemDng&&0===e.chemDng.length||!e.rCode&&0===e.rCode.length||!e.carcinogenic&&0===e.carcinogenic.length||!e.mutagenic&&0===e.mutagenic.length||!e.toxicRepr&&0===e.toxicRepr.length)}isWot64ForInsert(e){return e.status===O.a.NEW&&null==e.id&&!(!e.sumVal||!e.sumVal.length)}isWot64ForUpdate(e){return e.status!==O.a.NEW&&null!=e.id&&!(!e.sumVal||!e.sumVal.length)}isWot64ForDelete(e){return e.status!==O.a.NEW&&null!=e.id&&!e.sumVal&&0===e.sumVal.length}}},"hr/U":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("mrSG"),o=i("hnrn");let n=(()=>{class e{constructor(e){e&&(this.id=e.id,this.wotId=e.wotId,this.type=e.type,this.wasteCategory=e.wasteCategory,this.isHazardous=e.isHazardous,this.description=e.description)}get id(){return this.pId}set id(e){this.pId=e}get wotId(){return this.pWotId}set wotId(e){this.pWotId=e}get type(){return this.pType}set type(e){this.pType=e}get wasteCategory(){return this.pWasteCategory}set wasteCategory(e){this.pWasteCategory=e}get isHazardous(){return this.pIsHazardous}set isHazardous(e){this.pIsHazardous=e}get description(){return this.pDescription}set description(e){this.pDescription=e}}return e.url="TrnWorksheetDetails",e.urlByWotId="TrnWorksheetDetails/getWorksheetDetails",Object(s.b)([Object(o.b)({alias:"id"})],e.prototype,"pId",void 0),Object(s.b)([Object(o.b)({alias:"wotId"})],e.prototype,"pWotId",void 0),Object(s.b)([Object(o.b)({alias:"type"})],e.prototype,"pType",void 0),Object(s.b)([Object(o.b)({alias:"wasteCategory"})],e.prototype,"pWasteCategory",void 0),Object(s.b)([Object(o.b)({alias:"isHazardous"})],e.prototype,"pIsHazardous",void 0),Object(s.b)([Object(o.b)({alias:"description"})],e.prototype,"pDescription",void 0),e})()},ifgt:function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));var s=i("fXoL"),o=i("CR6u"),n=i("EcjI"),a=i("9zSO"),r=i("8Lb4"),d=i("mKt/"),c=i("+z3G"),l=i("ZRIf"),h=i("3Pt+"),b=i("Bz/w"),u=i("TTlI"),m=i("xFIz"),p=i("lp4E");const g=["form"],f=["distCmp"],D=["popCmp"];let S=(()=>{class e{constructor(e,t){this.defsGenerator=e,this.crudService=t,this.model=new d.a,this.formStatusValidChanged=new s.n,this.districtEmitter=new s.n,this.formValidStatus="INVALID",this.statusSubscriber=null,this.formDefinitions=[]}set riosvCode(e){this.model.riosv=e,this.loadDefinitions(),this.checkMode()}ngOnInit(){this.loadDefinitions(),this.checkMode()}ngAfterViewInit(){this.statusSubscriber=this.form.valueChanges.subscribe(e=>{this.formValidStatus!==this.form.status&&(this.formValidStatus=this.form.status,this.formStatusValidChanged.emit(this.formValidStatus))})}ngOnDestroy(){null!=this.statusSubscriber&&this.statusSubscriber.unsubscribe()}onDistrictChange(e){if(null==e)return this.model.popEknm=null,this.districtEmitter.emit(null),this.formDefinitions[2].filterClause={distEknm:""},void this.popCmp.ngOnInit();this.crudService.loadByFind(a.a,a.a.publicUrl,{popEknm:this.model.popEknm}).subscribe(t=>{null!=t.pageContent[0]&&t.pageContent[0].distEknm!==e.distEknm&&(this.model.popEknm=null)}),this.districtEmitter.emit(e.riosCode),this.formDefinitions[2].filterClause={distEknm:e.distEknm},this.popCmp.ngOnInit()}set disableNonEmptyFields(e){e||this.loadDefinitions(),Object(n.c)(this.formDefinitions,e)}loadDefinitions(){if(this.formDefinitions=this.defsGenerator.getHeadquertersFormDefinitions(),null!=this.model.stageId&&(this.formDefinitions[2].filterClause={distEknm:this.model.distEknm}),this.model.riosv){const e=`eq(v("riosCode"),s("${this.model.riosv}"))`;this.formDefinitions[1].isWhere=!0,this.formDefinitions[1].filterClause={where:e},this.distCmp&&(this.distCmp.formItemDef.isWhere=!0,this.distCmp.formItemDef.filterClause={where:e},this.distCmp.pageModel=new r.a,this.distCmp.ngOnInit())}else this.distCmp&&(this.distCmp.formItemDef.isWhere=!1,this.distCmp.formItemDef.filterClause=null,this.distCmp.pageModel=new r.a,this.distCmp.ngOnInit())}checkMode(){this.mode===o.a.READ?(Object(n.b)(this.formDefinitions,!1),Object(n.c)(this.formDefinitions,!0)):this.mode!==o.a.NEW&&this.mode!==o.a.EDIT||this.loadDefinitions()}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(c.a),s.Mb(l.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-headquarters-form"]],viewQuery:function(e,t){var i;1&e&&(s.Nc(g,!0),s.Nc(f,!0),s.Nc(D,!0)),2&e&&(s.uc(i=s.fc())&&(t.form=i.first),s.uc(i=s.fc())&&(t.distCmp=i.first),s.uc(i=s.fc())&&(t.popCmp=i.first))},inputs:{riosvCode:"riosvCode",mode:"mode",model:"model"},outputs:{formStatusValidChanged:"formStatusValidChanged",districtEmitter:"districtEmitter"},decls:21,vars:27,consts:[["novalidate","",1,"was-validated"],["form","ngForm"],[1,"row"],[1,"col-md-4"],[3,"ngModel","formItemDef","labelFieldName","valueFieldName","name","ngModelChange","valueEmitter"],["distCmp",""],[3,"ngModel","formItemDef","labelFieldName","valueFieldName","name","ngModelChange"],["popCmp",""],[1,"col-md-8"],[3,"ngModel","formItemDef","name","ngModelChange"]],template:function(e,t){1&e&&(s.Sb(0,"form",0,1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"app-fi-select-dropdown",4,5),s.ec("ngModelChange",(function(e){return t.model.distEknm=e}))("valueEmitter",(function(e){return t.onDistrictChange(e)})),s.Rb(),s.Rb(),s.Sb(6,"div",3),s.Sb(7,"app-fi-select-dropdown",6,7),s.ec("ngModelChange",(function(e){return t.model.popEknm=e})),s.Rb(),s.Rb(),s.Rb(),s.Sb(9,"div",2),s.Sb(10,"div",8),s.Sb(11,"app-fi-input-text",9),s.ec("ngModelChange",(function(e){return t.model.address=e})),s.Rb(),s.Rb(),s.Sb(12,"div",3),s.Sb(13,"app-fi-select-dropdown",6),s.ec("ngModelChange",(function(e){return t.model.riosv=e})),s.Rb(),s.Rb(),s.Rb(),s.Sb(14,"div",2),s.Sb(15,"div",3),s.Sb(16,"app-fi-input-integer",9),s.ec("ngModelChange",(function(e){return t.model.phone=e})),s.Rb(),s.Rb(),s.Sb(17,"div",3),s.Sb(18,"app-fi-input-integer",9),s.ec("ngModelChange",(function(e){return t.model.fax=e})),s.Rb(),s.Rb(),s.Sb(19,"div",3),s.Sb(20,"app-fi-input-email",9),s.ec("ngModelChange",(function(e){return t.model.email=e})),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.zb(4),s.mc("ngModel",t.model.distEknm)("formItemDef",t.formDefinitions[1])("labelFieldName","nameBg")("valueFieldName","distEknm")("name",t.formDefinitions[1].domName),s.zb(3),s.mc("ngModel",t.model.popEknm)("formItemDef",t.formDefinitions[2])("labelFieldName","popName")("valueFieldName","popEknm")("name",t.formDefinitions[2].domName),s.zb(4),s.mc("ngModel",t.model.address)("formItemDef",t.formDefinitions[3])("name",t.formDefinitions[3].domName),s.zb(2),s.mc("ngModel",t.model.riosv)("formItemDef",t.formDefinitions[4])("labelFieldName","cityName")("valueFieldName","riosCode")("name",t.formDefinitions[4].domName),s.zb(3),s.mc("ngModel",t.model.phone)("formItemDef",t.formDefinitions[5])("name",t.formDefinitions[5].domName),s.zb(2),s.mc("ngModel",t.model.fax)("formItemDef",t.formDefinitions[6])("name",t.formDefinitions[6].domName),s.zb(2),s.mc("ngModel",t.model.email)("formItemDef",t.formDefinitions[7])("name",t.formDefinitions[7].domName))},directives:[h.D,h.p,h.q,b.a,h.o,h.r,u.a,m.a,p.a],styles:[""]}),e})()},ijtn:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));let s=(()=>{class e{constructor(e){e&&(this.pCode=e.code,this.pDescription=e.description,this.pRefVal=e.refVal,this.pId=e.id)}get code(){return this.pCode}set code(e){this.pCode=e}get description(){return this.pDescription}set description(e){this.pDescription=e}get label(){return`${this.pCode} ${this.description}`}get refVal(){return this.pRefVal}set refVal(e){this.pRefVal=e}get id(){return this.pId}set id(e){this.pId=e}set dropdownView(e){}get dropdownView(){return`${this.pCode} ${this.pDescription}`}}return e.url="TcApp64",e.publicUrl="Public/TcApp64",e})()},jGuN:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var s=function(e){return e.PROJECT="WOT_STATE:00",e.CONFIRMATION="WOT_STATE:01",e.DISTRIBUTED="WOT_STATE:02",e.APPROVED_BY_AN_EMPLOYEE="WOT_STATE:03",e.TERMINATED="WOT_STATE:04",e.TERMINATED_BY_AN_EMPLOYEE="WOT_STATE:05",e.RETURNED_FOR_CORRECTION_BY_AN_EMPLOYEE="WOT_STATE:06",e.RETURNED_FOR_CORRECTION="WOT_STATE:07",e.CORRECTING="WOT_STATE:08",e.SILENT_AGREEMENT="WOT_STATE:09",e.DENIED_BY_AN_EMPLOYEE="WOT_STATE:10",e.DENIED="WOT_STATE:11",e.APPROVED="WOT_STATE:12",e.PROJECT_EMPLOYEE="WOT_STATE:13",e.APPROVED_WITHOUT_THE_RIGHT_TO_RETURN_FOR_CORRECTION_BY_AN_EMPLOYEE="WOT_STATE:14",e.DENIED_WITHOUT_THE_RIGHT_TO_RETURN_A_CORRECTION_BY_AN_EMPLOYEE="WOT_STATE:15",e.RETURN_BY_AN_EMPLOYEE_WITHOUT_RIGHT_OF_RETURN_FOR_CORRECTION="WOT_STATE:16",e.EXPIRATION_FOR_CORRECTION_AFTER_RETURN_FOR_CORRECTION_HAS_EXPIRED="WOT_STATE:17",e.TERMINATION="WOT_STATE:18",e.DISTRIBUTED_WITHOUT_RIGHT_OF_RETURN_FOR_CORRECTION="WOT_STATE:19",e.ALLOCATED_FOR_CORRECTION_ADJUSTMENT="WOT_STATE:20",e.APPROVED_BY_MANAGER="WOT_STATE:21",e.RETURNED_FOR_CORRECTION_BY_MANAGER="WOT_STATE:22",e.DENIED_BY_MANAGER="WOT_STATE:23",e.APPROVED_WITHOUT_THE_RIGHT_TO_RETURN_FOR_CORRECTION_BY_MANAGER="WOT_STATE:24",e.RETURN_BY_MANAGER_WITHOUT_RIGHT_OF_RETURN_FOR_CORRECTION="WOT_STATE:25",e.DENIED_WITHOUT_THE_RIGHT_TO_RETURN_A_CORRECTION_BY_MANAGER="WOT_STATE:26",e.TERMINATED_BY_MANAGER="WOT_STATE:27",e.TERMINATION_DENIED_BY_MANAGER="WOT_STATE:28",e.TERMINATION_DENIED_BY_AN_EMPLOYEE="WOT_STATE:29",e.WITHDRAWAL_BY_AN_EMPLOYEE="WOT_STATE:30",e.TAKEN="WOT_STATE:31",e.WITHDRAWAL_REFUSED_BY_MANAGER="WOT_STATE:32",e.REFUSAL_TO_WITHDRAW_FROM_AN_EMPLOYEE="WOT_STATE:33",e.CONFIRMED_WITHDRAWAL_BY_MANAGER="WOT_STATE:34",e.ALLOCATED_FOR_TERMINATION="WOT_STATE:35",e.ALLOCATED_FOR_WITHDRAWAL="WOT_STATE:36",e.ACTUALIZING="WOT_STATE:37",e.WITHDRAWAL="WOT_STATE:38",e.CONFIRMED_WITHDRAWAL_BY_AN_EMPLOYEE="WOT_STATE:39",e.IN_ACTUALIZING_PROCCESS="WOT_STATE:40",e.IN_TERMINATION_PROCCESS="WOT_STATE:41",e.DELETED="WOT_STATE:99",e}({})},jtLl:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var s=i("F7pt"),o=i("PSD3"),n=i.n(o),a=i("lB+K");class r{constructor(e){e&&(this.modalTitle=e.modalTitle||"\u041f\u043e\u0434\u043f\u0438\u0441\u0432\u0430\u043d\u0435 \u0438 \u043f\u043e\u0434\u0430\u0432\u0430\u043d\u0435",this.downloadFileText=e.downloadFileText||"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0441 \u0434\u0430\u043d\u043d\u0438 \u0437\u0430 \u043f\u043e\u0434\u043f\u0438\u0441",this.downloadFileBtnText=e.downloadFileBtnText||"\u0421\u0432\u0430\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",this.uploadSignedFileText=e.uploadSignedFileText||"\u041a\u0430\u0447\u0432\u0430\u043d\u0435 \u043d\u0430 \u0444\u0430\u0439\u043b \u0441 \u043f\u043e\u0434\u043f\u0438\u0441",this.uploadSignedFileBtnText=e.uploadSignedFileBtnText||"\u041f\u043e\u0434\u043f\u0438\u0441\u0432\u0430\u043d\u0435",this.onSignAlertTitle=e.onSignAlertTitle||"\u041f\u043e\u0434\u043f\u0438\u0441\u0432\u0430\u043d\u0435",this.onSignAlertText=e.onSignAlertText||"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u0442\u0430 \u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u0430, \u0436\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043f\u0440\u043e\u0434\u044a\u043b\u0436\u0438\u0442\u0435?",this.successMessge=e.successMessge||"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u0442\u0430 \u0435 \u0438\u0437\u0432\u044a\u0440\u0448\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e!",this.errorMessage=e.errorMessage||"\u0413\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u0432\u0430\u043d\u0435!")}get modalTitle(){return this.pModalTitle}set modalTitle(e){this.pModalTitle=e}get downloadFileText(){return this.pDownloadFileText}set downloadFileText(e){this.pDownloadFileText=e}get downloadFileBtnText(){return this.pDownloadFileBtnText}set downloadFileBtnText(e){this.pDownloadFileBtnText=e}get uploadSignedFileText(){return this.pUploadSignedFileText}set uploadSignedFileText(e){this.pUploadSignedFileText=e}get uploadSignedFileBtnText(){return this.pUploadSignedFileBtnText}set uploadSignedFileBtnText(e){this.pUploadSignedFileBtnText=e}get onSignAlertTitle(){return this.pOnSignAlertTitle}set onSignAlertTitle(e){this.pOnSignAlertTitle=e}get onSignAlertText(){return this.pOnSignAlertText}set onSignAlertText(e){this.pOnSignAlertText=e}get successMessge(){return this.pSuccessMessge}set successMessge(e){this.pSuccessMessge=e}get errorMessage(){return this.pErrorMessage}set errorMessage(e){this.pErrorMessage=e}}var d=i("u1cU"),c=i("XDeO"),l=i("fXoL"),h=i("1kSV"),b=i("ZRIf"),u=i("sGcX"),m=i("3Pt+"),p=i("ofXK"),g=i("Mtn9"),f=i("sYmb");const D=["signModal"];function S(e,t){1&e&&(l.Sb(0,"button",11),l.Nb(1,"i",12),l.Rb())}function I(e,t){if(1&e){const e=l.Tb();l.Sb(0,"div",13),l.Sb(1,"fieldset",14),l.Sb(2,"h5",15),l.Gc(3),l.Rb(),l.Sb(4,"div",16),l.Sb(5,"div",17),l.Nb(6,"div",18),l.Sb(7,"button",19),l.ec("click",(function(){return l.wc(e),l.gc(2).onDownload()})),l.Nb(8,"i",20),l.Sb(9,"span",21),l.Gc(10),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Nb(11,"hr"),l.Sb(12,"h5",15),l.Gc(13),l.Rb(),l.Sb(14,"div",22),l.Sb(15,"div",23),l.Sb(16,"app-fi-file-browse",24),l.ec("ngModelChange",(function(t){return l.wc(e),l.gc(2).signFile=t})),l.Rb(),l.Rb(),l.Sb(17,"button",25),l.ec("click",(function(){return l.wc(e),l.gc(2).onSubmit()})),l.Nb(18,"i",26),l.Gc(19),l.Rb(),l.Rb(),l.Rb(),l.Rb()}if(2&e){l.gc();const e=l.vc(1),t=l.gc();l.zb(1),l.mc("disabled",t.working),l.zb(2),l.Ic("1. ",t.defModel.downloadFileText,""),l.zb(3),l.mc("hidden",!0),l.zb(4),l.Hc(t.defModel.downloadFileBtnText),l.zb(3),l.Ic("2. ",t.defModel.uploadSignedFileText,""),l.zb(3),l.mc("ngModel",t.signFile)("name",t.fileDef.domId)("formItemDef",t.fileDef)("showClearBtn",!1),l.zb(1),l.mc("disabled",!e.valid),l.zb(2),l.Ic(" ",t.defModel.uploadSignedFileBtnText," ")}}function w(e,t){if(1&e){const e=l.Tb();l.Sb(0,"div",27),l.Sb(1,"div",28),l.Sb(2,"small",29),l.Sb(3,"b"),l.Gc(4),l.hc(5,"translate"),l.Rb(),l.Rb(),l.Sb(6,"button",30),l.ec("click",(function(){return l.wc(e),l.gc(2).removeAlert()})),l.Sb(7,"span",31),l.Gc(8,"\xd7"),l.Rb(),l.Rb(),l.Rb(),l.Sb(9,"small"),l.Gc(10),l.Rb(),l.Rb()}if(2&e){const e=l.gc(2);l.zb(4),l.Hc(l.ic(5,2,"messages.alerts.error")),l.zb(6),l.Ic(" ",e.error," ")}}function R(e,t){if(1&e&&(l.Sb(0,"div",13),l.Sb(1,"h5",32),l.Gc(2),l.Rb(),l.Rb()),2&e){const e=l.gc(2);l.zb(2),l.Hc(e.defModel.successMessge)}}function T(e,t){if(1&e){const e=l.Tb();l.Sb(0,"form",1,2),l.Sb(2,"div",3),l.Sb(3,"h4",4),l.Gc(4),l.Rb(),l.Sb(5,"div"),l.Ec(6,S,2,0,"button",5),l.Sb(7,"button",6),l.ec("click",(function(){return l.wc(e),l.gc().close()})),l.Nb(8,"i",7),l.Rb(),l.Rb(),l.Rb(),l.Ec(9,I,20,11,"div",8),l.Sb(10,"div",9),l.Ec(11,w,11,4,"div",10),l.Rb(),l.Ec(12,R,3,1,"div",8),l.Rb()}if(2&e){const e=l.gc();l.zb(4),l.Hc(e.defModel.modalTitle),l.zb(2),l.mc("ngIf",e.working),l.zb(1),l.mc("disabled",e.working),l.zb(2),l.mc("ngIf",!e.isReady),l.zb(2),l.mc("ngIf",e.error),l.zb(1),l.mc("ngIf",e.isReady)}}let v=(()=>{class e{constructor(e,t,i){this.modalService=e,this.crudService=t,this.mmSpinner=i,this.SYSTEM_CLOSE="system close",this.RED="#dc3545",this.WARNING="warning",this.modalDlg=null,this.isReady=!1,this.working=!1,this.defModel=new r({})}ngOnInit(){this.loadDefs()}open(){this.removeAlert(),this.modalDlg=this.modalService.open(this.signModal,{keyboard:!1,backdrop:"static",size:"lg"})}close(){null!=this.modalDlg&&(this.modalDlg.close(this.SYSTEM_CLOSE),this.modalDlg=null,this.signFile=null,this.isReady&&location.reload())}onDownload(){this.removeAlert(),this.url&&(this.working=!0,this.crudService.loadFileForSign(this.url).subscribe(e=>{const t="doc_"+c.a.getDateTimeAsString()+".pdf";Object(d.a)(e,t),this.working=!1},e=>{this.error=a.a.DOWNLOAD_ERROR,this.working=!1}))}onSubmit(){this.signModal&&this.url&&n.a.fire({title:this.defModel.onSignAlertTitle,text:this.defModel.onSignAlertText,icon:this.WARNING,showConfirmButton:!0,confirmButtonText:a.a.CONFIRM_BUTTON_TEXT,showCancelButton:!0,cancelButtonText:a.a.CANCEL_BUTTON_TEXT,cancelButtonColor:this.RED,allowOutsideClick:!1}).then(e=>{if(e.isConfirmed){const e=new FormData;e.append("signature",this.signFile),this.working=!0,this.crudService.saveData(this.url,e).subscribe(e=>{this.working=!1,this.isReady=!0},e=>{this.working=!1,this.error=a.a.SIGN_ERROR})}})}removeAlert(){this.error=null}getBrowseInputDef(){const e=new s.a;return e.domId="file",e.helpText=null,e.labelText=null,e.isRequired=!0,e}loadDefs(){this.fileDef=this.getBrowseInputDef()}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(h.t),l.Mb(b.a),l.Mb(u.a))},e.\u0275cmp=l.Gb({type:e,selectors:[["app-main-sign-modal"]],viewQuery:function(e,t){var i;1&e&&l.Nc(D,!0),2&e&&l.uc(i=l.fc())&&(t.signModal=i.first)},inputs:{defModel:"defModel",url:"url"},decls:2,vars:0,consts:[["signModal",""],["novalidate","",1,"was-validated"],["form","ngForm"],[1,"modal-header","d-flex","justify-content-between"],[1,"modal-title"],["type","button","class","btn btn-outline-primary mr-2","placement","left","ngbTooltip","\u0418\u0437\u0432\u044a\u0440\u0448\u0432\u0430 \u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",4,"ngIf"],["type","button",1,"btn","btn-outline-danger","ml-auto",3,"disabled","click"],[1,"fas","fa-times"],["class","modal-body",4,"ngIf"],[1,"modal-footer","d-block"],["class","alert alert-danger alert-dismissable mx-0 my-2",4,"ngIf"],["type","button","placement","left","ngbTooltip","\u0418\u0437\u0432\u044a\u0440\u0448\u0432\u0430 \u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",1,"btn","btn-outline-primary","mr-2"],[1,"fas","fa-spinner","fa-spin"],[1,"modal-body"],[3,"disabled"],[1,"mr-2","mb-3"],[1,"d-flex"],[1,"ml-auto"],["role","status",1,"spinner-border",3,"hidden"],["type","button",1,"btn","btn-primary","ml-2","mb-2",3,"click"],[1,"fas","fa-file-download","ml-2","mr-2"],[1,"mr-2"],[1,"d-flex","mb-3"],[1,"col-md-8"],[3,"ngModel","name","formItemDef","showClearBtn","ngModelChange"],["type","button",1,"btn","btn-primary","ml-auto",3,"disabled","click"],[1,"fas","fa-pen-fancy","mr-1"],[1,"alert","alert-danger","alert-dismissable","mx-0","my-2"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"text-success"]],template:function(e,t){1&e&&l.Ec(0,T,13,6,"ng-template",null,0,l.Fc)},directives:[m.D,m.p,m.q,p.u,h.ab,g.a,m.o,m.r],pipes:[f.d],styles:[""]}),e})()},lkLw:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("XDeO"),o=i("fXoL");let n=(()=>{class e{transform(e){return s.a.getSrvModelAsStringDate(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Lb({name:"dateFormat",type:e,pure:!0}),e})()},"mKt/":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));class s{constructor(e){e&&(this.stageId=e.stageId,this.popEknm=e.popEknm,this.distEknm=e.distEknm,this.terCode=e.terCode,this.address=e.address,this.email=e.email,this.fax=e.fax,this.phone=e.phone,this.riosv=e.riosv)}}},mUoA:function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));var s=i("mrSG"),o=i("KQ7d"),n=i("ozDz"),a=i("pLGQ"),r=i("WCP0"),d=i("xMVv"),c=i("SkKo"),l=i("Xh5w"),h=i("ijtn"),b=i("PDnj"),u=i("tr6d"),m=i("hr/U"),p=i("YjFG"),g=i("VN5u"),f=i("B13j"),D=i("Oxe/"),S=i("KdD0"),I=i("01dd");class w{constructor(e){this.crudService=e,this.WvPopularDistrictTeritory="WvPopularDistrictTeritory"}loadWorksheetById(e){return this.crudService.loadById(u.a,u.a.url,e).toPromise()}loadWotDetails(e){return this.crudService.loadByParam(m.a,m.a.urlByWotId,e).toPromise()}loadWot62(e){return this.crudService.loadByParam(g.a,g.a.urlWotId,e).toPromise()}loadWot63(e){return this.crudService.loadByParam(f.a,f.a.urlWotId,e).toPromise()}loadWot64(e){return this.crudService.loadByParam(D.a,D.a.urlWotId,e).toPromise()}loadWotStages(e){return this.crudService.loadByParam(S.a,S.a.urlByWotId,e).toPromise()}loadStageById(e){return this.crudService.loadById(I.a,I.a.url,e).toPromise()}loadOrgById(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.loadOrganization(e);return this.createOrgModel(t)}))}loadOrgByWotId(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.loadWorksheetById(e),i=yield this.loadOrganization(t.ornId);return this.createOrgModel(i)}))}loadContactByCotId(e){return this.crudService.loadById(o.a,o.a.url,e).toPromise()}loadContactsByOrnId(e){return this.crudService.loadByParam(o.a,o.a.urlOrg,e).toPromise()}loadAddressById(e){return this.crudService.loadById(n.a,n.a.url,e).toPromise()}loadRealAddressById(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.crudService.loadById(n.a,n.a.url,e).toPromise(),i=(yield this.loadRealAddressProperties(t.popEknm)).pageContent[0];return this.createRealAddress(t,i)}))}loadAddressByTypeAndId(e,t){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.crudService.loadByParam(n.a,n.a.byOrnAndTypeUrl,t+"/"+e).toPromise();if(i&&i.length>0){const e=(yield this.loadRealAddressProperties(i[0].popEknm)).pageContent[0];return this.createRealAddress(i[0],e)}return new a.a}))}loadAllAddressesByTypeAndId(e,t){return Object(s.a)(this,void 0,void 0,(function*(){const i=[],s=yield this.crudService.loadByParam(n.a,n.a.byOrnAndTypeUrl,t+"/"+e).toPromise();if(s&&s.length>0)for(const e of s){const t=(yield this.loadRealAddressProperties(e.popEknm)).pageContent[0];i.push(this.createRealAddress(e,t))}return i}))}loadAllTrnAddrByTypeAndId(e,t){return this.crudService.loadByParam(n.a,n.a.byOrnAndTypeUrl,t+"/"+e).toPromise()}getRealAddress(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=(yield this.loadRealAddressProperties(e.popEknm)).pageContent[0];return this.createRealAddress(e,t)}))}loadRealAddressProperties(e){return this.crudService.loadByFind(d.a,d.a.publicUrl,{popEknm:e}).toPromise()}loadNom(e,t){return this.crudService.loadByParam(c.a,e,t).toPromise()}loadTcApp64(){return this.crudService.loadByFind(h.a,h.a.publicUrl).toPromise()}loadTcRCodes(){return this.crudService.loadByFind(b.a,b.a.url).toPromise()}loadDocument(e){return this.crudService.loadFile(l.a.url,e).toPromise()}loadEwcByEwc(e){return this.crudService.loadByFind(p.a,p.a.publicUrl,{ewc:e}).toPromise()}loadAttachedDocumentMetaData(e){return this.crudService.loadByParamsInPaging(l.a,l.a.urlWotId,`wotId=${e}&offset=0&size=50`).toPromise()}loadOrganization(e){return Object(s.a)(this,void 0,void 0,(function*(){return yield this.crudService.loadById(r.a,r.a.url,e).toPromise()}))}createOrgModel(e){if("I"===e.indOrEntity){const t=e.name.split(" ");switch(t.length){case 1:e.firstName=t[0];break;case 2:e.firstName=t[0],e.lastName=t[1];break;case 3:e.firstName=t[0],e.midName=t[1],e.lastName=t[2]}}return e}createRealAddress(e,t){const i=new a.a({});return i.trnOrnAddrId=e.id,i.address=e.address,i.email=e.email,i.webpage=e.webpage,i.popEknm=t.popEknm,i.distEknm=t.distEknm,i.terCode=t.terCode,i}}},tY28:function(e,t,i){"use strict";i.d(t,"a",(function(){return Be}));var s=i("mrSG"),o=i("fXoL"),n=i("SkKo"),a=i("WCP0"),r=i("CR6u"),d=i("KQ7d"),c=i("pLGQ"),l=i("cp0P"),h=i("LRne"),b=i("JIr8"),u=i("u1cU"),m=i("+QWa"),p=i("hr/U"),g=i("mKt/"),f=i("Oli9"),D=i("KdD0");class S{constructor(e){e&&(this.basicInfo=e.basicInfo,this.wotId=e.wotId,this.ornId=e.ornId,this.orgAddress=e.orgAddress,this.contact=e.contact,this.contactPersonData=e.contactPersonData,this.mailingAddress=e.mailingAddress,this.mailingAddressData=e.mailingAddressData,this.ewc=e.ewc,this.wasteCode=e.wasteCode,this.wasteDescr=e.wasteDescr,this.riosv=e.riosv,this.isElectronicAcc=e.isElectronicAcc,this.responsibility=e.responsibility,this.isHazardous=e.isHazardous,this.isDangerous1=e.isDangerous1,this.isDangerous2=e.isDangerous2,this.isDangerous3=e.isDangerous3,this.stages=e.stages,this.appThreeF=e.appThreeF,this.appThreeS=e.appThreeS,this.appFour=e.appFour,this.wotDetails=e.wotDetails,this.detailsForDelete=e.detailsForDelete,this.docs=e.docs,this.docsMetaData=e.docsMetaData,this.docsForDelete=e.docsForDelete)}}var I=i("mUoA"),w=i("ROb3"),R=i("dZ/L"),T=i("PSD3"),v=i.n(T),E=i("BsUY"),O=i("+z3G"),C=i("ZRIf"),A=i("tyNb"),y=i("sGcX"),F=i("4XRX"),N=i("3Pt+"),W=i("1kSV"),M=i("d+ck"),x=i("QCcn"),z=i("BXZV"),_=i("LlKj"),j=i("ofXK"),P=i("Bz/w"),k=i("nI3r"),V=i("JNNt"),G=i("TTlI"),L=i("ZOsW"),U=i("RjMn"),H=i("Mtn9"),B=i("sYmb");const q=["acc"],$=["form"],K=["contactApp"],Y=["address"],X=["docsForm"],Z=["actionList"];function J(e,t){1&e&&(o.Sb(0,"h6",29),o.Gc(1),o.hc(2,"translate"),o.Rb()),2&e&&(o.zb(1),o.Ic(" ",o.ic(2,1,"worksheets.wasteClassification.wasteGenerator")," "))}function Q(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-basic-app-info",30,31),o.ec("orgEmitter",(function(t){return o.wc(e),o.gc().setOrganization(t)})),o.Rb()}if(2&e){const e=o.gc();o.mc("model",e.ornView)("isReadonly",!e.isInnerUser||"R"===e.mode)("isInnerUser",e.isInnerUser)}}function ee(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",32),o.Sb(1,"h6",29),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div"),o.Sb(5,"button",33),o.ec("click",(function(){return o.wc(e),o.gc().copyAddress()})),o.Gc(6," \u041a\u043e\u043f\u0438\u0440\u0430\u0439 \u0430\u0434\u0440\u0435\u0441\u0430 "),o.Rb(),o.Sb(7,"button",34),o.Nb(8,"i",35),o.Nb(9,"i",36),o.Rb(),o.Rb(),o.Rb()}if(2&e){o.gc();const e=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,3,"worksheets.wasteClassification.headquarters")," "),o.zb(6),o.mc("hidden",e.isExpanded("headquarters")),o.zb(1),o.mc("hidden",!e.isExpanded("headquarters"))}}function te(e,t){if(1&e&&o.Nb(0,"app-address-form",37),2&e){const e=o.gc();o.mc("isExpanded",!0)("addressData",e.model.orgAddress)("mode",e.mode)}}const ie=function(e){return{"mb-0":e}};function se(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",38),o.Sb(1,"div",39),o.Sb(2,"h6",40),o.Gc(3),o.hc(4,"translate"),o.Rb(),o.Rb(),o.Sb(5,"div",41),o.Sb(6,"app-fi-select-dropdown",42),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.mailingAddress=t}))("valueEmitter",(function(t){return o.wc(e),o.gc().onAddressChanged(t)})),o.Rb(),o.Rb(),o.Sb(7,"button",43),o.Nb(8,"i",35),o.Nb(9,"i",36),o.Rb(),o.Rb()}if(2&e){const e=o.gc(),t=o.vc(4);o.zb(2),o.mc("ngClass",o.qc(11,ie,"R"!==e.mode)),o.zb(1),o.Ic(" ",o.ic(4,9,"applications.wasteEnd.mailingAddress"),""),o.zb(3),o.mc("ngModel",e.model.mailingAddress)("formItemDef",e.formDefs[7])("externalDataItems",e.addresses)("name",e.formDefs[7].domName)("hidden","R"===e.mode),o.zb(2),o.mc("hidden",t.isExpanded("mailing-address")),o.zb(1),o.mc("hidden",!t.isExpanded("mailing-address"))}}function oe(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-address-form",44,45),o.ec("formStatusValidChanged",(function(t){return o.wc(e),o.gc().onAddressValidityChange(t)})),o.Rb()}if(2&e){const e=o.gc();o.mc("isExpanded",!0)("addressData",e.model.mailingAddressData)("mode",e.mode)}}function ne(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",38),o.Sb(1,"div",39),o.Sb(2,"h6",40),o.Gc(3),o.hc(4,"translate"),o.Rb(),o.Rb(),o.Sb(5,"div",41),o.Sb(6,"app-fi-select-dropdown",46),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.contact=t}))("valueEmitter",(function(t){return o.wc(e),o.gc().onContactChanged(t)})),o.Rb(),o.Rb(),o.Sb(7,"button",43),o.Nb(8,"i",35),o.Nb(9,"i",36),o.Rb(),o.Rb()}if(2&e){const e=o.gc(),t=o.vc(4);o.zb(2),o.mc("ngClass",o.qc(11,ie,"R"!==e.mode)),o.zb(1),o.Ic(" ",o.ic(4,9,"worksheets.wasteClassification.orgContacts"),""),o.zb(3),o.mc("ngModel",e.model.contact)("formItemDef",e.formDefs[6])("externalDataItems",e.contacts)("name",e.formDefs[6].domName)("hidden","R"===e.mode),o.zb(2),o.mc("hidden",t.isExpanded("org-contacts")),o.zb(1),o.mc("hidden",!t.isExpanded("org-contacts"))}}function ae(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-contact-person-only-form",47,48),o.ec("formStatusValidChanged",(function(t){return o.wc(e),o.gc().onContactValidityChange(t)})),o.Rb()}if(2&e){const e=o.gc();o.mc("model",e.model.contactPersonData)("mode",e.mode)}}function re(e,t){if(1&e){const e=o.Tb();o.Sb(0,"button",50),o.ec("click",(function(){o.wc(e);const t=o.gc(2),i=o.vc(4);return t.onAddStage(),i.expand("stage")})),o.Nb(1,"i",51),o.Rb()}}function de(e,t){if(1&e&&(o.Sb(0,"div",32),o.Sb(1,"h6",29),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div"),o.Ec(5,re,2,0,"button",49),o.Sb(6,"button",34),o.Nb(7,"i",35),o.Nb(8,"i",36),o.Rb(),o.Rb(),o.Rb()),2&e){const e=o.gc(),t=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,4,"worksheets.wasteClassification.stages")," "),o.zb(3),o.mc("ngIf","R"!==e.mode),o.zb(2),o.mc("hidden",t.isExpanded("stage")),o.zb(1),o.mc("hidden",!t.isExpanded("stage"))}}function ce(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div"),o.Sb(1,"app-wot-stage",53),o.ec("districtChangeEmitter",(function(t){return o.wc(e),o.gc(2).onDistrictChange(t)}))("formStatusValidChanged",(function(i){o.wc(e);const s=t.index;return o.gc(2).onStageValidityChange(i,s)}))("deleteStage",(function(t){return o.wc(e),o.gc(2).onDeleteStage(t)})),o.Rb(),o.Rb()}if(2&e){const e=t.$implicit,i=t.index,s=o.gc(2);o.zb(1),o.mc("riosv",s.model.riosv)("model",e)("wotStages",s.model.stages)("index",i)("mode",s.mode)("isInnerUser",s.isInnerUser)("orn",s.currentOrn)}}function le(e,t){if(1&e&&o.Ec(0,ce,2,7,"div",52),2&e){const e=o.gc();o.mc("ngForOf",e.model.stages)}}function he(e,t){if(1&e&&(o.Sb(0,"div",32),o.Sb(1,"h6",29),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div"),o.Sb(5,"button",34),o.Nb(6,"i",35),o.Nb(7,"i",36),o.Rb(),o.Rb(),o.Rb()),2&e){o.gc();const e=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,3,"worksheets.wasteClassification.wasteDescr")," "),o.zb(4),o.mc("hidden",e.isExpanded("waste-descr")),o.zb(1),o.mc("hidden",!e.isExpanded("waste-descr"))}}function be(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-fi-input-text",26),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.wasteDescr=t})),o.Rb()}if(2&e){const e=o.gc();o.mc("ngModel",e.model.wasteDescr)("formItemDef",e.formDefs[0])("name",e.formDefs[0].domName)}}function ue(e,t){1&e&&(o.Sb(0,"h6",29),o.Gc(1),o.hc(2,"translate"),o.Rb()),2&e&&(o.zb(1),o.Ic(" ",o.ic(2,1,"worksheets.wasteClassification.choice")," "))}function me(e,t){if(1&e&&(o.Sb(0,"div",32),o.Sb(1,"h6",29),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div"),o.Sb(5,"button",34),o.Nb(6,"i",35),o.Nb(7,"i",36),o.Rb(),o.Rb(),o.Rb()),2&e){o.gc();const e=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,3,"worksheets.wasteClassification.wasteCode")," "),o.zb(4),o.mc("hidden",e.isExpanded("waste-code")),o.zb(1),o.mc("hidden",!e.isExpanded("waste-code"))}}function pe(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-fi-select-dropdown",54),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.ewc=t}))("valueEmitter",(function(t){o.wc(e);const i=o.gc(),s=o.vc(4);return i.onWasteCodeSelected(t),s.expand("waste-code-7"),s.expand("waste-code-name")})),o.Rb()}if(2&e){const e=o.gc();o.mc("ngModel",e.model.ewc)("formItemDef",e.formDefs[2])("labelFieldName","label")("valueFieldName","ewc")("name",e.formDefs[2].domName)}}function ge(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",32),o.Sb(1,"h6",29),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div",55),o.Sb(5,"ng-select",56),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.isDangerous1=t}))("change",(function(){return o.wc(e),o.gc().changeWasteClass1()})),o.Rb(),o.Sb(6,"button",34),o.Nb(7,"i",35),o.Nb(8,"i",36),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=o.gc(),t=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,9,"worksheets.wasteClassification.wasteClass1")," "),o.zb(3),o.mc("ngModel",e.model.isDangerous1)("bindLabel","label")("bindValue","value")("clearable",!1)("readonly",!0)("items",e.dangerous),o.zb(2),o.mc("hidden",t.isExpanded("waste-class-1")),o.zb(1),o.mc("hidden",!t.isExpanded("waste-class-1"))}}function fe(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",58),o.Sb(1,"div",59),o.Sb(2,"h6"),o.Gc(3),o.hc(4,"translate"),o.Rb(),o.Rb(),o.Sb(5,"div",60),o.Sb(6,"h6"),o.Gc(7),o.hc(8,"translate"),o.Rb(),o.Sb(9,"app-fi-input-checkbox-group",61),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc(2).model.appThreeF=t}))("check",(function(t){return o.wc(e),o.gc(2).onPropertyCheck(t,"appThreeF")})),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=o.gc(2);o.zb(3),o.Hc(o.ic(4,8,"worksheets.wasteClassification.defineWasteAffiliation1")),o.zb(4),o.Hc(o.ic(8,10,"worksheets.wasteClassification.affiliationDesc")),o.zb(2),o.mc("source",e.appThreeF)("ngModel",e.model.appThreeF)("formItemDef",e.formDefs[3])("name",e.formDefs[3].domName)("labelFieldName","label")("valueFieldName","code")}}function De(e,t){if(1&e&&o.Ec(0,fe,10,12,"div",57),2&e){const e=o.gc();o.mc("ngIf",e.model.isDangerous1)}}function Se(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",32),o.Sb(1,"h6",29),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div",55),o.Sb(5,"ng-select",62),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.isDangerous2=t}))("change",(function(){return o.wc(e),o.gc().changeWasteClass2()})),o.Rb(),o.Sb(6,"button",34),o.Nb(7,"i",35),o.Nb(8,"i",36),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=o.gc(),t=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,9,"worksheets.wasteClassification.wasteClass2")," "),o.zb(3),o.mc("ngModel",e.model.isDangerous2)("bindLabel","label")("bindValue","value")("readonly",!0)("clearable",!1)("items",e.dangerous),o.zb(2),o.mc("hidden",t.isExpanded("waste-class-2")),o.zb(1),o.mc("hidden",!t.isExpanded("waste-class-2"))}}function Ie(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",58),o.Sb(1,"div",59),o.Sb(2,"h6"),o.Gc(3),o.hc(4,"translate"),o.Rb(),o.Rb(),o.Sb(5,"div",60),o.Sb(6,"h6"),o.Gc(7),o.hc(8,"translate"),o.Rb(),o.Sb(9,"app-fi-input-checkbox-group",61),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc(2).model.appThreeS=t}))("check",(function(t){return o.wc(e),o.gc(2).onPropertyCheck(t,"appThreeS")})),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=o.gc(2);o.zb(3),o.Hc(o.ic(4,8,"worksheets.wasteClassification.defineWasteAffiliation2")),o.zb(4),o.Hc(o.ic(8,10,"worksheets.wasteClassification.affiliationDesc")),o.zb(2),o.mc("source",e.appThreeS)("ngModel",e.model.appThreeS)("formItemDef",e.formDefs[4])("name",e.formDefs[4].domName)("labelFieldName","label")("valueFieldName","code")}}function we(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",64),o.Sb(1,"div",59),o.Sb(2,"h6"),o.Gc(3),o.hc(4,"translate"),o.Rb(),o.Rb(),o.Sb(5,"div",60),o.Sb(6,"h6"),o.Gc(7),o.hc(8,"translate"),o.Rb(),o.Sb(9,"app-fi-input-checkbox-group",61),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc(2).model.appFour=t}))("check",(function(t){return o.wc(e),o.gc(2).onPropertyCheck(t,"appFour")})),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=o.gc(2);o.zb(3),o.Hc(o.ic(4,8,"worksheets.wasteClassification.defineWasteAffiliation3")),o.zb(4),o.Hc(o.ic(8,10,"worksheets.wasteClassification.affiliationDesc")),o.zb(2),o.mc("source",e.appFour)("ngModel",e.model.appFour)("formItemDef",e.formDefs[5])("name",e.formDefs[5].domName)("labelFieldName","label")("valueFieldName","code")}}function Re(e,t){if(1&e&&(o.Ec(0,Ie,10,12,"div",57),o.Ec(1,we,10,12,"div",63)),2&e){const e=o.gc();o.mc("ngIf",e.model.isDangerous2),o.zb(1),o.mc("ngIf",e.model.isDangerous2)}}function Te(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",32),o.Sb(1,"h6",29),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div",55),o.Sb(5,"ng-select",65),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().model.isDangerous3=t})),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=o.gc();o.zb(2),o.Ic(" ",o.ic(3,7,"worksheets.wasteClassification.possibleWasteCode")," "),o.zb(3),o.mc("ngModel",e.model.isDangerous3)("bindLabel","label")("bindValue","value")("items",e.dangerous)("readonly",!0)("clearable",!1)}}function ve(e,t){1&e&&(o.Sb(0,"h6",29),o.Gc(1),o.hc(2,"translate"),o.Rb()),2&e&&(o.zb(1),o.Ic(" ",o.ic(2,1,"worksheets.wasteClassification.finalClassification")," "))}function Ee(e,t){1&e&&(o.Sb(0,"div",32),o.Sb(1,"h6",29),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"h6",29),o.Gc(5),o.hc(6,"uppercase"),o.hc(7,"translate"),o.Rb(),o.Rb()),2&e&&(o.zb(2),o.Ic(" ",o.ic(3,2,"worksheets.wasteClassification.wasteCode7")," "),o.zb(3),o.Hc(o.ic(6,4,o.ic(7,6,"worksheets.wasteClassification.thereIsSign"))))}function Oe(e,t){1&e&&(o.Sb(0,"h6"),o.Gc(1,"\u0414\u0410"),o.Rb())}function Ce(e,t){1&e&&(o.Sb(0,"h6"),o.Gc(1,"\u041d\u0415"),o.Rb())}function Ae(e,t){if(1&e&&(o.Sb(0,"div",32),o.Sb(1,"h6"),o.Gc(2),o.Rb(),o.Ec(3,Oe,2,0,"h6",66),o.Ec(4,Ce,2,0,"h6",66),o.Rb()),2&e){const e=o.gc();o.zb(2),o.Hc(null==e.model||null==e.model.wasteCode?null:e.model.wasteCode.ewc),o.zb(1),o.mc("ngIf","*"===(null==e.model.wasteCode?null:e.model.wasteCode.hazardous)),o.zb(1),o.mc("ngIf","*"!==(null==e.model.wasteCode?null:e.model.wasteCode.hazardous))}}function ye(e,t){1&e&&(o.Sb(0,"div",32),o.Sb(1,"h6",29),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Rb()),2&e&&(o.zb(2),o.Ic(" ",o.ic(3,1,"worksheets.wasteClassification.wasteCodeName")," "))}function Fe(e,t){if(1&e&&(o.Sb(0,"h6"),o.Gc(1),o.Rb()),2&e){const e=o.gc();o.zb(1),o.Hc(null==e.model||null==e.model.wasteCode?null:e.model.wasteCode.label)}}function Ne(e,t){1&e&&(o.Sb(0,"div",32),o.Sb(1,"h6",29),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Rb()),2&e&&(o.zb(2),o.Ic(" ",o.ic(3,1,"worksheets.wasteClassification.properties")," "))}function We(e,t){if(1&e&&(o.Sb(0,"h6"),o.Gc(1),o.Rb()),2&e){const e=t.$implicit,i=o.gc(3);o.zb(1),o.Ic(" ",i.getCommonCodeLabelThreeF(e)," ")}}function Me(e,t){if(1&e&&(o.Sb(0,"h6"),o.Gc(1),o.Rb()),2&e){const e=t.$implicit,i=o.gc(3);o.zb(1),o.Ic(" ",i.getCommonCodeLabelThreeS(e)," ")}}function xe(e,t){if(1&e&&(o.Sb(0,"h6"),o.Gc(1),o.Rb()),2&e){const e=t.$implicit,i=o.gc(3);o.zb(1),o.Ic(" ",i.getCommonCodeLabelFour(e)," ")}}function ze(e,t){if(1&e&&(o.Sb(0,"div"),o.Ec(1,We,2,1,"h6",52),o.Ec(2,Me,2,1,"h6",52),o.Ec(3,xe,2,1,"h6",52),o.Rb()),2&e){const e=o.gc(2);o.zb(1),o.mc("ngForOf",e.model.appThreeF),o.zb(1),o.mc("ngForOf",e.model.appThreeS),o.zb(1),o.mc("ngForOf",e.model.appFour)}}function _e(e,t){if(1&e&&o.Ec(0,ze,4,3,"div",66),2&e){const e=o.gc();o.mc("ngIf",e.model.appThreeF||e.model.appThreeS||e.model.appFour)}}function je(e,t){if(1&e){const e=o.Tb();o.Sb(0,"button",50),o.ec("click",(function(){o.wc(e);const t=o.gc(2),i=o.vc(4);return t.onAddDoc(),i.expand("applications")})),o.Nb(1,"i",51),o.Rb()}}function Pe(e,t){if(1&e&&(o.Sb(0,"div",32),o.Sb(1,"h6",29),o.Gc(2),o.hc(3,"translate"),o.Rb(),o.Sb(4,"div"),o.Ec(5,je,2,0,"button",49),o.Sb(6,"button",34),o.Nb(7,"i",35),o.Nb(8,"i",36),o.Rb(),o.Rb(),o.Rb()),2&e){const e=o.gc(),t=o.vc(4);o.zb(2),o.Ic(" ",o.ic(3,4,"worksheets.wasteClassification.applications")," "),o.zb(3),o.mc("ngIf","R"!==e.mode),o.zb(2),o.mc("hidden",t.isExpanded("applications")),o.zb(1),o.mc("hidden",!t.isExpanded("applications"))}}function ke(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",70),o.Sb(1,"div",71),o.Sb(2,"h6",72),o.ec("click",(function(){o.wc(e);const i=t.$implicit;return o.gc(2).downloadFile(i.id,i.fileName)})),o.Gc(3),o.Rb(),o.Rb(),o.Nb(4,"div",73),o.Sb(5,"div",74),o.Sb(6,"button",75),o.ec("click",(function(){o.wc(e);const i=t.$implicit;return o.gc(2).onDeleteDocMetaData(i.id)})),o.Nb(7,"i",76),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=t.$implicit,i=o.gc(2);o.zb(3),o.Ic(" ",e.fileName," "),o.zb(3),o.mc("hidden","R"===i.mode)}}function Ve(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-fi-file-browse",82),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().$implicit.file=t})),o.Rb()}if(2&e){const e=o.gc().$implicit,t=o.gc(2);o.mc("ngModel",e.file)("formItemDef",t.getDocDef(e.index,"D"))("name",t.getDocDef(e.index,"D").domName)("showClearBtn",!1)}}function Ge(e,t){if(1&e){const e=o.Tb();o.Sb(0,"app-fi-file-browse",82),o.ec("ngModelChange",(function(t){return o.wc(e),o.gc().$implicit.signedDoc=t})),o.Rb()}if(2&e){const e=o.gc().$implicit,t=o.gc(2);o.mc("ngModel",e.signedDoc)("formItemDef",t.getDocDef(e.index,"S"))("name",t.getDocDef(e.index,"S").domName)("showClearBtn",!1)}}function Le(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div"),o.Sb(1,"div",70),o.Sb(2,"div",77),o.Sb(3,"div",55),o.Sb(4,"span",78),o.Gc(5),o.Rb(),o.Sb(6,"button",79),o.ec("click",(function(){o.wc(e);const i=t.index;return o.gc(2).onDeleteDoc(i)})),o.Nb(7,"i",76),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(8,"div",70),o.Sb(9,"div",80),o.Ec(10,Ve,1,4,"app-fi-file-browse",81),o.Rb(),o.Sb(11,"div",80),o.Ec(12,Ge,1,4,"app-fi-file-browse",81),o.Rb(),o.Rb(),o.Nb(13,"hr",68),o.Rb()}if(2&e){const e=t.$implicit,i=t.index;o.zb(5),o.Hc(i+1),o.zb(5),o.mc("ngIf",null==e.id),o.zb(2),o.mc("ngIf",null==e.id)}}function Ue(e,t){if(1&e&&(o.Ec(0,ke,8,2,"div",67),o.Nb(1,"hr",68),o.Sb(2,"form",1,69),o.Ec(4,Le,14,3,"div",52),o.Rb()),2&e){const e=o.gc();o.mc("ngForOf",e.model.docsMetaData),o.zb(4),o.mc("ngForOf",e.model.docs)}}const He=function(){return["waste-generator","headquarters","mailing-address","org-contacts","final-classification","waste-code-7","properties","stage","applications","waste-descr","waste-code","waste-class-1","waste-class-2","possible-waste-code"]};let Be=(()=>{class e{constructor(e,t,i,s,n,d){this.defsGenerator=e,this.crudService=t,this.route=i,this.mmSpinnerService=s,this.sessionService=n,this.router=d,this.WOT_DETAIL_TYPE="WOT_DETAIL_TYPE",this.APP_THREE_F="APP_THREE_F",this.APP_THREE_S="APP_THREE_S",this.APP_FOUR="APP_FOUR",this.dangerous=[{label:"\u041d\u0435",value:!1},{label:"\u0414\u0430",value:!0}],this.mode=r.a.READ,this.isInnerUser=!1,this.formValidityChange=new o.n,this.model=new S,this.contacts=[],this.addresses=[],this.formDefs=[],this.wotDetails=[],this.appThreeF=[],this.appThreeS=[],this.appFour=[],this.isActionListReady=!1,this.isActionListSuccess=!1,this.ornView={},this.currentOrn=new a.a,this.mailingAddrValid=!1,this.orgContactValid=!1,this.stagesValid=[],this.formValidStatus="INVALID",this.statusSubscriber=null,this.isFormValid=!1,this.wotLoader=new I.a(t),this.wotSaver=new R.a(t)}ngOnInit(){this.loadDefinitions(),this.loadBasicFormData(),this.handleMode()}ngAfterViewInit(){this.statusSubscriber=this.form.valueChanges.subscribe(e=>{this.formValidStatus!==this.form.status&&(this.formValidStatus=this.form.status,this.setFormValid())}),this.setIsInnerCondition()}ngOnDestroy(){null!=this.statusSubscriber&&this.statusSubscriber.unsubscribe()}onSave(){return Object(s.a)(this,void 0,void 0,(function*(){this.actions=yield this.wotSaver.prepareSaveActionsWot1(this.model),this.actions&&0!==this.actions.length?(this.actionList.actionList=this.actions,this.actionList.open(),this.wotSaver.insertDataWot1(this.model,this.actions).then(e=>{this.isActionListSuccess=e,this.isActionListReady=!0})):v.a.fire({icon:"warning",title:"\u041d\u044f\u043c\u0430 \u0434\u0430\u043d\u043d\u0438 \u0437\u0430 \u0437\u0430\u043f\u0438\u0441!"})}))}onEdit(){return Object(s.a)(this,void 0,void 0,(function*(){this.actions=yield this.wotSaver.prepareUpdateActionsWot1(this.model),this.actions&&0!==this.actions.length?(this.actionList.actionList=this.actions,this.actionList.open(),this.wotSaver.updateDataWot1(this.model,this.actions).then(e=>{this.isActionListSuccess=e,this.isActionListReady=!0})):v.a.fire({icon:"warning",title:"\u041d\u044f\u043c\u0430 \u0434\u0430\u043d\u043d\u0438 \u0437\u0430 \u0440\u0435\u0434\u0430\u043a\u0446\u0438\u044f!"})}))}onCancel(){}onActionListClose(){this.model.wotId&&this.router.navigate(this.isInnerUser?[`${w.a.ADMIN}/${w.a.WORKSPACE}/${w.a.WOT_INTERNAL_WORKER}`,this.type,this.model.wotId]:[`${w.a.WORKSHEETS}/${w.a.WOT_READ}`,this.type,this.model.wotId])}getBasicInfo(e){this.model.basicInfo=e}onAddDoc(){null==this.model.docs&&(this.model.docs=[]),this.model.docs.push({index:Object(m.a)()})}onDeleteDoc(e){null!=this.model.docs&&this.model.docs.splice(e,1)}onDeleteDocMetaData(e){null!=this.model.docsMetaData&&(this.model.docsMetaData=this.model.docsMetaData.filter(t=>t.id!==e),null==this.model.docsForDelete&&(this.model.docsForDelete=[]),this.model.docsForDelete.push(e))}getDocDef(e,t){return this.defsGenerator.getDocumentDef(e,t)}downloadFile(e,t){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.wotLoader.loadDocument(e);Object(u.a)(i,t)}))}onWasteCodeSelected(e){this.model.wasteCode=e,"*"===this.model.wasteCode.hazardous?(this.model.isHazardous=!0,this.model.isDangerous1=this.dangerous[1].value,this.model.isDangerous2=this.dangerous[1].value,this.model.isDangerous3=this.dangerous[1].value,this.acc.expand("waste-class-1"),this.acc.expand("waste-class-2")):(this.model.isHazardous=!1,this.model.isDangerous1=this.dangerous[0].value,this.model.isDangerous2=this.dangerous[0].value,this.model.isDangerous3=this.dangerous[0].value,this.acc.collapse("waste-class-1"),this.acc.collapse("waste-class-2"),this.model.appThreeF=[],this.model.appThreeS=[],this.model.appFour=[],this.deleteDetails())}getCommonCodeLabelThreeF(e){var t;return null===(t=this.appThreeF.find(t=>t.code===e))||void 0===t?void 0:t.label}getCommonCodeLabelThreeS(e){var t;return null===(t=this.appThreeS.find(t=>t.code===e))||void 0===t?void 0:t.label}getCommonCodeLabelFour(e){var t;return null===(t=this.appFour.find(t=>t.code===e))||void 0===t?void 0:t.label}onPropertyCheck(e,t){var i,s,o;this.setFormValid(),this.model.appThreeF&&(null===(i=this.model.appThreeF)||void 0===i?void 0:i.length)||this.model.appThreeS&&(null===(s=this.model.appThreeS)||void 0===s?void 0:s.length)||this.model.appFour&&(null===(o=this.model.appFour)||void 0===o?void 0:o.length)?this.acc.expand("properties"):this.acc.collapse("properties"),this.mngDetails(e,t)}changeWasteClass1(){this.model.isDangerous1?this.acc.expand("waste-class-1"):(this.acc.collapse("waste-class-1"),this.model.appThreeF=[])}changeWasteClass2(){this.model.isDangerous2?this.acc.expand("waste-class-2"):(this.acc.collapse("waste-class-2"),this.model.appThreeS=[],this.model.appFour=[])}setOrganization(e){e&&(this.currentOrn=e,this.model.ornId=this.currentOrn.id,this.ornView.eik="I"===e.indOrEntity?e.egn:e.bulstat,this.ornView.legalEntity=e.name,this.loadWotBasicData())}onAddStage(){null!=this.model.stages&&0!==this.model.stages.length||(this.model.stages=[]),this.model.stages.push(new f.a({object:new g.a,contactPerson:new d.a,relation:new D.a({wotId:this.model.wotId})}))}onDeleteStage(e){null!=this.model.stages&&0!==this.model.stages.length&&(this.model.stages.splice(e,1),this.stagesValid.splice(e,1),this.setFormValid())}onAddressChanged(e){return Object(s.a)(this,void 0,void 0,(function*(){e?(this.model.mailingAddressData=yield this.wotLoader.getRealAddress(e),this.addressForm.disableNonEmptyFields=!0):(this.model.mailingAddressData=new c.a({}),this.addressForm.disableNonEmptyFields=!1)}))}onContactChanged(e){e?(this.model.contactPersonData=e,this.contactForm.disableNonEmptyFields=!0):(this.model.contactPersonData=new d.a({}),this.contactForm.disableNonEmptyFields=!1)}onDistrictChange(e){this.isInnerUser||null!=this.model.riosv&&this.isRiosUseable()||(this.model.riosv=e)}isRiosUseable(){return null!=this.model.stages&&0!==this.model.stages.length&&null!=this.model.stages.find(e=>null!=e.distEknm)}mngDetails(e,t){var i,s;null==this.model.wotDetails&&(this.model.wotDetails=[]);const o=null===(i=null==e?void 0:e.target)||void 0===i?void 0:i.value;if(null===(s=null==e?void 0:e.target)||void 0===s?void 0:s.checked){const e=this.getDetailType(t),i=this.getDetailDescr(o,t);this.model.wotDetails.push(new p.a({wotId:this.model.wotId,wasteCategory:o,isHazardous:"Y",type:e,description:i}))}else{const e=this.model.wotDetails.find(e=>e.wasteCategory===o);e&&(e.id&&this.model.detailsForDelete.push(e.id),this.model.wotDetails=this.model.wotDetails.filter(e=>e.wasteCategory!==o))}}getDetailType(e){let t="";switch(e){case"appThreeF":t="\u0406\u0406\u0406";break;case"appThreeS":t="\u0406V";break;case"appFour":t="V"}return t}getDetailDescr(e,t){let i="";switch(t){case"appThreeF":i=this.appThreeF.find(t=>t.code===e).description;break;case"appThreeS":i=this.appThreeS.find(t=>t.code===e).description;break;case"appFour":i=this.appFour.find(t=>t.code===e).description}return i}loadDefinitions(){this.formDefs=this.defsGenerator.getWasteClassificationDefinitions()}prepareModel(){null==this.model&&(this.model=new S),this.model.orgAddress=new c.a,this.model.mailingAddressData=new c.a,this.model.contactPersonData=new d.a,this.model.stages=[new f.a({object:new g.a,contactPerson:new d.a})],this.model.docs=[],this.model.isHazardous=!1,this.model.isDangerous1=!1,this.model.isDangerous2=!1,this.model.isDangerous3=!1,this.model.appThreeF=[],this.model.appThreeS=[],this.model.appFour=[],this.model.detailsForDelete=[]}setIsInnerCondition(){var e,t;if(this.isInnerUser){const i=this.sessionService.getRole();if(i.name===E.a.RIOSV_MANAGER||i.name===E.a.RIOSV_OFFICER){const i=null===(t=null===(e=this.sessionService.getUserInfo())||void 0===e?void 0:e.rios)||void 0===t?void 0:t.riosCode;this.model.riosv=i}}}handleMode(){switch(this.prepareModel(),this.mode){case r.a.READ:this.disableFields(),this.wotId&&this.loadData(this.wotId);break;case r.a.NEW:this.enableFields(),this.loadWotBasicData();break;case r.a.EDIT:this.enableFields(),this.wotId&&this.loadData(this.wotId)}}disableFields(){this.formDefs.forEach(e=>{e.isDisabled=!0}),this.model.responsibility=!0}enableFields(){this.formDefs.forEach(e=>{e.isDisabled=!1}),this.mode===r.a.NEW&&(this.model.responsibility=!1),this.mode===r.a.EDIT&&(this.model.responsibility=!0)}loadBasicFormData(){Object(l.a)({wotDetails:this.wotLoader.loadNom(n.a.publicUrlDomain,this.WOT_DETAIL_TYPE),appS:this.wotLoader.loadNom(n.a.publicUrlDomain,this.APP_THREE_S),appF:this.wotLoader.loadNom(n.a.publicUrlDomain,this.APP_THREE_F),appFour:this.wotLoader.loadNom(n.a.publicUrlDomain,this.APP_FOUR)}).subscribe(({wotDetails:e,appS:t,appF:i,appFour:s})=>{this.wotDetails=e,this.appThreeS=t,this.appThreeF=i,this.appFour=s})}loadOrganization(){return Object(s.a)(this,void 0,void 0,(function*(){return this.isInnerUser?this.wotId?yield this.wotLoader.loadOrgByWotId(this.wotId):new a.a:this.sessionService.getOrganization()}))}loadWotBasicData(){var e,t,i,o;return Object(s.a)(this,void 0,void 0,(function*(){this.currentOrn&&this.currentOrn.id||(this.currentOrn=yield this.loadOrganization(),this.model.ornId=null===(e=this.currentOrn)||void 0===e?void 0:e.id,this.ornView.eik="I"===this.currentOrn.indOrEntity?this.currentOrn.egn:this.currentOrn.bulstat,this.ornView.legalEntity=this.currentOrn.name),this.currentOrn&&this.currentOrn.id&&(this.mmSpinnerService.showMainModalSpinner(),Object(l.a)({contacts:this.wotLoader.loadContactsByOrnId(null===(t=this.currentOrn)||void 0===t?void 0:t.id),ornAddress:this.wotLoader.loadAddressByTypeAndId("D",null===(i=this.currentOrn)||void 0===i?void 0:i.id),mailingAddresses:this.wotLoader.loadAllTrnAddrByTypeAndId("R",null===(o=this.currentOrn)||void 0===o?void 0:o.id)}).pipe(Object(b.a)(e=>(this.mmSpinnerService.hideMainModalSpinner(),Object(h.a)(e)))).subscribe(({contacts:e,mailingAddresses:t,ornAddress:i})=>{this.contacts=e,this.addresses=t,this.model.orgAddress=i,this.mmSpinnerService.hideMainModalSpinner()}))}))}loadData(e){var t,i;return Object(s.a)(this,void 0,void 0,(function*(){this.currentOrn&&this.currentOrn.id||(this.currentOrn=yield this.loadOrganization(),this.model.ornId=this.currentOrn.id,this.ornView.eik="I"===this.currentOrn.indOrEntity?this.currentOrn.egn:this.currentOrn.bulstat,this.ornView.legalEntity=this.currentOrn.name),this.currentOrn&&this.currentOrn.id&&(this.mode===r.a.EDIT&&this.loadAddressessAndContacts(null===(t=this.currentOrn)||void 0===t?void 0:t.id),this.mmSpinnerService.showMainModalSpinner(),Object(l.a)({ornAddress:this.wotLoader.loadAddressByTypeAndId("D",null===(i=this.currentOrn)||void 0===i?void 0:i.id),wotData:this.wotLoader.loadWorksheetById(e),wotDetails:this.wotLoader.loadWotDetails(e),wotStages:this.wotLoader.loadWotStages(e)}).pipe(Object(b.a)(e=>(this.mmSpinnerService.hideMainModalSpinner(),Object(h.a)(e)))).subscribe(({ornAddress:e,wotData:t,wotDetails:i,wotStages:s})=>{this.model.orgAddress=e,this.populateWotData(t),this.model.wotDetails=i,i&&i.length&&this.populateProps(i),this.loadWotAttachedData(t),this.populateStages(s)}))}))}populateWotData(e){return Object(s.a)(this,void 0,void 0,(function*(){this.model.ornId=e.ornId,this.model.wotId=e.id,this.model.ewc=e.ewc,this.model.wasteCode=(yield this.wotLoader.loadEwcByEwc(e.ewc)).pageContent[0],this.model.wasteDescr=e.wasteDescription,this.model.riosv=e.riosvCode,this.model.isElectronicAcc="Y"===e.isElectronicAcc,this.model.isHazardous="Y"===e.hazardous,this.model.isHazardous?(this.model.isDangerous1=!0,this.model.isDangerous2=!0,this.model.isDangerous3=!0):(this.model.isDangerous1="Y"===e.hazDot1,this.model.isDangerous2="Y"===e.hazDot2,this.model.isDangerous3="Y"===e.hazardous),this.model.wasteCode&&(this.acc.expand("waste-code-7"),this.acc.expand("waste-code-name"))}))}populateProps(e){e.filter(e=>"No"!==e.wasteCategory).forEach(e=>{switch(e.type){case"\u0406\u0406\u0406":this.model.appThreeF.push(e.wasteCategory);break;case"\u0406V":this.model.appThreeS.push(e.wasteCategory);break;case"V":this.model.appFour.push(e.wasteCategory)}}),this.model.appThreeF&&this.model.appThreeF.length&&this.acc.expand("waste-class-1"),(this.model.appThreeS&&this.model.appThreeS.length||this.model.appFour&&this.model.appFour.length)&&this.acc.expand("waste-class-2"),this.acc.expand("properties")}loadAddressessAndContacts(e){Object(l.a)({contacts:this.wotLoader.loadContactsByOrnId(e),mailingAddresses:this.wotLoader.loadAllTrnAddrByTypeAndId("R",e)}).subscribe(({contacts:e,mailingAddresses:t})=>{this.contacts=e,this.addresses=t})}loadWotAttachedData(e){Object(l.a)({contact:this.wotLoader.loadContactByCotId(e.ornCotId),mailingAddress:e.addrId?this.wotLoader.loadAddressById(e.addrId):null,mailingAddressData:e.addrId?this.wotLoader.loadRealAddressById(e.addrId):null,docs:this.wotLoader.loadAttachedDocumentMetaData(e.id)}).pipe(Object(b.a)(e=>(this.mmSpinnerService.hideMainModalSpinner(),Object(h.a)(e)))).subscribe(({contact:e,mailingAddress:t,docs:i})=>{this.model.mailingAddress=t,this.onAddressChanged(t),this.model.contact=e,this.onContactChanged(e),this.model.docsMetaData=null==i?void 0:i.pageContent,this.model.docsMetaData&&this.model.docsMetaData.length&&this.acc.expand("applications"),this.mmSpinnerService.hideMainModalSpinner()})}populateStages(e){null!=e&&0!==e.length&&(this.model.stages=[],e.forEach(e=>{this.model.stages.push(new f.a({relation:e,object:new g.a,contactPerson:new d.a}))}))}onAddressValidityChange(e){this.mailingAddrValid="VALID"===e,this.setFormValid()}onContactValidityChange(e){this.orgContactValid="VALID"===e,this.setFormValid()}onStageValidityChange(e,t){null==this.stagesValid&&(this.stagesValid=[]),this.stagesValid[t]="VALID"===e,this.setFormValid()}setFormValid(){let e=!!this.form&&this.form.valid&&!!this.docsForm&&this.docsForm.valid&&this.mailingAddrValid&&this.orgContactValid&&this.isStagesValid();this.model.isHazardous&&(e=e&&this.isPropsValid()),this.isFormValid!==e&&(this.isFormValid=e,this.formValidityChange.emit(this.isFormValid))}isStagesValid(){if(null==this.model.stages||0===this.model.stages.length)return!1;for(const e of this.stagesValid)if(!e)return!1;return!0}isPropsValid(){return null!=this.model.appThreeF&&this.model.appThreeF.length>0||null!=this.model.appThreeS&&this.model.appThreeS.length>0||null!=this.model.appFour&&this.model.appFour.length>0}deleteDetails(){this.model.wotDetails&&this.model.wotDetails.length&&(this.model.wotDetails.forEach(e=>{e.id&&this.model.detailsForDelete.push(e.id)}),this.model.wotDetails=[])}copyAddress(){this.model.mailingAddressData=new c.a(this.model.orgAddress),this.model.mailingAddressData.trnOrnAddrId=null}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(O.a),o.Mb(C.a),o.Mb(A.a),o.Mb(y.a),o.Mb(F.a),o.Mb(A.c))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-waste-classification"]],viewQuery:function(e,t){var i;1&e&&(o.Nc(q,!0),o.Nc($,!0),o.Nc(K,!0),o.Nc(Y,!0),o.Nc(X,!0),o.Nc(Z,!0)),2&e&&(o.uc(i=o.fc())&&(t.acc=i.first),o.uc(i=o.fc())&&(t.form=i.first),o.uc(i=o.fc())&&(t.contactForm=i.first),o.uc(i=o.fc())&&(t.addressForm=i.first),o.uc(i=o.fc())&&(t.docsForm=i.first),o.uc(i=o.fc())&&(t.actionList=i.first))},inputs:{mode:"mode",type:"type",wotId:"wotId",state:"state",isInnerUser:"isInnerUser"},outputs:{formValidityChange:"formValidityChange"},decls:54,vars:8,consts:[[1,"container-fluid","p-3"],["novalidate","",1,"was-validated"],["form","ngForm"],["id","accordion",3,"destroyOnHide","activeIds"],["acc","ngbAccordion"],["id","waste-generator"],["ngbPanelHeader",""],["id","body","ngbPanelContent","","class","p-0"],["id","headquarters"],["id","mailing-address"],["id","org-contacts"],["ngbPanelContent",""],["id","stage"],["id","waste-descr"],["id","choice"],["id","waste-code"],["id","waste-class-1"],["id","waste-class-2"],["id","possible-waste-code"],["id","final-classification"],["id","waste-code-7"],["id","body","ngbPanelContent",""],["id","waste-code-name"],["id","properties"],["id","applications"],[1,"mt-3"],[3,"ngModel","formItemDef","name","ngModelChange"],[3,"isSuccess","isReady","closeEvent"],["actionList",""],[1,"m-0"],[3,"model","isReadonly","isInnerUser","orgEmitter"],["basicInfo",""],[1,"d-flex","align-items-center","justify-content-between"],[1,"btn","btn-sm","mr-2","btn-outline-secondary",3,"click"],["ngbPanelToggle","",1,"btn","btn-sm","btn-outline-secondary","rounded-circle"],[1,"fas","fa-chevron-right",3,"hidden"],[1,"fas","fa-chevron-down",3,"hidden"],["type","D",3,"isExpanded","addressData","mode"],[1,"d-flex"],[1,"col-lg-3","pl-0"],[1,"mt-2","mb-3","mr-3",3,"ngClass"],[1,"col-lg-5"],["labelFieldName","address",3,"ngModel","formItemDef","externalDataItems","name","hidden","ngModelChange","valueEmitter"],["ngbPanelToggle","",1,"btn","btn-sm","btn-outline-secondary","rounded-circle","ml-auto",2,"height","30px"],[3,"isExpanded","addressData","mode","formStatusValidChanged"],["address",""],["labelFieldName","fullName",3,"ngModel","formItemDef","externalDataItems","name","hidden","ngModelChange","valueEmitter"],[3,"model","mode","formStatusValidChanged"],["contactApp",""],["class","btn btn-sm btn-outline-secondary rounded-circle mr-2","ngbTooltip","\u0414\u043e\u0431\u0430\u0432\u044f \u043d\u043e\u0432 \u0440\u0435\u0434","container","body","placement","top",3,"click",4,"ngIf"],["ngbTooltip","\u0414\u043e\u0431\u0430\u0432\u044f \u043d\u043e\u0432 \u0440\u0435\u0434","container","body","placement","top",1,"btn","btn-sm","btn-outline-secondary","rounded-circle","mr-2",3,"click"],[1,"fas","fa-plus"],[4,"ngFor","ngForOf"],[3,"riosv","model","wotStages","index","mode","isInnerUser","orn","districtChangeEmitter","formStatusValidChanged","deleteStage"],[3,"ngModel","formItemDef","labelFieldName","valueFieldName","name","ngModelChange","valueEmitter"],[1,"d-flex","justify-content-between"],["name","isDangerous","appendTo","body",1,"mr-3",3,"ngModel","bindLabel","bindValue","clearable","readonly","items","ngModelChange","change"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body","pb-0"],[3,"source","ngModel","formItemDef","name","labelFieldName","valueFieldName","ngModelChange","check"],["name","isDangerous","appendTo","body",1,"mr-3",3,"ngModel","bindLabel","bindValue","readonly","clearable","items","ngModelChange","change"],["class","card mt-4",4,"ngIf"],[1,"card","mt-4"],["name","isDangerous","appendTo","body",2,"margin-right","42px",3,"ngModel","bindLabel","bindValue","items","readonly","clearable","ngModelChange"],[4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[1,"border","border-primary"],["docsForm","ngForm"],[1,"row"],[1,"col-md-4"],[1,"doc","alert","alert-primary",3,"click"],[1,"col-md-7"],[1,"col-md-1"],["type","button","ngbTooltip","\u0418\u0437\u0442\u0440\u0438\u0432\u0430 \u0440\u0435\u0434\u0430","container","body","placement","left",1,"btn","btn-outline-secondary","rounded-circle","mt-1","ml-4",3,"hidden","click"],[1,"fas","fa-trash-alt"],[1,"col-lg-12"],[1,"font-weight-bold"],["type","button","ngbTooltip","\u0418\u0437\u0442\u0440\u0438\u0432\u0430 \u0440\u0435\u0434\u0430","container","body","placement","left",1,"btn","btn-sm","btn-outline-secondary","rounded-circle",3,"click"],[1,"col-lg-6"],[3,"ngModel","formItemDef","name","showClearBtn","ngModelChange",4,"ngIf"],[3,"ngModel","formItemDef","name","showClearBtn","ngModelChange"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.Sb(1,"form",1,2),o.Sb(3,"ngb-accordion",3,4),o.Sb(5,"ngb-panel",5),o.Ec(6,J,3,3,"ng-template",6),o.Ec(7,Q,2,3,"ng-template",7),o.Rb(),o.Sb(8,"ngb-panel",8),o.Ec(9,ee,10,5,"ng-template",6),o.Ec(10,te,1,3,"ng-template",7),o.Rb(),o.Sb(11,"ngb-panel",9),o.Ec(12,se,10,13,"ng-template",6),o.Ec(13,oe,2,3,"ng-template",7),o.Rb(),o.Sb(14,"ngb-panel",10),o.Ec(15,ne,10,13,"ng-template",6),o.Ec(16,ae,2,2,"ng-template",11),o.Rb(),o.Sb(17,"ngb-panel",12),o.Ec(18,de,9,6,"ng-template",6),o.Ec(19,le,1,1,"ng-template",7),o.Rb(),o.Sb(20,"ngb-panel",13),o.Ec(21,he,8,5,"ng-template",6),o.Ec(22,be,1,3,"ng-template",7),o.Rb(),o.Sb(23,"ngb-panel",14),o.Ec(24,ue,3,3,"ng-template",6),o.Rb(),o.Sb(25,"ngb-panel",15),o.Ec(26,me,8,5,"ng-template",6),o.Ec(27,pe,1,5,"ng-template",7),o.Rb(),o.Sb(28,"ngb-panel",16),o.Ec(29,ge,9,11,"ng-template",6),o.Ec(30,De,1,1,"ng-template",7),o.Rb(),o.Sb(31,"ngb-panel",17),o.Ec(32,Se,9,11,"ng-template",6),o.Ec(33,Re,2,2,"ng-template",7),o.Rb(),o.Sb(34,"ngb-panel",18),o.Ec(35,Te,6,9,"ng-template",6),o.Rb(),o.Sb(36,"ngb-panel",19),o.Ec(37,ve,3,3,"ng-template",6),o.Rb(),o.Sb(38,"ngb-panel",20),o.Ec(39,Ee,8,8,"ng-template",6),o.Ec(40,Ae,5,3,"ng-template",21),o.Rb(),o.Sb(41,"ngb-panel",22),o.Ec(42,ye,4,3,"ng-template",6),o.Ec(43,Fe,2,1,"ng-template",21),o.Rb(),o.Sb(44,"ngb-panel",23),o.Ec(45,Ne,4,3,"ng-template",6),o.Ec(46,_e,1,1,"ng-template",7),o.Rb(),o.Sb(47,"ngb-panel",24),o.Ec(48,Pe,9,6,"ng-template",6),o.Ec(49,Ue,5,2,"ng-template",7),o.Rb(),o.Rb(),o.Sb(50,"div",25),o.Sb(51,"app-fi-input-checkbox",26),o.ec("ngModelChange",(function(e){return t.model.isElectronicAcc=e})),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(52,"app-action-tasks-list",27,28),o.ec("closeEvent",(function(){return t.onActionListClose()})),o.Rb()),2&e&&(o.zb(3),o.mc("destroyOnHide",!1)("activeIds",o.pc(7,He)),o.zb(48),o.mc("ngModel",t.model.isElectronicAcc)("formItemDef",t.formDefs[1])("name",t.formDefs[1].domName),o.zb(1),o.mc("isSuccess",t.isActionListSuccess)("isReady",t.isActionListReady))},directives:[N.D,N.p,N.q,W.a,W.I,W.K,W.J,M.a,N.o,N.r,x.a,z.a,W.M,_.a,j.r,P.a,k.a,j.u,W.ab,j.t,V.a,G.a,L.a,U.a,H.a],pipes:[B.d,j.I],styles:["[_nghost-%COMP%]     #accordion>div>div.card-header, [_nghost-%COMP%]     #accordion>div>div>div.card-body{padding:.5rem}[_nghost-%COMP%]     #accordion>div>#choice-header.card-header, [_nghost-%COMP%]     #accordion>div>#final-classification-header.card-header, [_nghost-%COMP%]     #accordion>div>#properties-header.card-header, [_nghost-%COMP%]     #accordion>div>#waste-code-7-header.card-header, [_nghost-%COMP%]     #accordion>div>#waste-code-name-header.card-header, [_nghost-%COMP%]     #accordion>div>#waste-generator-header.card-header{padding-top:.8rem;padding-bottom:.8rem}"]}),e})()},tr6d:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("mrSG"),o=i("hnrn"),n=i("XDeO");let a=(()=>{class e{constructor(e){e&&(this.id=e.id,this.ornId=e.ornId,this.ornCotId=e.ornCotId,this.ewc=e.ewc,this.hazardous=e.hazardous,this.wasteDescription=e.wasteDescription,this.dateCreated=n.a.getAnyAsTimestampModel(e.dateCreated),this.userCreated=e.userCreated,this.sdtId=e.sdtId,this.userProcessed=e.userProcessed,this.dateAssigned=n.a.getAnyAsTimestampModel(e.dateAssigned),this.userAssigner=e.userAssigner,this.hazDot1=e.hazDot1,this.hazDot2=e.hazDot2,this.riosvCode=e.riosvCode,this.isElectronicAcc=e.isElectronicAcc,this.dateSubmited=n.a.getAnyAsTimestampModel(e.dateSubmited),this.startDate=n.a.getAnyAsTimestampModel(e.startDate),this.endDate=n.a.getAnyAsTimestampModel(e.endDate),this.opinionNumber=e.opinionNumber,this.opinionDate=n.a.getAnyAsTimestampModel(e.opinionDate),this.dateTermNotification=n.a.getAnyAsTimestampModel(e.dateTermNotification),this.terminationReason=e.terminationReason,this.dateInspection=n.a.getAnyAsTimestampModel(e.dateInspection),this.inspectationResults=e.inspectationResults,this.absenceOfSources=e.absenceOfSources,this.falseDeclAcknowledge=e.falseDeclAcknowledge,this.usrTerm=e.usrTerm,this.stateId=e.stateId,this.regId=e.regId,this.addrId=e.addrId)}get id(){return this.pId}set id(e){this.pId=e}get ornId(){return this.pOrnId}set ornId(e){this.pOrnId=e}get ornCotId(){return this.pOrnCotId}set ornCotId(e){this.pOrnCotId=e}get ewc(){return this.pEwc}set ewc(e){this.pEwc=e}get hazardous(){return this.pHazardous}set hazardous(e){this.pHazardous=e}get wasteDescription(){return this.pWasteDescription}set wasteDescription(e){this.pWasteDescription=e}get dateCreated(){return this.pDateCreated}set dateCreated(e){this.pDateCreated=e}get userCreated(){return this.pUserCreated}set userCreated(e){this.pUserCreated=e}get sdtId(){return this.pSdtId}set sdtId(e){this.pSdtId=e}get userProcessed(){return this.pUserProcessed}set userProcessed(e){this.pUserProcessed=e}get dateAssigned(){return this.pDateAssigned}set dateAssigned(e){this.pDateAssigned=e}get userAssigner(){return this.pUserAssigner}set userAssigner(e){this.pUserAssigner=e}get hazDot1(){return this.pHazDot1}set hazDot1(e){this.pHazDot1=e}get hazDot2(){return this.pHazDot2}set hazDot2(e){this.pHazDot2=e}get riosvCode(){return this.pRiosvCode}set riosvCode(e){this.pRiosvCode=e}get isElectronicAcc(){return this.pIsElectronicAcc}set isElectronicAcc(e){this.pIsElectronicAcc=e}get dateSubmited(){return this.pDateSubmited}set dateSubmited(e){this.pDateSubmited=e}get startDate(){return this.pStartDate}set startDate(e){this.pStartDate=e}get endDate(){return this.pEndDate}set endDate(e){this.pEndDate=e}get opinionNumber(){return this.pOpinionNumber}set opinionNumber(e){this.pOpinionNumber=e}get opinionDate(){return this.pOpinionDate}set opinionDate(e){this.pOpinionDate=e}get dateTermNotification(){return this.pDateTermNotification}set dateTermNotification(e){this.pDateTermNotification=e}get terminationReason(){return this.pTerminationReason}set terminationReason(e){this.pTerminationReason=e}get dateInspection(){return this.pDateInspection}set dateInspection(e){this.pDateInspection=e}get inspectationResults(){return this.pInspectationResults}set inspectationResults(e){this.pInspectationResults=e}get absenceOfSources(){return this.pAbsenceOfSources}set absenceOfSources(e){this.pAbsenceOfSources=e}get falseDeclAcknowledge(){return this.pFalseDeclAcknowledge}set falseDeclAcknowledge(e){this.pFalseDeclAcknowledge=e}get usrTerm(){return this.pUsrTerm}set usrTerm(e){this.pUsrTerm=e}get stateId(){return this.pStateId}set stateId(e){this.pStateId=e}get regId(){return this.pRegId}set regId(e){this.pRegId=e}get addrId(){return this.pAddrId}set addrId(e){this.pAddrId=e}}return e.url="TrnWorksheets",e.urlRemoveSignature="removeSignature",Object(s.b)([Object(o.b)({alias:"id"})],e.prototype,"pId",void 0),Object(s.b)([Object(o.b)({alias:"ornId"})],e.prototype,"pOrnId",void 0),Object(s.b)([Object(o.b)({alias:"ornCotId"})],e.prototype,"pOrnCotId",void 0),Object(s.b)([Object(o.b)({alias:"ewc"})],e.prototype,"pEwc",void 0),Object(s.b)([Object(o.b)({alias:"hazardous"})],e.prototype,"pHazardous",void 0),Object(s.b)([Object(o.b)({alias:"wasteDescription"})],e.prototype,"pWasteDescription",void 0),Object(s.b)([Object(o.b)({alias:"dateCreated"})],e.prototype,"pDateCreated",void 0),Object(s.b)([Object(o.b)({alias:"userCreated"})],e.prototype,"pUserCreated",void 0),Object(s.b)([Object(o.b)({alias:"sdtId"})],e.prototype,"pSdtId",void 0),Object(s.b)([Object(o.b)({alias:"userProcessed"})],e.prototype,"pUserProcessed",void 0),Object(s.b)([Object(o.b)({alias:"dateAssigned"})],e.prototype,"pDateAssigned",void 0),Object(s.b)([Object(o.b)({alias:"userAssigner"})],e.prototype,"pUserAssigner",void 0),Object(s.b)([Object(o.b)({alias:"hazDot1"})],e.prototype,"pHazDot1",void 0),Object(s.b)([Object(o.b)({alias:"hazDot2"})],e.prototype,"pHazDot2",void 0),Object(s.b)([Object(o.b)({alias:"riosvCode"})],e.prototype,"pRiosvCode",void 0),Object(s.b)([Object(o.b)({alias:"isElectronicAcc"})],e.prototype,"pIsElectronicAcc",void 0),Object(s.b)([Object(o.b)({alias:"dateSubmited"})],e.prototype,"pDateSubmited",void 0),Object(s.b)([Object(o.b)({alias:"startDate"})],e.prototype,"pStartDate",void 0),Object(s.b)([Object(o.b)({alias:"endDate"})],e.prototype,"pEndDate",void 0),Object(s.b)([Object(o.b)({alias:"opinionNumber"})],e.prototype,"pOpinionNumber",void 0),Object(s.b)([Object(o.b)({alias:"opinionDate"})],e.prototype,"pOpinionDate",void 0),Object(s.b)([Object(o.b)({alias:"dateTermNotification"})],e.prototype,"pDateTermNotification",void 0),Object(s.b)([Object(o.b)({alias:"terminationReason"})],e.prototype,"pTerminationReason",void 0),Object(s.b)([Object(o.b)({alias:"dateInspection"})],e.prototype,"pDateInspection",void 0),Object(s.b)([Object(o.b)({alias:"inspectationResults"})],e.prototype,"pInspectationResults",void 0),Object(s.b)([Object(o.b)({alias:"absenceOfSources"})],e.prototype,"pAbsenceOfSources",void 0),Object(s.b)([Object(o.b)({alias:"falseDeclAcknowledge"})],e.prototype,"pFalseDeclAcknowledge",void 0),Object(s.b)([Object(o.b)({alias:"usrTerm"})],e.prototype,"pUsrTerm",void 0),Object(s.b)([Object(o.b)({alias:"stateId"})],e.prototype,"pStateId",void 0),Object(s.b)([Object(o.b)({alias:"regId"})],e.prototype,"pRegId",void 0),Object(s.b)([Object(o.b)({alias:"addrId"})],e.prototype,"pAddrId",void 0),e})()}}]);